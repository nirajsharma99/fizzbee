{"version":3,"sources":["components/sidebar/navlist.js","components/hooks/useSpotify.js","components/store/actions/types.js","components/store/actions/app-actions.js","components/store/actions/library-actions.js","components/store/actions/player-actions.js","components/store/actions/spotify-actions.js","components/voice-command/voice-command.js","components/utils/helperFunctions.js","components/sidebar/sidebarTypes/sidebar1.js","components/sidebar/sidebarTypes/sidebar2.js","components/sidebar/sidebar.js","components/hooks/useAuth.js","components/config/spotify.js","components/header.js","components/store/actions/user-actions.js","components/skeletons/skeletonTracks.js","components/templates/track-dropdown.js","components/templates/more-options.js","components/player/buttons.js","components/utils/checkDevice.js","components/routes/track-item.js","components/routes/track-lists.js","components/routes/playlist.js","components/utils/scroll-button.js","components/templates/album.js","components/skeletons/skeletonArtists.js","components/templates/artists.js","components/routes/artist.js","components/routes/album.js","components/sidebar/bottombar/bottombar1.js","components/utils/useClickedOutside.js","components/sidebar/bottombar/bottombar2.js","components/sidebar/bottombar.js","components/templates/homeComponents/newreleases.js","components/templates/song-cards.js","components/skeletons/skeletonSongs.js","components/templates/trackholders.js","components/skeletons/skeletonPlaylist.js","components/templates/homeComponents/featuredPlaylist.js","components/templates/homeComponents/categories.js","components/player/home.js","components/templates/playlist.js","components/player/search-page.js","components/player/search-router.js","components/skeletons/skeletonSPlaylist.js","components/templates/library-playlist.js","components/player/new-playlist-form.js","components/player/library-page.js","components/player/library-router.js","components/player/settings/settingConstants.js","components/player/settings/appearance.js","components/player/settings/font.js","components/player/settings/islandSettings.js","components/player/settings/otherSettings.js","components/player/settings/user.js","components/player/settings.js","components/player/add-to-playlist.js","components/player/shortcuts.js","components/utils/playerStatus.js","components/utils/notibar.js","components/templates/current-playlist.js","components/player/queue.js","components/templates/category-playlist.js","components/routes/category-page.js","components/config/spotifyPlayer.js","components/youtube/youtube.js","components/youtube/components/VideoItem.js","components/youtube/components/VideoList.js","components/youtube/components/VideoDetail.js","components/youtube/youtube-switch.js","components/youtube/components/utube-app.js","components/player/minplayerTypes/player1.js","components/player/minplayerTypes/player2.js","components/player/minplayerTypes/player3.js","components/utils/DoubleClick.js","components/player/nowPlayingSlider/mini-slider-1.js","components/utils/repeat.js","components/player/minplayerTypes/player4.js","components/player/minPlayer.js","components/utils/shuffle.js","components/player/mydevices.js","components/player/nowPlayingSlider/player-slider-1.js","components/player/maxplayertypes/queue-fs.js","components/player/maxplayertypes/fullscreen.js","components/player/maxplayertypes/player1.js","components/player/maxplayertypes/player2.js","components/player/nowPlayingSlider/player-slider-3.js","components/player/maxplayertypes/player3.js","components/player/nowPlayingSlider/player-slider-4.js","components/player/maxplayertypes/player4.js","components/player/maxplayer.js","components/player.js","components/utils/visuals.js","components/windowSize.js","components/homepage.js","components/hooks/useLoadPlayerOnMount.js","components/frontpage.js","App.js","components/store/reducers/libraryReducer.js","components/store/reducers/app-reducer.js","components/store/reducers/playerReducer.js","components/store/reducers/userReducer.js","components/store/reducers/index.js","index.js","components/store/store.js"],"names":["navList","idx","invIdx","icon","title","pathname","undefined","route","dotenv","config","spotify","SpotifyWebApi","clientId","process","useSpotify","token","useSelector","state","player","setAccessToken","SET_PLAYING","SET_SHUFFLE","SET_REPEAT","SET_DEVICE_ID","SET_POSITION","SET_CURRENT","SET_CURRENT_TILE_ID","SET_MUTED","SET_VC_LANG","SET_MIN_TYPE","SET_MAX_TYPE","SET_ISLANDDOUBLE_TYPE","SET_SIDEBAR_TYPE","SET_PLAYER_READY","SET_THEME","SET_LYRICS","SET_FONT","SET_TOKEN","SET_EXPIRES_IN","SET_PREMIUM","SET_PLAYLIST","SET_CURRENT_PLAYLIST","NEW_RELEASES","MY_TOP_TRACKS","SET_FEATURED_PLAYLIST","SET_BOLLYWOOD_HITS","SET_BOLLYWOOD_NEW","SET_CATEGORIES","SET_MY_TOP_ARTISTS","SET_MY_ARTISTS_RECOMMENDATIONS","SET_ARTISTS","SET_USER","SET_MY_DEVICES","SET_NOTIBAR","SET_ALBUM_BG","SET_TRACK_TO_ADD","TOGGLE_ADD_TO_PLAYLIST","TOGGLE_KEYBOARD","TOGGLE_QUEUE","TOGGLE_MY_DEVICES","NEW_RELEASES_TILE","SET_DARKMODE","TOGGLE_COLOR_PALETTE","TOGGLE_HANDEDNESS","setNotibar","msg","type","dispatch","msgType","toggleAddToPlaylist","decision","show","toggleKeyboard","toggleQueue","setCurrentPlaylist","list","setPlaying","playing","setRepeat","repeatMode","setCurrentTileId","id","setExpiresIn","duration","expiresIn","REACT_APP_CLIENT_ID","REACT_APP_API_ENDPOINT","API_ENDPOINT","setSpotifyAccessToken","getNewAccessToken","refreshToken","window","localStorage","getItem","axios","post","then","res","data","access_token","setItem","catch","err","console","log","handlePlayPause","getState","deviceId","pause","device_id","play","playfromlist","index","uris","map","item","push","track","uri","offset","error","handleVolume","volume","setVolume","handleSkipNext","skipToNext","handleSkipPrev","skipToPrevious","getMyPlaylists","get","headers","Authorization","getAlbum","VC","useDispatch","vcLang","useState","animDur","setAnimDur","useSpeechRecognition","transcript","resetTranscript","SpeechRecognition","browserSupportsSpeechRecognition","alert","processSearched","playSong","removeItem","location","href","search","items","body","tracks","name","playSearched","startListening","document","documentElement","style","setProperty","language","stopListening","handleKeyPress","event","target","classList","contains","key","handleKeyUp","useEffect","split","pop","timeoutVC","setTimeout","clearTimeout","addEventListener","removeEventListener","timeoutTranscript","className","onMouseDown","onMouseUp","hidden","x","y","baseFrequency","numOctaves","seed","attributeName","dur","values","repeatCount","in","scale","millisToMinutesAndSeconds","millis","minutes","Math","floor","seconds","toFixed","getColor","imgRef","color","colorThief","ColorThief","img","current","complete","getElementById","background","getColorOnly","getImage","arr","size","length","reduce","smallest","image","height","url","biggest","getCorrectPath","path","currentPath","includes","substring","indexOf","hexToRgb","hex","result","exec","r","parseInt","g","b","handleThemeChange","logOut","getArtistNames","artists","pauseEvent","e","stopPropagation","preventDefault","cancelBubble","returnValue","Sidebar1","activeLink","useLocation","activeCheck","useRouteMatch","toggle","setToggle","option","to","onClick","Sidebar2","user","app","darkMode","Avatar","src","images","alt","display_name","Sidebar","sideBartype","returnSideBar","REACT_APP_AUTH_ENDPOINT","redirectUri","REACT_APP_REDIRECT_URI","loginUrl","join","Header","history","useHistory","getMe","userInfo","res1","following","playlists","goBack","goForward","SkeletonTracks","Array","fill","i","TrackDropDown","closeMenu","isUsers","playlistId","setChanges","currentPlaylist","library","check","album","addToQueue","concat","fontSize","trackToAdd","removeTracksFromPlaylist","prev","changes","open","MoreOptions","ref","callback","trackItemRef","showDropDown","setShowDropDown","handleClickOutside","handleScroll","small","medium","cover","Button","props","children","SmallPlayButton","isCurrent","MediumPlayButton","CoverPlayButton","useCheckDevice","innerWidth","width","setWidth","handleWindowSizeChange","isMobile","TrackItems","useRef","musicItem","tagName","parentNode","handleClick","borderRadius","duration_ms","ListTracks","Playlist","playlist","setPlaylist","setFollowing","currentTileId","match","params","info","owner","getPlaylist","playlist_id","user_id","isFollowingPlaylist","crossOrigin","onLoad","description","followers","total","unfollowPlaylist","followPlaylist","public","ScrollSection","holderRef","scrollP","setScrollP","scrollN","setScrollN","scroll","scrollOffset","scrollLeft","scrollDiff","scrollWidth","clientWidth","trunc","Album","getPath","getColorAlbumTemplate","SkeletonArtists","Artists","listName","scrollTo","top","behavior","boxShadow","getColorArtists","Artist","artist","setArtist","albums","setAlbums","toptracks","setToptracks","related","setRelated","getArtist","getArtistAlbums","limit","getArtistTopTracks","getArtistRelatedArtists","isFollowingArtists","unfollowArtists","followArtists","setAlbum","handlePlayingSong","Bottombar1","UseOutsideAlerter","React","forwardRef","handleFunc","Bottombar2","barRef","invertToggle","setInvertToggle","handleToggle","cancel","onDrag","playerRect","querySelector","getBoundingClientRect","left","right","onTouchStart","onClickCapture","Bottombar","NewReleases","newReleases","bgColor","setBgColor","tile","setTile","SongCards","album_type","getColorSongTemplate","SkeletonSongs","TrackHolders","SkeletonPlaylist","FeaturedPlaylists","message","Categories","categories","routeTo","icons","Home","mytoptracks","myTopArtists","featuredPlaylists","bollywoodHits","bollywoodNew","getPlaylistTracks","fields","getMyTopTracks","getFollowedArtists","followedArtists","getFeaturedPlaylists","country","locale","getCategories","getNewReleases","getMyTopArtists","getMyDevices","availableDevices","devices","mydevices","getHome","Playlists","SearchPage","searchstr","setSearchstr","sartist","setSartist","salbums","setSAlbums","stracks","setStracks","splaylist","setSplaylist","strackoartist","setStrackoartist","searchTracks","searchTracksByArtist","songs","value","onChange","handleSearch","placeholder","SearchRouter","exact","component","SkeletonSPlaylist","LibraryPlaylists","NewPlaylistForm","setShowModal","pname","desc","form","setForm","file","setFile","preview","setPreview","base64file","setBase64File","fileInputRef","fileType","getBase64","cb","reader","FileReader","readAsDataURL","onload","onerror","objectUrl","URL","createObjectURL","revokeObjectURL","pic","files","click","Switch","checked","createPlaylist","uploadCustomPlaylistCoverImage","LibraryPage","myplaylists","setMyplaylists","showModal","LibraryRouter","render","min","type0","type1","type2","type3","max","themes","theme","themeBG","themeBGLite","sideBar","cp","islandConstants","use","Appearance","minplayertype","maxplayertype","colorpalette","JSON","parse","customColor","setCustomColor","pickerRef","handleSelection","setts","inSetts","Object","keys","setMinType","setMaxType","setSideBarType","handleTheme","stringify","setTheme","border","inside","c","display","SelectFont","appFont","font","handleChange","setFont","equalFonts","fontFamily","useStyles","makeStyles","formControl","borderColor","borderWidth","borderStyle","minWidth","justifyContent","paddingRight","select","fontWeight","letterSpacing","backgroundColor","selectIcon","paper","marginTop","paddingTop","paddingBottom","IslandSettings","islandDouble","classes","menuProps","anchorOrigin","vertical","horizontal","transformOrigin","getContentAnchorEl","FormControl","variant","Select","findIndex","MenuProps","MenuItem","OtherSettings","albumBackground","lang","setLang","htmlFor","getLang","setVCLang","UserData","userPic","Settings","AddToPlaylist","atpRef","settings","checkedPlaylists","setCheckedPlaylists","setTrack","closeModal","FormCheckBox","isChecked","getTrack","lists","object","forEach","initCheckboxes","isAddToPlaylistOpen","zIndex","playlistIds","filter","addTracksToPlaylist","KeyboardShortcuts","isKeyboard","PlayerStatus","playerReady","isPremium","closeNotibar","timeout","Notibar","notibar","CurrentPlaylist","maximise","isQueue","scrollIntoView","Queue","CategoryPlaylists","CategoryPage","getPlaylistsForCategory","UseSpotifyPlayer","Spotify","spotifyScript","createElement","head","appendChild","appendSpotifySdkScriptToDOM","lyric","lyrics","backgroundSize","onSpotifyWebPlaybackSDKReady","Player","getOAuthToken","addListener","isShuffle","position_ms","current_track","track_window","paused","shuffle","repeat_mode","position","handleStateChange","ready","setDevice","connect","success","create","baseURL","part","maxResults","VideoItem","video","handleVideoSelect","snippet","thumbnails","VideoList","videos","renderedVideos","videoId","VideoDetail","results","videoSrc","allowFullScreen","SwitchPlatform","utubeMode","handleSwitch","UtubeApp","setVideos","selectedVideo","setSelectedVideo","youtube","q","response","fetchMyData","MinPlayer1","instance","setInstance","pos","setPos","albumPic","artistNames","interval","setInterval","clearInterval","col","viewBox","cx","cy","strokeDasharray","strokeDashoffset","MinPlayer2","skipNext","skipPrevious","albumSM","MinPlayer3","DoubleClick","waitingClick","setWaitingClick","lastClick","setLastClick","timer","timeStamp","onDoubleClick","processClick","detail","onClickHandler","MinSlider1","handleSeeker","seekms","seek","onKeyUp","onTouchEnd","RepeatBtn","repeatType","renderSwitch","MinPlayer4","maxPlayer","island","setIsland","miniRef","maxWidth","handlePlay","getColorpalette","animationPlayState","MinPlayer","minPlayer","minType","ShuffleBtn","setShuffle","MyDevices","hside","handedness","deviceType","device","transferMyPlayback","DevicesLayout","isDevices","PlayerSlider1","QueueFS","setMaximise","FullScreenPlayer","fullS","setFullS","MaxPlayer1","changeVolume","mutePlayer","isMuted","showLyrics","setShowLyrics","handle","useFullScreenHandle","handleQueue","handleFullScreen","exit","enter","listener","webkitIsFullScreen","shortcutListener","code","MaxPlayer2","max1","MaxPlayer3Slider","angle","dragging","start","move","posX","posY","buttons","centerX","centerY","touches","pageX","pageY","deltaY","deltaX","atan2","PI","round","transform","stop","seekTo","setColor","onMouseMove","onTouchMove","MaxPlayer3","PlayerSlider4","setDragging","rotatingAngle","MaxPlayer4","toggleHandedness","MaxPlayer","setMinPlayer","navigateVolume","change","newVolume","setMute","maxType","setUtubeMode","SetVisuals","Suggestion","suggest","setShow","URLSearchParams","Homepage","setRefreshToken","accessToken","pushState","useAuth","setCookieOnUnload","Cookies","set","expires","useLoadPlayerOnMount","padding","Frontpage","selected","setSelected","altt","App","initialState","newReleasesTile","recommendations","rootReducer","combineReducers","action","ProviderComponent","store","createStore","applyMiddleware","thunk","ReactDOM"],"mappings":"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","file":"static/js/main.fbbb3e28.chunk.js","sourcesContent":["const option1 = {\r\n  idx: 1.25,\r\n  invIdx: 0.75,\r\n  icon: 'planet',\r\n  title: 'Home',\r\n  pathname: undefined,\r\n  route: '',\r\n};\r\nconst option2 = {\r\n  idx: 1.75,\r\n  invIdx: 0.25,\r\n  icon: 'search',\r\n  title: 'Search',\r\n  pathname: 'search',\r\n  route: '/search',\r\n};\r\nconst option3 = {\r\n  idx: 2.25,\r\n  invIdx: -0.25,\r\n  icon: 'library',\r\n  title: 'Your library',\r\n  pathname: 'library',\r\n  route: '/library',\r\n};\r\nconst option4 = {\r\n  idx: 2.75,\r\n  invIdx: -0.75,\r\n  icon: 'settings',\r\n  title: 'Settings',\r\n  pathname: 'settings',\r\n  route: '/settings',\r\n};\r\n\r\nexport const navList = [option1, option2, option3, option4];\r\n","import SpotifyWebApi from 'spotify-web-api-node';\r\nimport dotenv from 'dotenv';\r\nimport { useSelector } from 'react-redux';\r\ndotenv.config();\r\nconst { REACT_APP_CLIENT_ID } = process.env;\r\nconst spotify = new SpotifyWebApi({\r\n  clientId: REACT_APP_CLIENT_ID,\r\n});\r\n\r\nfunction useSpotify() {\r\n  const token = useSelector((state) => state.player.token);\r\n  spotify.setAccessToken(token);\r\n  if (!token) return null;\r\n  return spotify;\r\n}\r\n\r\nexport default useSpotify;\r\n","//player reducer\r\n\r\nexport const SET_PLAYING = 'SET_PLAYING';\r\nexport const SET_SHUFFLE = 'SET_SHUFFLE';\r\nexport const SET_REPEAT = 'SET_REPEAT';\r\nexport const SET_DEVICE_ID = 'SET_DEVICE_ID';\r\nexport const SET_POSITION = 'SET_POSITION';\r\nexport const SET_CURRENT = 'SET_CURRENT';\r\nexport const SET_CURRENT_TILE_ID = 'SET_CURRENT_TILE_ID';\r\nexport const SET_NEXT_TRACK = 'SET_NEXT_TRACK';\r\nexport const SET_PREVIOUS_TRACKS = 'SET_PREVIOUS_TRACKS';\r\nexport const SET_MUTED = 'SET_MUTED';\r\nexport const SET_VC_LANG = 'SET_VC_LANG';\r\nexport const SET_MIN_TYPE = 'SET_MIN_TYPE';\r\nexport const SET_MAX_TYPE = 'SET_MAX_TYPE';\r\nexport const SET_ISLANDDOUBLE_TYPE = 'SET_ISLANDDOUBLE_TYPE';\r\nexport const SET_SIDEBAR_TYPE = 'SET_SIDEBAR_TYPE';\r\nexport const SET_PLAYER_READY = 'SET_PLAYER_READY';\r\nexport const SET_THEME = 'SET_THEME';\r\nexport const SET_LYRICS = 'SET_LYRICS';\r\nexport const SET_FONT = 'SET_FONT';\r\nexport const SET_TOKEN = 'SET_TOKEN';\r\nexport const SET_EXPIRES_IN = 'SET_EXPIRES_IN';\r\nexport const SET_PREMIUM = 'SET_PREMIUM';\r\n\r\n//library reducer\r\nexport const SET_PLAYLIST = 'SET_PLAYLIST';\r\nexport const SET_CURRENT_PLAYLIST = 'SET_CURRENT_PLAYLIST';\r\nexport const NEW_RELEASES = 'NEW_RELEASES';\r\nexport const MY_TOP_TRACKS = 'MY_TOP_TRACKS';\r\nexport const SET_FEATURED_PLAYLIST = 'SET_FEATURED_PLAYLIST';\r\nexport const SET_BOLLYWOOD_HITS = 'SET_BOLLYWOOD_HITS';\r\nexport const SET_BOLLYWOOD_NEW = 'SET_BOLLYWOOD_NEW';\r\nexport const SET_CATEGORIES = 'SET_CATEGORIES';\r\nexport const SET_MY_TOP_ARTISTS = 'SET_MY_TOP_ARTISTS';\r\nexport const SET_MY_ARTISTS_RECOMMENDATIONS = 'SET_MY_ARTISTS_RECOMMENDATIONS';\r\nexport const SET_ARTISTS = 'SET_ARTISTS';\r\n\r\n//user reducer\r\nexport const SET_USER = 'SET_USER';\r\nexport const SET_MY_DEVICES = 'SET_MY_DEVICES';\r\n\r\n//app reducer\r\nexport const SET_NOTIBAR = 'SET_NOTIBAR';\r\nexport const SET_ALBUM_BG = 'SET_ALBUM_BG';\r\nexport const SET_TRACK_TO_ADD = 'SET_TRACK_TO_ADD';\r\nexport const TOGGLE_ADD_TO_PLAYLIST = 'TOGGLE_ADD_TO_PLAYLIST';\r\nexport const TOGGLE_KEYBOARD = 'TOGGLE_KEYBOARD';\r\nexport const TOGGLE_QUEUE = 'TOGGLE_QUEUE';\r\nexport const TOGGLE_MY_DEVICES = 'TOGGLE_MY_DEVICES';\r\nexport const NEW_RELEASES_TILE = 'NEW_RELEASES_TILE';\r\nexport const SET_DARKMODE = 'SET_DARKMODE';\r\nexport const TOGGLE_COLOR_PALETTE = 'TOGGLE_COLOR_PALETTE';\r\nexport const TOGGLE_HANDEDNESS = 'TOGGLE_HANDEDNESS';\r\n","import {\r\n  SET_NOTIBAR,\r\n  SET_ALBUM_BG,\r\n  SET_TRACK_TO_ADD,\r\n  TOGGLE_ADD_TO_PLAYLIST,\r\n  TOGGLE_KEYBOARD,\r\n  TOGGLE_QUEUE,\r\n  TOGGLE_MY_DEVICES,\r\n  SET_DARKMODE,\r\n  TOGGLE_COLOR_PALETTE,\r\n  TOGGLE_HANDEDNESS,\r\n} from '../actions/types';\r\n\r\nexport const setNotibar = (msg, type) => (dispatch) => {\r\n  dispatch({\r\n    type: SET_NOTIBAR,\r\n    msg: msg,\r\n    msgType: type,\r\n  });\r\n};\r\n\r\nexport const setTrackToAdd = (track) => (dispatch) => {\r\n  dispatch({\r\n    type: SET_TRACK_TO_ADD,\r\n    trackToAdd: track,\r\n  });\r\n};\r\n\r\nexport const toggleAddToPlaylist = (decision) => (dispatch) => {\r\n  dispatch({\r\n    type: TOGGLE_ADD_TO_PLAYLIST,\r\n    show: decision,\r\n  });\r\n};\r\n\r\nexport const toggleKeyboard = (decision) => (dispatch) => {\r\n  dispatch({ type: TOGGLE_KEYBOARD, show: decision });\r\n};\r\n\r\nexport const toggleMyDevices = (decision) => (dispatch) => {\r\n  dispatch({ type: TOGGLE_MY_DEVICES, show: decision });\r\n};\r\n\r\nexport const toggleQueue = (decision) => (dispatch) => {\r\n  dispatch({ type: TOGGLE_QUEUE, show: decision });\r\n};\r\n\r\nexport const setAlbumBG = (decision) => (dispatch) => {\r\n  dispatch({ type: SET_ALBUM_BG, show: decision });\r\n};\r\n\r\nexport const toggleDarkMode = () => (dispatch, getState) => {\r\n  const darkMode = getState().app.darkMode;\r\n  dispatch({ type: SET_DARKMODE, darkMode: !darkMode });\r\n  window.localStorage.setItem('darkMode', !darkMode);\r\n};\r\n\r\nexport const toggleColorPalette = (decision) => (dispatch) => {\r\n  dispatch({ type: TOGGLE_COLOR_PALETTE, colorpalette: decision });\r\n};\r\n\r\nexport const toggleHandedness = (handedness) => (dispatch) => {\r\n  dispatch({ type: TOGGLE_HANDEDNESS, handedness: handedness });\r\n  window.localStorage.setItem('handedness', handedness);\r\n  dispatch(setNotibar('Switched Handedness!', true));\r\n}","import { SET_PLAYLIST, SET_CURRENT_PLAYLIST } from '../actions/types';\r\n\r\nexport const setPlaylist = (uris) => (dispatch) => {\r\n  dispatch({\r\n    type: SET_PLAYLIST,\r\n    playlist: uris,\r\n  });\r\n};\r\n\r\nexport const setCurrentPlaylist = (list) => (dispatch) => {\r\n  dispatch({\r\n    type: SET_CURRENT_PLAYLIST,\r\n    list: list,\r\n  });\r\n};\r\n","import axios from 'axios';\r\nimport {\r\n  SET_PLAYING,\r\n  SET_SHUFFLE,\r\n  SET_REPEAT,\r\n  SET_DEVICE_ID,\r\n  SET_POSITION,\r\n  SET_CURRENT,\r\n  SET_VC_LANG,\r\n  SET_MIN_TYPE,\r\n  SET_MAX_TYPE,\r\n  SET_PLAYER_READY,\r\n  SET_THEME,\r\n  SET_LYRICS,\r\n  SET_FONT,\r\n  SET_CURRENT_TILE_ID,\r\n  SET_EXPIRES_IN,\r\n  SET_PREMIUM,\r\n  SET_SIDEBAR_TYPE,\r\n  SET_ISLANDDOUBLE_TYPE,\r\n} from '../actions/types';\r\n\r\nexport const setPlaying = (decision) => (dispatch) => {\r\n  dispatch({\r\n    type: SET_PLAYING,\r\n    playing: decision,\r\n  });\r\n};\r\n\r\nexport const handleStateChange = (state) => (dispatch, getState) => {\r\n  const { current, repeatMode, playing, isShuffle, position_ms } =\r\n    getState().player;\r\n  const { current_track } = state?.track_window || {};\r\n  const { paused, shuffle, repeat_mode, position } = state || {};\r\n  if (current?.id != current_track?.id) {\r\n    dispatch({\r\n      type: SET_CURRENT,\r\n      current: current_track,\r\n    });\r\n  }\r\n  if (\r\n    current?.id === current_track?.id &&\r\n    current?.duration_ms != current_track?.duration_ms\r\n  ) {\r\n    dispatch({\r\n      type: SET_CURRENT,\r\n      current: current_track,\r\n    });\r\n  }\r\n\r\n  if (playing !== !paused) {\r\n    dispatch({\r\n      type: SET_PLAYING,\r\n      playing: !paused,\r\n    });\r\n  }\r\n  if (isShuffle !== shuffle) {\r\n    dispatch({\r\n      type: SET_SHUFFLE,\r\n      shuffle: shuffle,\r\n    });\r\n  }\r\n\r\n  if (repeatMode !== repeat_mode) {\r\n    dispatch({\r\n      type: SET_REPEAT,\r\n      repeatMode: repeat_mode,\r\n    });\r\n  }\r\n\r\n  if (position_ms !== position) {\r\n    dispatch({\r\n      type: SET_POSITION,\r\n      position: position,\r\n    });\r\n  }\r\n};\r\n\r\nexport const setRepeat = (decision) => (dispatch) => {\r\n  dispatch({\r\n    type: SET_REPEAT,\r\n    repeatMode: decision,\r\n  });\r\n};\r\n\r\nexport const setDevice = (device_id) => (dispatch) => {\r\n  dispatch({\r\n    type: SET_DEVICE_ID,\r\n    deviceId: device_id,\r\n  });\r\n};\r\n\r\nexport const setPlayerReady = (ready) => (dispatch) => {\r\n  dispatch({ type: SET_PLAYER_READY, playerReady: ready });\r\n};\r\n//set account status (if premium or not)\r\nexport const setIsPremium = (isPremium) => (dispatch) => {\r\n  dispatch({ type: SET_PREMIUM, isPremium: isPremium });\r\n};\r\n\r\nexport const setMinType = (type) => (dispatch) => {\r\n  dispatch({ type: SET_MIN_TYPE, minplayertype: type });\r\n  window.localStorage.setItem('min', type);\r\n};\r\n\r\nexport const setMaxType = (type) => (dispatch) => {\r\n  dispatch({ type: SET_MAX_TYPE, maxplayertype: type });\r\n  window.localStorage.setItem('max', type);\r\n};\r\n\r\nexport const setIslandDouble = (type) => (dispatch) => {\r\n  dispatch({ type: SET_ISLANDDOUBLE_TYPE, islandDouble: type });\r\n  window.localStorage.setItem('islandDouble', type);\r\n};\r\n\r\nexport const setSideBarType = (sideBartype) => (dispatch) => {\r\n  dispatch({ type: SET_SIDEBAR_TYPE, sideBartype: sideBartype });\r\n  window.localStorage.setItem('sideBar', sideBartype);\r\n};\r\n\r\nexport const setTheme = (theme) => (dispatch) => {\r\n  dispatch({ type: SET_THEME, theme: theme });\r\n  window.localStorage.setItem('theme', JSON.stringify(theme));\r\n};\r\n\r\nexport const setVCLang = (lang) => (dispatch) => {\r\n  dispatch({ type: SET_VC_LANG, lang: lang });\r\n};\r\n\r\nexport const setLyrics = (lyric) => (dispatch) => {\r\n  dispatch({ type: SET_LYRICS, lyrics: lyric });\r\n};\r\n\r\nexport const setFont = (font) => (dispatch) => {\r\n  dispatch({ type: SET_FONT, font: font });\r\n};\r\n\r\nexport const setCurrentTileId = (id) => (dispatch) => {\r\n  dispatch({ type: SET_CURRENT_TILE_ID, id: id });\r\n};\r\n\r\nexport const setExpiresIn = (duration) => (dispatch) => {\r\n  dispatch({ type: SET_EXPIRES_IN, expiresIn: duration });\r\n};\r\n","import axios from 'axios';\r\nimport SpotifyWebApi from 'spotify-web-api-node';\r\nimport dotenv from 'dotenv';\r\nimport { setCurrentPlaylist } from './library-actions';\r\nimport { setExpiresIn, setPlaying } from './player-actions';\r\nimport { setNotibar } from './app-actions';\r\nimport {\r\n  SET_MY_DEVICES,\r\n  NEW_RELEASES,\r\n  MY_TOP_TRACKS,\r\n  SET_FEATURED_PLAYLIST,\r\n  SET_BOLLYWOOD_HITS,\r\n  SET_BOLLYWOOD_NEW,\r\n  SET_CATEGORIES,\r\n  SET_MY_TOP_ARTISTS,\r\n  SET_ARTISTS,\r\n  SET_TOKEN,\r\n  SET_MUTED,\r\n} from '../actions/types';\r\n\r\ndotenv.config();\r\nconst { REACT_APP_CLIENT_ID, REACT_APP_API_ENDPOINT } = process.env;\r\nconst spotify = new SpotifyWebApi({\r\n  clientId: REACT_APP_CLIENT_ID,\r\n});\r\nconst API_ENDPOINT = REACT_APP_API_ENDPOINT || '';\r\n\r\nexport const setSpotifyAccessToken = (token) => (dispatch) => {\r\n  dispatch({ type: SET_TOKEN, token: token });\r\n  spotify.setAccessToken(token);\r\n};\r\n\r\nexport const getNewAccessToken = () => (dispatch) => {\r\n  const refreshToken = window.localStorage.getItem('refreshToken');\r\n  if (!refreshToken) return;\r\n  return axios\r\n    .post(`${API_ENDPOINT}/refresh`, { refreshToken })\r\n    .then((res) => {\r\n      //console.log('refresh', res.data);\r\n      const { access_token, expiresIn } = res.data;\r\n      dispatch(setSpotifyAccessToken(access_token));\r\n      window.localStorage.setItem('token', access_token);\r\n      setExpiresIn(expiresIn);\r\n      return access_token;\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const getHome = (token) => (dispatch) => {\r\n  //console.log(token);\r\n  spotify.setAccessToken(token);\r\n  spotify\r\n    .getPlaylistTracks('37i9dQZF1DXd8cOUiye1o2', {\r\n      offset: 1,\r\n      limit: 50,\r\n      fields: 'items',\r\n    })\r\n    .then(function (data) {\r\n      //console.log('bolly new', data.body.items);\r\n      dispatch({\r\n        type: SET_BOLLYWOOD_NEW,\r\n        bollywoodNew: data.body.items,\r\n      });\r\n    })\r\n    .catch((err) => {\r\n      console.log('Something went wrong!', err);\r\n    });\r\n  spotify\r\n    .getMyTopTracks()\r\n    .then((x) => {\r\n      dispatch({\r\n        type: MY_TOP_TRACKS,\r\n        mytoptracks: x.body.items,\r\n      });\r\n    })\r\n    .catch((err) => {\r\n      console.log('Something went wrong!', err);\r\n    });\r\n  spotify\r\n    .getFollowedArtists()\r\n    .then((x) => {\r\n      dispatch({\r\n        type: SET_ARTISTS,\r\n        followedArtists: x.body,\r\n      });\r\n    })\r\n    .catch((err) => console.log(err));\r\n\r\n  spotify\r\n    .getFeaturedPlaylists({\r\n      limit: 20,\r\n      country: 'IN',\r\n      locale: 'en_IN',\r\n    })\r\n    .then(function (data) {\r\n      dispatch({\r\n        type: SET_FEATURED_PLAYLIST,\r\n        featuredPlaylists: data.body,\r\n      });\r\n    })\r\n    .catch((err) => {\r\n      console.log('Something went wrong!', err);\r\n    });\r\n  spotify\r\n    .getCategories({\r\n      limit: 50,\r\n      offset: 0,\r\n      country: 'IN',\r\n    })\r\n    .then(function (data) {\r\n      /*console.log(\r\n          'caetgories:',\r\n          data.body.categories.items.map((x) => x.name + ',')\r\n        );*/\r\n      dispatch({\r\n        type: SET_CATEGORIES,\r\n        categories: data.body.categories,\r\n      });\r\n    })\r\n    .catch((err) => {\r\n      console.log('Something went wrong!', err);\r\n    });\r\n  spotify\r\n    .getPlaylistTracks('37i9dQZF1DX0XUfTFmNBRM', {\r\n      offset: 1,\r\n      limit: 50,\r\n      fields: 'items',\r\n    })\r\n    .then(function (data) {\r\n      //console.log('The playlist contains these tracks', data.body.items);\r\n      dispatch({\r\n        type: SET_BOLLYWOOD_HITS,\r\n        bollywoodHits: data.body.items,\r\n      });\r\n    })\r\n    .catch((err) => {\r\n      console.log('Something went wrong!', err);\r\n    });\r\n\r\n  spotify\r\n    .getNewReleases({ country: 'IN' })\r\n    .then((newReleases) => {\r\n      //console.log('new releases', newReleases.body);\r\n      dispatch({\r\n        type: NEW_RELEASES,\r\n        newReleases: newReleases.body.albums.items,\r\n      });\r\n    })\r\n    .catch((err) => console.log(err));\r\n\r\n  spotify\r\n    .getMyTopArtists({ limit: 50 })\r\n    .then(function (data) {\r\n      dispatch({\r\n        type: SET_MY_TOP_ARTISTS,\r\n        myTopArtists: data.body.items,\r\n      });\r\n    })\r\n    .catch((err) => {\r\n      console.log('Something went wrong!', err);\r\n    });\r\n\r\n  spotify.getMyDevices().then(\r\n    function (data) {\r\n      let availableDevices = data.body.devices;\r\n      //console.log(availableDevices);\r\n      dispatch({\r\n        type: SET_MY_DEVICES,\r\n        mydevices: availableDevices,\r\n      });\r\n    },\r\n    function (err) {\r\n      console.log('Something went wrong!', err);\r\n    }\r\n  );\r\n};\r\n\r\nexport const getMyDevices = () => (dispatch) => {\r\n  spotify.getMyDevices().then(\r\n    function (data) {\r\n      let availableDevices = data.body.devices;\r\n      //console.log(availableDevices);\r\n      dispatch({\r\n        type: SET_MY_DEVICES,\r\n        mydevices: availableDevices,\r\n      });\r\n    },\r\n    function (err) {\r\n      console.log('Something went wrong!', err);\r\n    }\r\n  );\r\n}\r\n\r\nexport const play = (item) => (dispatch, getState) => {\r\n  const deviceId = getState().player.deviceId;\r\n  spotify\r\n    .play({\r\n      uris: [item?.uri],\r\n      device_id: deviceId,\r\n    })\r\n    .then((res) => {\r\n      dispatch(setCurrentPlaylist([item]));\r\n    })\r\n    .catch((err) => console.error(err));\r\n};\r\n\r\nexport const handlePlayPause = () => (dispatch, getState) => {\r\n  const { deviceId, playing } = getState().player;\r\n\r\n  if (playing) {\r\n    spotify\r\n      .pause({ device_id: deviceId })\r\n      .then(() => {\r\n        dispatch(setPlaying(false));\r\n      })\r\n      .catch((err) => console.log(err));\r\n  } else {\r\n    spotify\r\n      .play({ device_id: deviceId })\r\n      .then(() => {\r\n        dispatch(setPlaying(true));\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n};\r\nexport const playfromlist = (index, list) => (dispatch, getState) => {\r\n  const deviceId = getState().player.deviceId;\r\n  let uris = [];\r\n  list.map((item) => uris.push(item.track ? item.track?.uri : item.uri));\r\n  //console.log(uris[index]);\r\n  spotify\r\n    .play({\r\n      uris: uris,\r\n      offset: { uri: uris[index] },\r\n      device_id: deviceId,\r\n    })\r\n    .then((res) => {\r\n      dispatch(setCurrentPlaylist(list));\r\n    })\r\n    .catch((err) => {\r\n      console.error(err);\r\n      dispatch(setNotibar('Unknown Error occurred :(', false))\r\n    });\r\n};\r\n\r\nexport const handleVolume = (volume) => {\r\n  spotify\r\n    .setVolume(volume)\r\n    .then(function () {\r\n      //console.log('changing value');\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const setMute = (isMuted, volume) => (dispatch) => {\r\n  spotify\r\n    .setVolume(!isMuted ? 0 : volume)\r\n    .then(function () {\r\n      dispatch({\r\n        type: SET_MUTED,\r\n        isMuted: !isMuted,\r\n      });\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const handleSkipNext = () => (dispatch, getState) => {\r\n  const deviceId = getState().player.deviceId;\r\n  spotify\r\n    .skipToNext({ device_id: deviceId })\r\n    .then(() => {\r\n      console.log('Playing next..');\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const handleSkipPrev = () => (dispatch, getState) => {\r\n  const deviceId = getState().player.deviceId;\r\n  spotify\r\n    .skipToPrevious({ device_id: deviceId })\r\n    .then(() => {\r\n      console.log('Playing previous song..');\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const getPlaylistSongs = (id) => {\r\n  return spotify\r\n    .getPlaylist(id)\r\n    .then((data) => {\r\n      let list = data?.body?.tracks?.items;\r\n      let uris = [];\r\n      list.map((item) => uris.push(item.track ? item.track?.uri : item.uri));\r\n      //dispatch(setPlaylist(uris));\r\n      return list;\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const getTrack = (id) => {\r\n  return spotify.getTrack(id);\r\n};\r\n\r\nexport const getMyPlaylists = (token) => {\r\n  return axios.get('https://api.spotify.com/v1/me/playlists', {\r\n    headers: {\r\n      Authorization: 'Bearer ' + token,\r\n    },\r\n  });\r\n};\r\n\r\nexport const isFollowingPlaylist = (token, playlist_id, user_id) => {\r\n  return axios.get(\r\n    `https://api.spotify.com/v1/playlists/${playlist_id}/followers/contains?ids=${user_id}`,\r\n    {\r\n      headers: {\r\n        Authorization: 'Bearer ' + token,\r\n      },\r\n    }\r\n  );\r\n};\r\n\r\nexport const getAlbum = (id) => {\r\n  return spotify.getAlbum(id);\r\n};\r\n\r\nexport const transferMyPlayback = (device) => (dispatch) => {\r\n  spotify.transferMyPlayback([device?.id]).then(\r\n    function () {\r\n      console.log('Transfering playback to ' + device.id);\r\n      dispatch(setNotibar(`Transfering playback to ${device.name}`, true));\r\n    },\r\n    function (err) {\r\n      //if the user making the request is non-premium, a 403 FORBIDDEN response code will be returned\r\n      console.log('Something went wrong!', err);\r\n      dispatch(setNotibar(`Error transfering playback`, false));\r\n    }\r\n  );\r\n};\r\n\r\nexport const spotifySearch = (target) => {\r\n  return spotify.search(target, [\r\n    'track',\r\n    'album',\r\n    'playlist',\r\n    'show',\r\n    'artist',\r\n  ]);\r\n};\r\n\r\nexport const searchTracksByArtist = (target) => {\r\n  // Search tracks whose artist's name contains target\r\n  return spotify.searchTracks(`artist:${target}`);\r\n};\r\n\r\nexport const getArtist = (id) => {\r\n  return spotify.getArtist(id);\r\n};\r\nexport const getArtistAlbums = (id) => {\r\n  return spotify.getArtistAlbums(id, { limit: 50 });\r\n};\r\nexport const getArtistTopTracks = (id) => {\r\n  return spotify.getArtistTopTracks(id, 'IN');\r\n};\r\nexport const getArtistRelatedArtists = (id) => {\r\n  return spotify.getArtistRelatedArtists(id);\r\n};\r\nexport const isFollowingArtists = (id) => {\r\n  return spotify.isFollowingArtists(id);\r\n};\r\nexport const followArtists = (id) => {\r\n  return spotify.followArtists([id]);\r\n};\r\nexport const unfollowArtists = (id) => {\r\n  return spotify.unfollowArtists([id]);\r\n};\r\n","import './styling.css';\r\nimport SpeechRecognition, {\r\n  useSpeechRecognition,\r\n} from 'react-speech-recognition';\r\nimport { useEffect, useState } from 'react';\r\nimport useSpotify from '../hooks/useSpotify';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { setNotibar } from '../store/actions/app-actions';\r\nimport { setCurrentPlaylist } from '../store/actions/library-actions';\r\nimport {\r\n  handleSkipNext,\r\n  handleSkipPrev,\r\n} from '../store/actions/spotify-actions';\r\n\r\nfunction VC() {\r\n  const dispatch = useDispatch();\r\n  const { deviceId, vcLang, token } = useSelector((state) => state.player);\r\n  const spotify = useSpotify();\r\n\r\n  const [animDur, setAnimDur] = useState('10s');\r\n\r\n  const { transcript, resetTranscript } = useSpeechRecognition();\r\n  if (!SpeechRecognition.browserSupportsSpeechRecognition()) {\r\n    alert('Voice command not supported');\r\n  }\r\n\r\n  const playSearched = (playSong) => {\r\n    spotify\r\n      .search(playSong, ['track'])\r\n      .then((res) => {\r\n        const { items } = res.body.tracks;\r\n        spotify\r\n          .play({\r\n            uris: [items[0]?.uri],\r\n            device_id: deviceId,\r\n          })\r\n          .then((res) => {\r\n            dispatch(setCurrentPlaylist([items[0]]));\r\n            dispatch(setNotibar(`Playing ${items[0]?.name}..`, true));\r\n            resetTranscript();\r\n          })\r\n          .catch((err) => console.error(err));\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        dispatch(setNotibar('No results :(', false));\r\n      });\r\n  };\r\n\r\n  const skipNext = () => {\r\n    dispatch(handleSkipNext());\r\n  };\r\n\r\n  const skipPrev = () => {\r\n    dispatch(handleSkipPrev());\r\n  };\r\n\r\n  const quit = () => {\r\n    dispatch(setNotibar('good bye :(', true));\r\n    window.localStorage.removeItem('token');\r\n    window.location.href = '/';\r\n  };\r\n\r\n  const processSearched = (playSong) => {\r\n    switch (playSong) {\r\n      case 'next':\r\n        skipNext();\r\n        break;\r\n      case 'previous':\r\n        skipPrev();\r\n        break;\r\n      case 'bye':\r\n        quit();\r\n        break;\r\n\r\n      default:\r\n        playSearched(playSong);\r\n        break;\r\n    }\r\n  };\r\n\r\n  const startListening = () => {\r\n    setAnimDur('1s');\r\n    document.documentElement.style.setProperty('--vc-theme', 'cyan');\r\n    SpeechRecognition.startListening({ language: vcLang });\r\n  };\r\n  const stopListening = () => {\r\n    setAnimDur('10s');\r\n    document.documentElement.style.setProperty('--vc-theme', '#fff');\r\n    SpeechRecognition.stopListening();\r\n  };\r\n  const handleKeyPress = (event) => {\r\n    if (event.target.classList.contains('escapeEvent')) return;\r\n    if (event.key === 'v') {\r\n      startListening();\r\n    }\r\n  };\r\n  const handleKeyUp = (event) => {\r\n    if (event.target.classList.contains('escapeEvent')) return;\r\n    if (event.key === 'f') {\r\n      stopListening();\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!transcript || !token) return;\r\n    const playSong = transcript.split('play').pop();\r\n    console.log(playSong);\r\n    const timeoutVC = setTimeout(() => {\r\n      processSearched(playSong);\r\n    }, 2000);\r\n    return () => {\r\n      clearTimeout(timeoutVC);\r\n    };\r\n  }, [transcript]);\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('keydown', handleKeyPress);\r\n    window.addEventListener('keyup', handleKeyUp);\r\n\r\n    return () => {\r\n      window.removeEventListener('keydown', handleKeyPress);\r\n      window.removeEventListener('keyup', handleKeyUp);\r\n    };\r\n  }, [handleKeyPress]);\r\n\r\n  useEffect(() => {\r\n    if (transcript) {\r\n      const timeoutTranscript = setTimeout(() => {\r\n        resetTranscript();\r\n      }, 10000);\r\n      return () => {\r\n        clearTimeout(timeoutTranscript);\r\n      };\r\n    }\r\n  }, [transcript]);\r\n\r\n  return (\r\n    <div className=\"vc-outer\">\r\n      <button\r\n        className=\"circle t-btn\"\r\n        onMouseDown={startListening}\r\n        onMouseUp={stopListening}\r\n      ></button>\r\n      <svg hidden>\r\n        <filter id=\"wavy\">\r\n          <feTurbulence\r\n            x=\"0\"\r\n            y=\"0\"\r\n            baseFrequency=\"0.009\"\r\n            numOctaves=\"5\"\r\n            seed=\"1\"\r\n          >\r\n            <animate\r\n              attributeName=\"baseFrequency\"\r\n              dur={animDur}\r\n              values=\"0.02;0.005;0.5\"\r\n              repeatCount=\"indefinite\"\r\n            ></animate>\r\n          </feTurbulence>\r\n          <feDisplacementMap in=\"SourceGraphic\" scale=\"5\"></feDisplacementMap>\r\n        </filter>\r\n      </svg>\r\n    </div>\r\n  );\r\n}\r\nexport default VC;\r\n","import ColorThief from '../../../node_modules/colorthief/dist/color-thief.mjs';\r\n\r\nexport function millisToMinutesAndSeconds(millis) {\r\n  var minutes = Math.floor(millis / 60000);\r\n  var seconds = ((millis % 60000) / 1000).toFixed(0);\r\n  return seconds > 59\r\n    ? minutes + 1 + ':00'\r\n    : minutes + ':' + (seconds < 10 ? '0' : '') + seconds;\r\n}\r\n\r\nexport function getColor(id, imgRef, type) {\r\n  if (!id) return;\r\n  const colorThief = new ColorThief();\r\n  const img = imgRef.current;\r\n  var color;\r\n  if (img.complete) {\r\n    color = colorThief.getColor(img);\r\n    if (!id) return;\r\n    switch (type) {\r\n      case 'player':\r\n        document.getElementById(\r\n          id + '3'\r\n        ).style.background = `rgba(${color[0]},${color[1]},${color[2]},0.9)`;\r\n        break;\r\n      case 'playlist':\r\n        if (!document.getElementById(id)) return;\r\n        document.getElementById(\r\n          id\r\n        ).style.background = `linear-gradient(360deg, rgb(${color[0]},${color[1]},${color[2]}), transparent)`;\r\n        break;\r\n      case 'artistPage':\r\n        document.getElementById(\r\n          id + '3'\r\n        ).style.background = `linear-gradient(360deg, rgb(${color[0]},${color[1]},${color[2]}), transparent)`;\r\n        break;\r\n      case 'album':\r\n        document.getElementById(\r\n          id + '4'\r\n        ).style.background = `rgb(${color[0]},${color[1]},${color[2]})`;\r\n        break;\r\n\r\n      default:\r\n        console.log('Get color switch error');\r\n        break;\r\n    }\r\n  } else {\r\n    img.addEventListener('load', function () {\r\n      color = colorThief.getColor(img);\r\n    });\r\n  }\r\n  if (!color) return;\r\n}\r\n\r\nexport function getColorOnly(imgRef) {\r\n  const colorThief = new ColorThief();\r\n  const img = imgRef.current;\r\n  var color;\r\n  if (img.complete) {\r\n    color = colorThief.getColor(img);\r\n  } else {\r\n    img.addEventListener('load', function () {\r\n      color = colorThief.getColor(img);\r\n    });\r\n  }\r\n  if (!color) return;\r\n  else return color;\r\n}\r\n\r\nexport function getColorAlbumTemplate({ id, index }) {\r\n  const colorThief = new ColorThief();\r\n  const img = document.getElementById(id);\r\n  var color;\r\n  if (img.complete) {\r\n    color = colorThief.getColor(img);\r\n  } else {\r\n    img.addEventListener('load', function () {\r\n      color = colorThief.getColor(img);\r\n    });\r\n  }\r\n  document.getElementById(\r\n    id + index\r\n  ).style.background = `rgb(${color[0]},${color[1]},${color[2]})`;\r\n}\r\n\r\nexport function getColorArtists(id, index) {\r\n  const colorThief = new ColorThief();\r\n  const img = document.getElementById(id);\r\n  var color;\r\n  if (img.complete) {\r\n    color = colorThief.getColor(img);\r\n  } else {\r\n    img.addEventListener('load', function () {\r\n      color = colorThief.getColor(img);\r\n    });\r\n  }\r\n  document.getElementById(\r\n    id + index\r\n  ).style.boxShadow = `0 2px 10px rgb(${color[0]},${color[1]},${color[2]})`;\r\n\r\n  document.getElementById(\r\n    id + index\r\n  ).style.background = `rgba(${color[0]},${color[1]},${color[2]})`;\r\n}\r\n\r\nexport const getColorSongTemplate = (id, index, imgRef) => {\r\n  const colorThief = new ColorThief();\r\n  const img = imgRef.current;\r\n  var color;\r\n  if (img.complete) {\r\n    color = colorThief.getColor(img);\r\n  } else {\r\n    img.addEventListener('load', function () {\r\n      color = colorThief.getColor(img);\r\n    });\r\n  }\r\n  document.getElementById(\r\n    id\r\n  ).style.boxShadow = `0 4px 15px rgb(${color[0]},${color[1]},${color[2]})`;\r\n\r\n  document.getElementById(id + index).style.background = `linear-gradient(\r\n      rgba(${color[0]},${color[1]},${color[2]},0.9),\r\n      rgba(${color[0]},${color[1]},${color[2]},0.3)\r\n    )`;\r\n};\r\n\r\nexport const getImage = (arr, size) => {\r\n  if (!arr) return null;\r\n  if (!arr.length) return '/default.png';\r\n  var imageNeeded;\r\n  switch (size) {\r\n    case 'sm':\r\n      imageNeeded = arr?.reduce((smallest, image) => {\r\n        if (image.height < smallest.height) return image;\r\n        return smallest;\r\n      }, arr[0]);\r\n      return imageNeeded?.url;\r\n\r\n    case 'md':\r\n      var secondlargest, largest;\r\n      imageNeeded = arr?.reduce((biggest, image) => {\r\n        if (image.height > biggest.height) {\r\n          secondlargest = image;\r\n          largest = image;\r\n          return largest;\r\n        }\r\n        return biggest;\r\n      }, arr[0]);\r\n      return imageNeeded?.url;\r\n\r\n    case 'lg':\r\n      imageNeeded = arr?.reduce((biggest, image) => {\r\n        if (image.height > biggest.height) return image;\r\n        return biggest;\r\n      }, arr[0]);\r\n      return imageNeeded?.url;\r\n  }\r\n};\r\n\r\n/*export const getImage = (arr, size) => {\r\n  if (!arr) return null;\r\n  if (!arr.length) return 'default.png';\r\n\r\n  switch (size) {\r\n    case 'sm':\r\n      return arr[2]?.url;\r\n\r\n    case 'md':\r\n      return arr[1]?.url;\r\n\r\n    case 'lg':\r\n      return arr[0]?.url;\r\n    default:\r\n      return arr[1]?.url;\r\n  }\r\n};*/\r\n\r\nexport function isEqual(obj1, obj2) {\r\n  if (!obj1 || !obj2) return false;\r\n  var props1 = Object.getOwnPropertyNames(obj1);\r\n  var props2 = Object.getOwnPropertyNames(obj2);\r\n  if (props1.length !== props2.length) {\r\n    return false;\r\n  }\r\n  for (var i = 0; i < props1.length; i++) {\r\n    let val1 = obj1[props1[i]];\r\n    let val2 = obj2[props1[i]];\r\n    let isObjects = isObject(val1) && isObject(val2);\r\n    if ((isObjects && !isEqual(val1, val2)) || (!isObjects && val1 !== val2)) {\r\n      return false;\r\n    }\r\n  }\r\n  return true;\r\n}\r\nfunction isObject(object) {\r\n  return object != null && typeof object === 'object';\r\n}\r\n\r\nexport function getCorrectPath(path) {\r\n  const forHome = ['artist', 'album', 'playlist', 'category'];\r\n  const currentPath = path.split('/')[2];\r\n  const isHomePath = forHome.includes(currentPath);\r\n  var pathCheck;\r\n  if (isHomePath) {\r\n    pathCheck = currentPath\r\n      ? path.substring('/', path.indexOf(currentPath) - 1)\r\n      : path;\r\n  } else {\r\n    pathCheck = path.split('/')[3]\r\n      ? path.substring('/', path.indexOf(path.split('/')[3]) - 1)\r\n      : path;\r\n  }\r\n\r\n  return pathCheck;\r\n}\r\n\r\nexport function hexToRgb(hex) {\r\n  var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\r\n  return result\r\n    ? {\r\n      r: parseInt(result[1], 16),\r\n      g: parseInt(result[2], 16),\r\n      b: parseInt(result[3], 16),\r\n    }\r\n    : null;\r\n}\r\n\r\nexport function handleThemeChange(hex) {\r\n  const color = hexToRgb(hex);\r\n  if (color) {\r\n    document.documentElement.style.setProperty(\r\n      '--main-theme',\r\n      `rgba(${color.r}, ${color.g}, ${color.b}, 0.9)`\r\n    );\r\n    document.documentElement.style.setProperty(\r\n      '--main-theme-bg',\r\n      `rgba(${color.r}, ${color.g}, ${color.b}, 0.75)`\r\n    );\r\n    document.documentElement.style.setProperty(\r\n      '--main-theme-bg-lite',\r\n      `rgba(${color.r}, ${color.g}, ${color.b}, 0.1)`\r\n    );\r\n  }\r\n}\r\n\r\nexport function logOut() {\r\n  window.localStorage.removeItem('token');\r\n  window.localStorage.removeItem('deviceId');\r\n  window.localStorage.removeItem('refreshToken');\r\n  window.location.href = '/';\r\n}\r\n\r\nexport function getArtistNames(artists) {\r\n  if (!artists) return;\r\n  let names = artists.map(\r\n    (item, index) => (index ? ', ' : '') + item.name\r\n  );\r\n  return names;\r\n}\r\n\r\nexport function pauseEvent(e) {\r\n  if (e.stopPropagation) e.stopPropagation();\r\n  if (e.preventDefault) e.preventDefault();\r\n  e.cancelBubble = true;\r\n  e.returnValue = false;\r\n  return false;\r\n}\r\n","import '../../styling/routes.css';\r\nimport { navList } from '../navlist';\r\nimport { useState } from 'react';\r\nimport { NavLink, useLocation, useRouteMatch } from 'react-router-dom';\r\nimport VC from '../../voice-command/voice-command';\r\nimport { logOut } from '../../utils/helperFunctions';\r\n\r\nfunction Sidebar1() {\r\n    const location = useLocation();\r\n    const activeLink = location.pathname.split('/')[2];\r\n    const forHome = ['artist', 'album', 'playlist', 'category'];\r\n    const activeCheck = forHome.includes(activeLink) ? undefined : activeLink;\r\n    const { url } = useRouteMatch();\r\n    const [toggle, setToggle] = useState(false);\r\n\r\n    return (\r\n        <div className={'navigation ' + (toggle ? 'active' : '')}>\r\n            <ul><VC /></ul>\r\n            <ul>\r\n                {navList.map((option, index) => (\r\n                    <NavLink\r\n                        key={index}\r\n                        className=\"text-decoration-none\"\r\n                        to={{ pathname: `${url}${option.route}` }}\r\n                    >\r\n                        <li\r\n                            className={\r\n                                'list ' + (activeCheck === option.pathname ? 'active' : '')\r\n                            }\r\n                        >\r\n                            <b></b>\r\n                            <b></b>\r\n                            <button>\r\n                                <span className=\"icon\">\r\n                                    <ion-icon name={option.icon}></ion-icon>\r\n                                </span>\r\n                                <span className=\"title\">{option.title}</span>\r\n                            </button>\r\n                        </li>\r\n                    </NavLink>\r\n                ))}\r\n            </ul>\r\n            <ul>\r\n                <li className={'list '} onClick={logOut}>\r\n                    <button className=\"l-out\">\r\n                        <span className=\"icon\">\r\n                            <ion-icon name=\"log-out-outline\"></ion-icon>\r\n                        </span>\r\n                        <span className=\"title\">Sign Out</span>\r\n                    </button>\r\n                </li>\r\n                <li>\r\n                    <button\r\n                        className={'toggle ' + (toggle ? 'text-start' : 'text-center')}\r\n                        onClick={() => setToggle(!toggle)}\r\n                    >\r\n                        <span className=\"toggle-icon\">\r\n                            <ion-icon\r\n                                name={toggle ? 'chevron-back-outline' : 'chevron-forward-outline'}\r\n                            ></ion-icon>\r\n                        </span>\r\n                    </button>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    );\r\n}\r\nexport default Sidebar1;\r\n","import '../../styling/routes.css';\r\nimport { navList } from '../navlist';\r\nimport { Avatar } from '@material-ui/core';\r\nimport { useState } from 'react';\r\nimport { NavLink, useLocation, useRouteMatch } from 'react-router-dom';\r\nimport VC from '../../voice-command/voice-command';\r\nimport { logOut } from '../../utils/helperFunctions';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nfunction Sidebar2() {\r\n    const { user } = useSelector((state) => state.user);\r\n    const { darkMode } = useSelector((state) => state.app);\r\n    const location = useLocation();\r\n    const activeLink = location.pathname.split('/')[2];\r\n    const forHome = ['artist', 'album', 'playlist', 'category'];\r\n    const activeCheck = forHome.includes(activeLink) ? undefined : activeLink;\r\n    const { url } = useRouteMatch();\r\n    const [toggle, setToggle] = useState(false);\r\n\r\n    return (\r\n        <div className={'navigation-2 ' + (toggle ? 'active' : '')}>\r\n            <ul >\r\n                <div className=\"user-pic\">\r\n                    <Avatar src={user?.images[0]?.url} alt={user?.display_name} />\r\n                    <span className='section-heading mt-3' hidden={!toggle}>{user?.display_name}</span>\r\n                </div>\r\n            </ul>\r\n            <ul>\r\n                {navList.map((option, index) => (\r\n                    <NavLink\r\n                        key={index}\r\n                        className=\"text-decoration-none\"\r\n                        to={{ pathname: `${url}${option.route}` }}\r\n                    >\r\n                        <li\r\n                            className={\r\n                                'nav-list ' + (activeCheck === option.pathname ? 'active' : '')\r\n                            }\r\n                        >\r\n                            <bl></bl>\r\n                            <button>\r\n                                <span className=\"icon\">\r\n                                    <ion-icon name={option.icon}></ion-icon>\r\n                                </span>\r\n                                <span className=\"title\">{option.title}</span>\r\n                            </button>\r\n                        </li>\r\n                    </NavLink>\r\n                ))}\r\n            </ul>\r\n            <ul>\r\n                <li className={'list '} onClick={logOut}>\r\n                    <button className=\"l-out\">\r\n                        <span className=\"icon\">\r\n                            <ion-icon name=\"log-out-outline\"></ion-icon>\r\n                        </span>\r\n                        <span className=\"title\">Sign Out</span>\r\n                    </button>\r\n                </li>\r\n                <li>\r\n                    <button\r\n                        className={'toggle ' + (toggle ? 'text-start' : 'text-center')}\r\n                        onClick={() => setToggle(!toggle)}\r\n                    >\r\n                        <span className=\"toggle-icon\">\r\n                            <ion-icon\r\n                                name={toggle ? 'chevron-back-outline' : 'chevron-forward-outline'}\r\n                            ></ion-icon>\r\n                        </span>\r\n                    </button>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    );\r\n}\r\nexport default Sidebar2;\r\n","import '../styling/routes.css';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Sidebar1 from './sidebarTypes/sidebar1';\r\nimport Sidebar2 from './sidebarTypes/sidebar2';\r\n\r\nfunction Sidebar() {\r\n  const { sideBartype } = useSelector((state) => state.player);\r\n\r\n  const returnSideBar = () => {\r\n    switch (sideBartype) {\r\n      case 0:\r\n        return (<Sidebar1 />);\r\n      case 1:\r\n        return (<Sidebar2 />);\r\n      default:\r\n        console.log('Error');\r\n        break;\r\n    }\r\n  }\r\n  return (\r\n    <>{returnSideBar()}</>\r\n  );\r\n}\r\nexport default Sidebar;\r\n","import { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport dotenv from 'dotenv';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { setSpotifyAccessToken } from '../store/actions/spotify-actions';\r\nimport { setExpiresIn } from '../store/actions/player-actions';\r\ndotenv.config();\r\nconst { REACT_APP_API_ENDPOINT } = process.env;\r\n\r\nexport const useAuth = (code) => {\r\n  const dispatch = useDispatch();\r\n  const API_ENDPOINT = REACT_APP_API_ENDPOINT || '';\r\n  const [accessToken, setAccessToken] = useState();\r\n  const [refreshToken, setRefreshToken] = useState();\r\n  const expiresIn = useSelector((state) => state.player.expiresIn);\r\n  //console.log('useAuth');\r\n  useEffect(() => {\r\n    if (code) {\r\n      axios\r\n        .post(`${API_ENDPOINT}/login`, { code })\r\n        .then((res) => {\r\n          const { accessToken, refreshToken, expiresIn } = res.data;\r\n          setAccessToken(accessToken);\r\n          setRefreshToken(refreshToken);\r\n          dispatch(setExpiresIn(expiresIn));\r\n          dispatch(setSpotifyAccessToken(accessToken));\r\n          window.localStorage.setItem('token', accessToken);\r\n          window.localStorage.setItem('refreshToken', refreshToken);\r\n          window.history.pushState({}, null, '/app');\r\n        })\r\n        .catch((err) => /*(window.location = '/')*/ console.log(err));\r\n    }\r\n  }, [code]);\r\n\r\n  useEffect(() => {\r\n    if (!refreshToken && !expiresIn) return;\r\n    const interval = setInterval(() => {\r\n      axios\r\n        .post(`${API_ENDPOINT}/refresh`, { refreshToken })\r\n        .then((res) => {\r\n          //console.log('refresh', res.data);\r\n          const { access_token, expiresIn } = res.data;\r\n          setAccessToken(access_token);\r\n          dispatch(setSpotifyAccessToken(access_token));\r\n          window.localStorage.setItem('token', access_token);\r\n          dispatch(setExpiresIn(expiresIn));\r\n        })\r\n        .catch((err) => console.log(err));\r\n    }, (expiresIn - 60) * 1000);\r\n    return () => clearInterval(interval);\r\n  }, [refreshToken, expiresIn]);\r\n\r\n  return null;\r\n};\r\n","import dotenv from 'dotenv';\r\ndotenv.config();\r\n\r\nconst { REACT_APP_AUTH_ENDPOINT, REACT_APP_REDIRECT_URI, REACT_APP_CLIENT_ID } =\r\n  process.env;\r\n\r\nexport const authEndpoint = REACT_APP_AUTH_ENDPOINT;\r\nconst redirectUri = REACT_APP_REDIRECT_URI;\r\nconst clientId = REACT_APP_CLIENT_ID;\r\n\r\nconst scopes = [\r\n  'user-read-currently-playing',\r\n  'user-read-recently-played',\r\n  'user-read-playback-state',\r\n  'user-modify-playback-state',\r\n  'user-read-playback-position',\r\n  'user-top-read',\r\n  'user-library-read',\r\n  'user-library-modify',\r\n  'ugc-image-upload',\r\n  'user-follow-read',\r\n  'user-follow-modify',\r\n  'playlist-modify-public',\r\n  'playlist-modify-private',\r\n  'playlist-read-private',\r\n  'playlist-read-collaborative',\r\n  'streaming',\r\n  'user-read-private',\r\n  'user-read-email',\r\n];\r\n\r\n/*export const getTokenFromUrl = () => {\r\n  return window.location.hash\r\n    .substring(1)\r\n    .split('&')\r\n    .reduce((initial, item) => {\r\n      let parts = item.split('=');\r\n      initial[parts[0]] = decodeURIComponent(parts[1]);\r\n      return initial;\r\n    }, {});\r\n};*/\r\n\r\nexport const loginUrl = `${authEndpoint}?client_id=${clientId}&redirect_uri=${redirectUri}&scope=${scopes.join(\r\n  '%20'\r\n)}&response_type=code&show_dialog=true`;\r\n","import { loginUrl } from './config/spotify';\r\nimport { Avatar } from '@material-ui/core';\r\nimport NavigateBeforeIcon from '@material-ui/icons/NavigateBefore';\r\nimport NavigateNextIcon from '@material-ui/icons/NavigateNext';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport useSpotify from './hooks/useSpotify';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { setUser } from './store/actions/user-actions';\r\n\r\nfunction Header() {\r\n  const dispatch = useDispatch();\r\n  const { user } = useSelector((state) => state.user);\r\n  const { token } = useSelector((state) => state.player);\r\n  const history = useHistory();\r\n  const spotify = useSpotify();\r\n  const headers = {\r\n    Authorization: `Bearer ${token}`,\r\n    'Content-Type': 'application/json',\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (token) {\r\n      spotify\r\n        .getMe()\r\n        .then((user) => {\r\n          var userInfo = user.body;\r\n          axios\r\n            .get('https://api.spotify.com/v1/me/following?type=artist', {\r\n              headers,\r\n            })\r\n            .then((res1) => {\r\n              axios\r\n                .get('https://api.spotify.com/v1/me/playlists', { headers })\r\n                .then((res) => {\r\n                  userInfo.following = res1?.data.artists.items.length;\r\n                  userInfo.playlists = res?.data.items.length;\r\n                  dispatch(setUser(userInfo));\r\n                })\r\n                .catch((err) => console.log(err));\r\n            })\r\n            .catch((err) => console.log(err));\r\n        })\r\n        .catch(function (err) {\r\n          //if the user making the request is non-premium, a 403 FORBIDDEN response code will be returned\r\n          console.log('Something went wrong!', err);\r\n        });\r\n    }\r\n  }, [token]);\r\n  const goBack = () => {\r\n    history.goBack();\r\n  };\r\n  const goForward = () => {\r\n    history.goForward();\r\n  };\r\n  return (\r\n    <div className=\"header\">\r\n      <div className=\"navi-link\">\r\n        <button className=\"nav-btn me-2\" onClick={goBack}>\r\n          <NavigateBeforeIcon />\r\n        </button>\r\n        <button className=\"nav-btn\" onClick={goForward}>\r\n          <NavigateNextIcon />\r\n        </button>\r\n      </div>\r\n      {!user ? (\r\n        <div>\r\n          <a href={loginUrl} className=\"login-btn\">\r\n            <ion-icon name=\"log-in-outline\"></ion-icon>\r\n          </a>\r\n        </div>\r\n      ) : (\r\n        <div className=\"log\">\r\n          <div className=\"loggedData font-1\">\r\n            <Avatar src={user?.images[0]?.url} alt={user?.display_name} />\r\n            <span>{user?.display_name}</span>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\nexport default Header;\r\n","import { SET_MY_DEVICES, SET_USER } from '../actions/types';\r\n\r\nexport const setUser = (data) => (dispatch) => {\r\n  dispatch({ type: SET_USER, user: data });\r\n};\r\n","function SkeletonTracks() {\r\n  return (\r\n    <div>\r\n      {Array(10)\r\n        .fill()\r\n        .map((x, i) => (\r\n          <div key={i} className=\"skeleton-t-container\">\r\n            <div className=\"skeleton-p-tracks-pic\">\r\n              <div className=\"track-pic shimmer\"></div>\r\n            </div>\r\n            <div className=\"skeleton-p-tracks-info\">\r\n              <span className=\"skeleton-heading-2 shimmer mb-2\"></span>\r\n              <span className=\"skeleton-text-2 shimmer\"></span>\r\n            </div>\r\n            <div className=\"skeleton-p-tracks-album\">\r\n              <span className=\"skeleton-text-2 shimmer w-50\"></span>\r\n            </div>\r\n            <div className=\"skeleton-p-tracks-btn\">\r\n              <div className=\"skeleton-btn shimmer\"></div>\r\n              <div className=\"skeleton-btn shimmer\"></div>\r\n            </div>\r\n          </div>\r\n        ))}\r\n    </div>\r\n  );\r\n}\r\nexport default SkeletonTracks;\r\n","import PlaylistAddIcon from '@material-ui/icons/PlaylistAdd';\r\nimport QueueMusicIcon from '@material-ui/icons/QueueMusic';\r\nimport LaunchIcon from '@material-ui/icons/Launch';\r\nimport DeleteForeverTwoToneIcon from '@material-ui/icons/DeleteForeverTwoTone';\r\nimport useSpotify from '../hooks/useSpotify';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { setCurrentPlaylist } from '../store/actions/library-actions';\r\nimport {\r\n  setNotibar,\r\n  setTrackToAdd,\r\n  toggleAddToPlaylist,\r\n} from '../store/actions/app-actions';\r\n\r\nfunction TrackDropDown({ item, closeMenu, isUsers, playlistId, setChanges }) {\r\n  const { currentPlaylist } = useSelector((state) => state.library);\r\n  const { token } = useSelector((state) => state.player);\r\n  const dispatch = useDispatch();\r\n  const spotify = useSpotify();\r\n  const check = item?.album ? item : item?.track;\r\n\r\n  const addToQueue = (uri) => {\r\n    //console.log(uri);\r\n    if (!token) return;\r\n    spotify\r\n      .addToQueue(uri)\r\n      .then(() => {\r\n        var list = currentPlaylist;\r\n        dispatch(setNotibar('Added to Queue :)', true));\r\n        dispatch(setCurrentPlaylist((list = list.concat(item))));\r\n        closeMenu();\r\n      })\r\n      .catch((err) => console.log(err));\r\n\r\n    /*axios.post({\r\n          method: 'post',\r\n          url: `https://api.spotify.com/v1/me/player/queue?uri=${uri}`,\r\n          headers: { Authorization: `Bearer ${accessToken}` },\r\n        })\r\n          .then((res) => console.log(res.data))\r\n          .catch((err) => console.log(err));*/\r\n  };\r\n\r\n  const openInSpotify = (e) => {\r\n    window.open(\r\n      `https://open.spotify.com/track/${check.id}`,\r\n      '_blank' // <- This is what makes it open in a new window.\r\n    );\r\n    closeMenu();\r\n    e.stopPropagation();\r\n  };\r\n\r\n  const handleAddToPlaylist = (e) => {\r\n    dispatch(setTrackToAdd(check));\r\n    dispatch(toggleAddToPlaylist(true));\r\n    closeMenu();\r\n    e.stopPropagation();\r\n  };\r\n\r\n  const handleRemove = (e) => {\r\n    var track = [{ uri: check.uri }];\r\n    spotify.removeTracksFromPlaylist(playlistId, track).then(\r\n      function (data) {\r\n        console.log('Track removed from playlist!');\r\n        dispatch(setNotibar('Removed from playlist!', true));\r\n        setChanges((prev) => ({ changes: !prev.changes }));\r\n      },\r\n      function (err) {\r\n        console.log('Something went wrong!', err);\r\n      }\r\n    );\r\n    e.stopPropagation();\r\n    closeMenu();\r\n  };\r\n  return (\r\n    <ul className=\"more-options-list\">\r\n      <li>\r\n        <button\r\n          className=\"more-options-btn\"\r\n          onClick={() => addToQueue(check.uri)}\r\n        >\r\n          <PlaylistAddIcon style={{ color: 'gray' }} fontSize=\"medium\" />\r\n          <span className=\"ms-2\">Add to queue</span>\r\n        </button>\r\n      </li>\r\n      <li>\r\n        <button className=\"more-options-btn\" onClick={handleAddToPlaylist}>\r\n          <QueueMusicIcon style={{ color: 'gray' }} fontSize=\"medium\" />\r\n          <span className=\"ms-2\">Add to Playlist</span>\r\n        </button>\r\n      </li>\r\n      {isUsers && (\r\n        <li>\r\n          <button className=\"more-options-btn\" onClick={handleRemove}>\r\n            <DeleteForeverTwoToneIcon\r\n              style={{ color: 'gray' }}\r\n              fontSize=\"medium\"\r\n            />\r\n            <span className=\"ms-2\">Remove</span>\r\n          </button>\r\n        </li>\r\n      )}\r\n      <li>\r\n        <button className=\"more-options-btn\" onClick={openInSpotify}>\r\n          <LaunchIcon style={{ color: 'gray' }} fontSize=\"medium\" />\r\n          <span className=\"ms-2\">Open in Spotify</span>\r\n        </button>\r\n      </li>\r\n    </ul>\r\n  );\r\n}\r\nexport default TrackDropDown;\r\n","import TrackDropDown from './track-dropdown';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport { useEffect, useState } from 'react';\r\n\r\nfunction MoreOptions({ trackItemRef, item, isUsers, playlistId, setChanges }) {\r\n  const [showDropDown, setShowDropDown] = useState(false);\r\n\r\n  useDetectOutsideClick(trackItemRef, closeMenu);\r\n\r\n  function closeMenu() {\r\n    setShowDropDown(false);\r\n  }\r\n\r\n  function useDetectOutsideClick(ref, callback) {\r\n    useEffect(() => {\r\n      function handleClickOutside(event) {\r\n        if (ref.current && !ref.current.contains(event.target)) {\r\n          callback();\r\n        }\r\n      }\r\n      function handleScroll() {\r\n        if (showDropDown) callback();\r\n      }\r\n\r\n      document.addEventListener('mousedown', handleClickOutside);\r\n      document.addEventListener('scroll', handleScroll, true);\r\n      return () => {\r\n        document.removeEventListener('mousedown', handleClickOutside);\r\n        document.removeEventListener('scroll', handleScroll);\r\n      };\r\n    }, [ref, callback]);\r\n  }\r\n\r\n  return (\r\n    <div className=\"more-btn-div\">\r\n      <button\r\n        className=\"more-btn\"\r\n        onClick={() => setShowDropDown(!showDropDown)}\r\n      >\r\n        <MoreVertIcon style={{ color: 'white' }} />\r\n      </button>\r\n\r\n      <div className={'more-options ' + (showDropDown && 'd-block')}>\r\n        <TrackDropDown\r\n          item={item}\r\n          closeMenu={closeMenu}\r\n          isUsers={isUsers}\r\n          playlistId={playlistId}\r\n          setChanges={setChanges}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default MoreOptions;\r\n","import PlayArrowIcon from '@material-ui/icons/PlayArrowTwoTone';\r\nimport PauseIcon from '@material-ui/icons/Pause';\r\n\r\nconst small = { className: 'sm-play-btn t-btn' };\r\nconst medium = { className: 'play-container', color: 'white' };\r\nconst cover = {\r\n  className: 'play-container-cover',\r\n  color: 'white',\r\n};\r\n\r\nexport const Button = (props) => (\r\n  <button type=\"button\" {...props} className={`${props.className}`}>\r\n    {props.children}\r\n  </button>\r\n);\r\n\r\nexport const SmallPlayButton = ({ playing, isCurrent, ...props }) => (\r\n  <Button {...props} className={small.className}>\r\n    {isCurrent && playing ? (\r\n      <PauseIcon\r\n        fontSize=\"large\"\r\n        style={{ color: isCurrent ? 'white' : 'var(--main-theme)' }}\r\n      />\r\n    ) : (\r\n      <PlayArrowIcon\r\n        fontSize=\"large\"\r\n        style={{ color: isCurrent ? 'white' : 'var(--main-theme)' }}\r\n      />\r\n    )}\r\n  </Button>\r\n);\r\n\r\nexport const MediumPlayButton = ({ playing, isCurrent, ...props }) => (\r\n  <Button {...props} className={medium.className}>\r\n    {isCurrent && playing ? (\r\n      <PauseIcon fontSize=\"large\" style={{ color: 'white' }} />\r\n    ) : (\r\n      <PlayArrowIcon fontSize=\"large\" style={{ color: 'white' }} />\r\n    )}\r\n  </Button>\r\n);\r\n\r\nexport const CoverPlayButton = ({ playing, isCurrent, ...props }) => (\r\n  <Button {...props} className={cover.className}>\r\n    {isCurrent && playing ? (\r\n      <PauseIcon fontSize=\"large\" style={{ color: 'white' }} />\r\n    ) : (\r\n      <PlayArrowIcon fontSize=\"large\" style={{ color: 'white' }} />\r\n    )}\r\n  </Button>\r\n);\r\n","import { useEffect, useState } from \"react\";\r\n\r\n\r\nfunction useCheckDevice() {\r\n\r\n    const [width, setWidth] = useState(window.innerWidth);\r\n\r\n    function handleWindowSizeChange() {\r\n        setWidth(window.innerWidth);\r\n    }\r\n    useEffect(() => {\r\n        window.addEventListener('resize', handleWindowSizeChange);\r\n        return () => {\r\n            window.removeEventListener('resize', handleWindowSizeChange);\r\n        }\r\n    }, []);\r\n\r\n    const isMobile = width <= 768;\r\n\r\n    return { isMobile };\r\n\r\n}\r\n\r\nexport default useCheckDevice;","import { useRef } from 'react';\r\nimport { getImage, millisToMinutesAndSeconds } from '../utils/helperFunctions';\r\nimport MoreOptions from '../templates/more-options';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {\r\n  handlePlayPause,\r\n  playfromlist,\r\n} from '../store/actions/spotify-actions';\r\nimport { SmallPlayButton } from '../player/buttons';\r\nimport useCheckDevice from '../utils/checkDevice';\r\n\r\nfunction TrackItems({ item, index, list, isUsers, playlistId, setChanges }) {\r\n  const { current } = useSelector((state) => state.player);\r\n  const playing = useSelector((state) => state.player.playing);\r\n  const trackItemRef = useRef();\r\n  const dispatch = useDispatch();\r\n  const musicItem = item?.track ? item.track : item;\r\n  const isCurrent = current?.id === musicItem.id;\r\n  const { isMobile } = useCheckDevice();\r\n  const handlePlayingSong = () => {\r\n    if (isCurrent) {\r\n      dispatch(handlePlayPause());\r\n    } else {\r\n      dispatch(playfromlist(index, list));\r\n    }\r\n  };\r\n\r\n  const handleClick = (e) => {\r\n    const tagNames = ['svg', 'path', 'button'];\r\n    const parent = ['button', 'more-btn', 'more-options-btn'];\r\n    if (tagNames.includes(e.target.tagName) || parent.includes(e.target.parentNode.className)) return;\r\n    if (!isMobile) return;\r\n    else {\r\n      dispatch(playfromlist(index, list))\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div\r\n      key={index}\r\n      className={'p-t-container' + (isCurrent ? ' themeBG' : '')}\r\n      ref={trackItemRef}\r\n      onClick={(e) => !isCurrent && handleClick(e)}\r\n    >\r\n      <div className=\"p-tracks-pic\">\r\n        <img\r\n          src={getImage(musicItem.album?.images, 'sm')}\r\n          alt=\"music-album\"\r\n          style={{ borderRadius: '10px' }}\r\n        />\r\n      </div>\r\n      <div className='p-tracks-right'>\r\n        <div className=\"p-tracks-info\">\r\n          <span className=\"ps-name\">{musicItem.name}</span>\r\n          <span className=\"text-secondary\">\r\n            {musicItem?.artists.map(\r\n              (item, index) => (index ? ', ' : '') + item.name\r\n            )}\r\n          </span>\r\n        </div>\r\n        <div className=\"p-tracks-album \">\r\n          <span className=\"text-secondary h6\">{musicItem.album?.name}</span>\r\n        </div>\r\n        <div className=\"p-tracks-btn \">\r\n          <MoreOptions\r\n            trackItemRef={trackItemRef}\r\n            item={item}\r\n            isUsers={isUsers}\r\n            playlistId={playlistId}\r\n            setChanges={setChanges}\r\n          />\r\n          <span className=\"text-secondary me-5 d-lg-block d-none\">\r\n            {millisToMinutesAndSeconds(musicItem.duration_ms)}\r\n          </span>\r\n          <div className='p-tracks-play-btn'>\r\n            <SmallPlayButton\r\n              playing={playing}\r\n              isCurrent={isCurrent}\r\n              onClick={handlePlayingSong}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default TrackItems;\r\n","import { useEffect } from 'react';\r\nimport SkeletonTracks from '../skeletons/skeletonTracks';\r\nimport TrackItems from './track-item';\r\n\r\nfunction ListTracks({ list, isUsers, playlistId, setChanges }) {\r\n  return (\r\n    <div className=\" mt-3\">\r\n      {list?.map((item, index) => (\r\n        <TrackItems\r\n          key={index}\r\n          index={index}\r\n          item={item}\r\n          list={list}\r\n          isUsers={isUsers}\r\n          playlistId={playlistId}\r\n          setChanges={setChanges}\r\n        />\r\n      ))}\r\n      {!list && <SkeletonTracks />}\r\n    </div>\r\n  );\r\n}\r\nexport default ListTracks;\r\n","import { useEffect, useRef, useState } from 'react';\r\nimport '../styling/routes.css';\r\nimport { getColor, getImage } from '../utils/helperFunctions';\r\nimport ListTracks from './track-lists';\r\nimport useSpotify from '../hooks/useSpotify';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {\r\n  isFollowingPlaylist,\r\n  handlePlayPause,\r\n  playfromlist,\r\n} from '../store/actions/spotify-actions';\r\nimport { CoverPlayButton } from '../player/buttons';\r\nimport { setCurrentTileId } from '../store/actions/player-actions';\r\n\r\nfunction Playlist(props) {\r\n  const [playlist, setPlaylist] = useState();\r\n  const [following, setFollowing] = useState();\r\n  const [changes, setChanges] = useState(false);\r\n  const dispatch = useDispatch();\r\n  const { user } = useSelector((state) => state.user);\r\n  const playing = useSelector((state) => state.player.playing);\r\n  const currentTileId = useSelector((state) => state.player.currentTileId);\r\n  const token = useSelector((state) => state.player.token);\r\n  const spotify = useSpotify();\r\n  const id = props?.match?.params.id;\r\n  const imgRef = useRef();\r\n  const isUsers = playlist?.info.owner.display_name === user?.display_name;\r\n  const isCurrent = id === currentTileId;\r\n  //console.log(playlist?.tracks);\r\n  useEffect(() => {\r\n    if (!id) return;\r\n    spotify\r\n      .getPlaylist(id)\r\n      .then((res) => {\r\n        setPlaylist({ info: res.body, tracks: res.body.tracks.items });\r\n        isFollowingPlaylist(token, res.body.id, user?.id)\r\n          .then((res) => {\r\n            setFollowing(res.data[0]);\r\n          })\r\n          .catch((err) => console.log(err));\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }, [changes, following]);\r\n\r\n  const follow = () => {\r\n    if (following) {\r\n      spotify.unfollowPlaylist(id).then(\r\n        function (data) {\r\n          console.log('Playlist successfully unfollowed!');\r\n          setFollowing(false);\r\n        },\r\n        function (err) {\r\n          console.log('Something went wrong!', err);\r\n        }\r\n      );\r\n    } else {\r\n      spotify\r\n        .followPlaylist(id, {\r\n          public: false,\r\n        })\r\n        .then(\r\n          function (data) {\r\n            console.log('Playlist successfully followed privately!');\r\n            setFollowing(true);\r\n          },\r\n          function (err) {\r\n            console.log('Something went wrong!', err);\r\n          }\r\n        );\r\n    }\r\n  };\r\n\r\n  const handlePlayTile = () => {\r\n    if (playing && isCurrent) {\r\n      dispatch(handlePlayPause());\r\n    } else {\r\n      dispatch(setCurrentTileId(id));\r\n      dispatch(playfromlist(0, playlist.tracks));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"display-cut\">\r\n      <div\r\n        className=\"p-info\"\r\n        id={playlist?.info?.id}\r\n        style={{ borderRadius: '15px' }}\r\n      >\r\n        <div className=\"pl p-lg-5 p-2 position-relative\">\r\n          <img\r\n            src={getImage(playlist?.info.images, 'md')}\r\n            ref={imgRef}\r\n            style={{ borderRadius: '0px' }}\r\n            alt={playlist?.info.name}\r\n            crossOrigin=\"anonymous\"\r\n            className=\"w-100\"\r\n            onLoad={() => getColor(id, imgRef, 'playlist')}\r\n          />\r\n\r\n          <CoverPlayButton\r\n            playing={playing}\r\n            isCurrent={isCurrent}\r\n            onClick={handlePlayTile}\r\n          />\r\n        </div>\r\n        <div className=\"pr px-3 font-1 py-4 d-flex flex-column\">\r\n          <span className=\"text-secondary\">PLAYLIST</span>\r\n          <span className=\"display-6 text-light\">{playlist?.info.name}</span>\r\n          <span className=\"h4 text-light\">{playlist?.info.description}</span>\r\n          <div className=\"d-flex font-1 align-items-center justify-content-between\">\r\n            <div className=\"font-1\">\r\n              <span\r\n                className=\"h1 me-1 \"\r\n                style={{ color: 'rgba(255,255,255,1)' }}\r\n              >\r\n                {playlist?.info?.followers?.total}\r\n              </span>\r\n              <span className=\"text-light\">followers</span>\r\n            </div>\r\n            <span className=\"text-light h4 \">\r\n              {playlist?.tracks?.length} tracks\r\n            </span>\r\n          </div>\r\n          <div className=\"mt-3\">\r\n            <button\r\n              className=\"outline-none bg-transparent text-light border rounded px-3 py-2\"\r\n              onClick={follow}\r\n            >\r\n              {following ? 'UNFOLLOW' : 'FOLLOW'}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"p-tracks slidefrombottom\">\r\n        <ListTracks\r\n          list={playlist?.tracks}\r\n          isUsers={isUsers}\r\n          playlistId={playlist?.info.id}\r\n          setChanges={setChanges}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default Playlist;\r\n","import KeyboardArrowRightIcon from '@material-ui/icons/KeyboardArrowRight';\r\nimport KeyboardArrowLeftIcon from '@material-ui/icons/KeyboardArrowLeft';\r\nimport { useState } from 'react';\r\n\r\nfunction ScrollSection(props) {\r\n  const holderRef = props.children.ref;\r\n  const [scrollP, setScrollP] = useState(false);\r\n  const [scrollN, setScrollN] = useState(true);\r\n\r\n  const scroll = (scrollOffset) => {\r\n    let scrollLeft = holderRef.current.scrollLeft;\r\n    let scrollDiff = holderRef.current.scrollWidth - scrollLeft;\r\n    let clientWidth = holderRef.current.clientWidth;\r\n    if (scrollLeft > 0) setScrollP(true);\r\n    else setScrollP(false);\r\n    if (Math.trunc(scrollDiff) < clientWidth) setScrollN(false);\r\n    else setScrollN(true);\r\n\r\n    holderRef.current.scrollLeft += scrollOffset;\r\n  };\r\n\r\n  return (\r\n    <div className=\"position-relative\">\r\n      <button\r\n        className=\"scroll-nxt-btn\"\r\n        onClick={() => scroll(+300)}\r\n        hidden={!scrollN}\r\n      >\r\n        <KeyboardArrowRightIcon style={{ color: 'black' }} />\r\n      </button>\r\n      <button\r\n        className=\"scroll-prev-btn\"\r\n        onClick={() => scroll(-300)}\r\n        hidden={!scrollP}\r\n      >\r\n        <KeyboardArrowLeftIcon style={{ color: 'black' }} />\r\n      </button>\r\n      {props.children}\r\n    </div>\r\n  );\r\n}\r\nexport default ScrollSection;\r\n","import '../styling/templates/album.css';\r\nimport {\r\n  getColorAlbumTemplate,\r\n  getCorrectPath,\r\n  getImage,\r\n} from '../utils/helperFunctions';\r\nimport { useRef } from 'react';\r\nimport ScrollSection from '../utils/scroll-button';\r\nimport { Link, useRouteMatch } from 'react-router-dom';\r\nfunction Album({ list }) {\r\n  const holderRef = useRef();\r\n  const { path } = useRouteMatch();\r\n  const getPath = getCorrectPath(path);\r\n  return (\r\n    <div>\r\n      <h2 className=\"section-heading py-3\">Albums</h2>\r\n      <ScrollSection>\r\n        <div className=\"card-holders\" ref={holderRef}>\r\n          {list?.map((item, index) => (\r\n            <Link\r\n              to={`${getPath}/album/${item.id}`}\r\n              className=\"d-flex flex-column align-items-start me-2 p-2 text-decoration-none\"\r\n              key={item.id}\r\n              id={item.id + index}\r\n              style={{ borderRadius: '15px' }}\r\n            >\r\n              <div className=\"album-cards\">\r\n                <img\r\n                  src={getImage(item?.images, 'md')}\r\n                  alt={item?.name}\r\n                  crossOrigin=\"anonymous\"\r\n                  id={item.id}\r\n                  onLoad={() =>\r\n                    getColorAlbumTemplate({ id: item.id, index: index })\r\n                  }\r\n                />\r\n              </div>\r\n              <span className=\"fp-name mt-2\">{item?.name}</span>\r\n            </Link>\r\n          ))}\r\n        </div>\r\n      </ScrollSection>\r\n    </div>\r\n  );\r\n}\r\nexport default Album;\r\n","import './skeleton.css';\r\nfunction SkeletonArtists() {\r\n  return (\r\n    <div>\r\n      <p className=\"skeleton-heading shimmer mb-0\"></p>\r\n      <div className=\"skeleton-trackholder\">\r\n        {Array(10)\r\n          .fill()\r\n          .map((x, i) => (\r\n            <div key={i} className=\"skeleton-artists shimmer\"></div>\r\n          ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default SkeletonArtists;\r\n","import '../styling/templates/artists.css';\r\nimport {\r\n  getColorArtists,\r\n  getCorrectPath,\r\n  getImage,\r\n} from '../utils/helperFunctions';\r\nimport SkeletonArtists from '../skeletons/skeletonArtists';\r\nimport { useRef } from 'react';\r\nimport ScrollSection from '../utils/scroll-button';\r\nimport { NavLink, useRouteMatch } from 'react-router-dom';\r\n\r\nfunction Artists({ show, listName }) {\r\n  const holderRef = useRef();\r\n  const { path } = useRouteMatch();\r\n  const getPath = getCorrectPath(path);\r\n  return (\r\n    <div>\r\n      {!show && <SkeletonArtists />}\r\n      <p className=\"section-heading mb-0\" hidden={!show}>\r\n        {listName}\r\n      </p>\r\n      <ScrollSection>\r\n        <div className=\"cards-holder\" ref={holderRef}>\r\n          {show?.map((item, index) => (\r\n            <NavLink\r\n              className=\"d-flex flex-column align-items-center text-decoration-none me-3 p-2\"\r\n              key={item.id}\r\n              to={`${getPath}/artist/${item.id}`}\r\n              onClick={() => window.scrollTo({ top: 0, behavior: 'smooth' })}\r\n            >\r\n              <div className=\"artist-cards hover-effect-ac\" id={item.id + index}>\r\n                <img\r\n                  src={getImage(item?.images, 'sm')}\r\n                  alt={item?.name}\r\n                  crossOrigin=\"anonymous\"\r\n                  id={item.id}\r\n                  onLoad={() => getColorArtists(item.id, index)}\r\n                />\r\n              </div>\r\n              <span className=\"bp-name mt-2\">{item?.name}</span>\r\n            </NavLink>\r\n          ))}\r\n        </div>\r\n      </ScrollSection>\r\n    </div>\r\n  );\r\n}\r\nexport default Artists;\r\n","import { useEffect, useRef, useState } from 'react';\r\nimport { getColor, getImage } from '../utils/helperFunctions';\r\nimport '../styling/routes.css';\r\nimport Album from '../templates/album';\r\nimport Artists from '../templates/artists';\r\nimport MusicNoteTwoToneIcon from '@material-ui/icons/MusicNoteTwoTone';\r\nimport SkeletonTracks from '../skeletons/skeletonTracks';\r\nimport TrackItems from './track-item';\r\nimport useSpotify from '../hooks/useSpotify';\r\nimport {\r\n  followArtists,\r\n  getArtist,\r\n  getArtistAlbums,\r\n  getArtistRelatedArtists,\r\n  getArtistTopTracks,\r\n  isFollowingArtists,\r\n  unfollowArtists,\r\n} from '../store/actions/spotify-actions';\r\nimport { setNotibar } from '../store/actions/app-actions';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nfunction Artist(props) {\r\n  const id = props?.match?.params?.id;\r\n  //console.log(props?.match?.params?.id);\r\n  const dispatch = useDispatch();\r\n  const [artist, setArtist] = useState();\r\n  const [albums, setAlbums] = useState();\r\n  const [toptracks, setToptracks] = useState();\r\n  const [related, setRelated] = useState();\r\n  const [following, setFollowing] = useState(false);\r\n  const imgRef = useRef();\r\n\r\n  useEffect(() => {\r\n    // Get an artist\r\n    getArtist(id).then(\r\n      function (data) {\r\n        //console.log('Artist information', data.body);\r\n        setArtist({ ...artist, info: data.body });\r\n      },\r\n      function (err) {\r\n        console.error(err);\r\n      }\r\n    );\r\n    // Get albums by a certain artist\r\n    getArtistAlbums(id).then(\r\n      function (data) {\r\n        //console.log('Artist albums', data.body.items);\r\n        setAlbums(data.body.items);\r\n      },\r\n      function (err) {\r\n        console.error(err);\r\n      }\r\n    );\r\n    // Get an artist's top tracks\r\n    getArtistTopTracks(id).then(\r\n      function (data) {\r\n        //console.log(data.body);\r\n        setToptracks(data.body.tracks);\r\n      },\r\n      function (err) {\r\n        console.log('Something went wrong!', err);\r\n      }\r\n    );\r\n\r\n    // Get artists related to an artist\r\n    getArtistRelatedArtists(id).then(\r\n      function (data) {\r\n        //console.log(data.body);\r\n        setRelated(data.body.artists);\r\n      },\r\n      function (err) {\r\n        console.log(id);\r\n      }\r\n    );\r\n\r\n    /* Check if a user is following an artist */\r\n    let artistsId = [id];\r\n    isFollowingArtists(artistsId).then(\r\n      function (data) {\r\n        setFollowing(data.body?.[0]);\r\n      },\r\n      function (err) {\r\n        console.log('Something went wrong!', err);\r\n      }\r\n    );\r\n  }, [id]);\r\n\r\n  const follow = () => {\r\n    if (following) {\r\n      /* Unfollow an artist */\r\n      unfollowArtists([id]).then(\r\n        function (data) {\r\n          setFollowing(false);\r\n          dispatch(setNotibar(`Unfollowed ${artist?.info?.name?.split(' ')[0]}...`, true));\r\n        },\r\n        function (err) {\r\n          console.log('Something went wrong!', err);\r\n        }\r\n      );\r\n    } else {\r\n      /* Follow an artist */\r\n      followArtists([id]).then(\r\n        function (data) {\r\n          setFollowing(true);\r\n          dispatch(setNotibar(`Started following ${artist?.info?.name?.split(' ')[0]} !`, true));\r\n        },\r\n        function (err) {\r\n          console.log('Something went wrong!', err);\r\n        }\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"display-cut\">\r\n      <div\r\n        className=\"a-info\"\r\n        style={{\r\n          background: `url(${getImage(\r\n            artist?.info?.images,\r\n            'lg'\r\n          )}) no-repeat center center / cover`,\r\n          borderRadius: '20px',\r\n        }}\r\n      >\r\n        <div className=\"artist-l\">\r\n          <div className=\"a-data w-100 px-3\" id={id + '3'}>\r\n            <span className=\"artist-name\">{artist?.info?.name}</span>\r\n            <div className=\"d-md-flex d-block justify-content-between\">\r\n              <div className=\"font-1\">\r\n                <span className=\"h3 text-light me-2\">\r\n                  {artist?.info?.followers?.total}\r\n                </span>\r\n                <span className=\"text-light\">followers</span>\r\n              </div>\r\n              <button\r\n                className=\"outline-none bg-transparent text-light border rounded px-3 py-2 mt-2\"\r\n                onClick={follow}\r\n              >\r\n                {following ? 'UNFOLLOW' : 'FOLLOW'}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"artist-r\">\r\n          <img\r\n            src={getImage(artist?.info?.images, 'md')}\r\n            ref={imgRef}\r\n            crossOrigin=\"anonymous\"\r\n            alt={artist?.info?.name}\r\n            onLoad={() => getColor(id, imgRef, 'artistPage')}\r\n            style={{ borderRadius: '15px', width: '100%' }}\r\n          />\r\n        </div>\r\n      </div>\r\n      <div>\r\n        <h2 className=\"section-heading p-3\">Popular</h2>\r\n        {toptracks?.map((item, index) => (\r\n          <TrackItems\r\n            key={index}\r\n            index={index}\r\n            item={item}\r\n            list={toptracks}\r\n            isUsers={null}\r\n            playlistId={null}\r\n          />\r\n        ))}\r\n        {!toptracks && <SkeletonTracks />}\r\n      </div>\r\n      <div>\r\n        <Album list={albums} />\r\n      </div>\r\n      <div className=\"mt-3\">\r\n        <Artists show={related} listName={'Fans also love'} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default Artist;\r\n","import { useEffect, useRef, useState } from 'react';\r\nimport MusicNoteTwoToneIcon from '@material-ui/icons/MusicNoteTwoTone';\r\nimport ColorThief from '../../../node_modules/colorthief/dist/color-thief.mjs';\r\nimport { getImage, millisToMinutesAndSeconds } from '../utils/helperFunctions';\r\nimport {\r\n  getAlbum,\r\n  handlePlayPause,\r\n  playfromlist,\r\n} from '../store/actions/spotify-actions.js';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { CoverPlayButton, SmallPlayButton } from '../player/buttons.js';\r\nimport { setCurrentTileId } from '../store/actions/player-actions.js';\r\n\r\nfunction Album(props) {\r\n  const id = props?.match?.params?.id;\r\n  const imgRef = useRef();\r\n  const [album, setAlbum] = useState();\r\n  const dispatch = useDispatch();\r\n  const playing = useSelector((state) => state.player.playing);\r\n  const currentTileId = useSelector((state) => state.player.currentTileId);\r\n  const current = useSelector((state) => state.player.current);\r\n  const isCurrent = id === currentTileId;\r\n\r\n  useEffect(() => {\r\n    getAlbum(id).then(\r\n      function (data) {\r\n        //console.log('Album information', data.body);\r\n        setAlbum({ info: data.body, tracks: data.body.tracks.items });\r\n      },\r\n      function (err) {\r\n        console.error(err);\r\n      }\r\n    );\r\n  }, [id]);\r\n\r\n  const getColor = () => {\r\n    const colorThief = new ColorThief();\r\n    const img = imgRef.current;\r\n    var color;\r\n    if (img.complete) {\r\n      color = colorThief.getColor(img);\r\n    } else {\r\n      img.addEventListener('load', function () {\r\n        color = colorThief.getColor(img);\r\n      });\r\n    }\r\n    document.getElementById(\r\n      'choose1'\r\n    ).style.background = `linear-gradient(360deg, rgb(${color[0]},${color[1]},${color[2]}), transparent)`;\r\n  };\r\n\r\n  const handlePlayTile = () => {\r\n    if (playing && isCurrent) {\r\n      dispatch(handlePlayPause());\r\n    } else {\r\n      dispatch(setCurrentTileId(id));\r\n      dispatch(playfromlist(0, album.tracks));\r\n    }\r\n  };\r\n\r\n  const handlePlayingSong = (index) => {\r\n    if (isCurrent) {\r\n      dispatch(handlePlayPause());\r\n    } else {\r\n      dispatch(playfromlist(index, album.tracks));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"display-cut\">\r\n      <div\r\n        className=\"album-info\"\r\n        style={{\r\n          background: `url(${getImage(\r\n            album?.info?.images,\r\n            'lg'\r\n          )}) no-repeat center center / cover`,\r\n          borderRadius: '20px',\r\n        }}\r\n      >\r\n        <div className=\"album-r\">\r\n          <div className=\"album-data w-100 px-3 font-1\" id=\"choose1\">\r\n            <p className=\"text-light mb-0\">ALBUM</p>\r\n            <span className=\"h1 text-light\">{album?.info?.name}</span>\r\n          </div>\r\n        </div>\r\n        <div className=\"album-l\">\r\n          <img\r\n            src={getImage(album?.info?.images, 'md')}\r\n            ref={imgRef}\r\n            crossOrigin=\"anonymous\"\r\n            alt={album?.info?.name}\r\n            onLoad={getColor}\r\n            style={{ borderRadius: '15px', width: '100%' }}\r\n          />\r\n          <CoverPlayButton\r\n            playing={playing}\r\n            isCurrent={isCurrent}\r\n            onClick={handlePlayTile}\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className=\"mt-3\">\r\n        <div className=\"d-flex\">\r\n          <div className=\"album-tracks-info d-inline-block p-1 ms-2 text-left text-secondary\">\r\n            <span className=\"p-heading\">TITLE</span>\r\n          </div>\r\n\r\n          <div className=\"album-tracks-btn text-center text-secondary\">\r\n            <MusicNoteTwoToneIcon className=\"theme\" />\r\n          </div>\r\n        </div>\r\n\r\n        {album?.tracks?.map((item, index) => (\r\n          <div key={index} className=\"p-t-container\">\r\n            <div className=\"album-tracks-info font-1 ms-2\">\r\n              <span className=\"ps-name\">{item?.name}</span>\r\n              <span className=\"text-secondary\">\r\n                {item?.artists.map(\r\n                  (item, index) => (index ? ', ' : '') + item.name\r\n                )}\r\n              </span>\r\n            </div>\r\n\r\n            <div className=\"album-tracks-btn d-flex justify-content-end align-items-center\">\r\n              <span className=\"text-secondary me-5 d-lg-block d-none\">\r\n                {millisToMinutesAndSeconds(item?.duration_ms)}\r\n              </span>\r\n              <SmallPlayButton\r\n                playing={playing}\r\n                isCurrent={item.name === current?.name}\r\n                onClick={() => handlePlayingSong(index)}\r\n              />\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default Album;\r\n","import '../../styling/sidebar.css';\r\nimport { navList } from '../navlist';\r\nimport { NavLink, useLocation, useRouteMatch } from 'react-router-dom';\r\n\r\nfunction Bottombar1() {\r\n    const location = useLocation();\r\n    const activeLink = location.pathname.split('/')[2];\r\n    const forHome = ['artist', 'album', 'playlist', 'category'];\r\n    const activeCheck = forHome.includes(activeLink) ? undefined : activeLink;\r\n    const { url } = useRouteMatch();\r\n\r\n    return (\r\n        <div className=\"bottombar\">\r\n            {navList.map((option, index) => (\r\n                <NavLink\r\n                    key={index}\r\n                    className={\r\n                        'bb-btn ' + (activeCheck === option.pathname ? 'bb-active' : '')\r\n                    }\r\n                    to={{ pathname: `${url}${option.route}` }}\r\n                >\r\n                    <span className=\"bb-icon\">\r\n                        <ion-icon name={option.icon}></ion-icon>\r\n                    </span>\r\n                    {activeLink === option.pathname && <span className=\"dot\"></span>}\r\n                </NavLink>\r\n            ))}\r\n        </div>\r\n    );\r\n}\r\nexport default Bottombar1;\r\n","import React, { useEffect } from \"react\";\r\n\r\n/**\r\n * Hook that alerts clicks outside of the passed ref\r\n */\r\nconst UseOutsideAlerter = React.forwardRef((props, ref) => {\r\n    useEffect(() => {\r\n        /**\r\n         * Alert if clicked on outside of element\r\n         */\r\n        function handleClickOutside(event) {\r\n            if (ref.current && !ref.current.contains(event.target)) {\r\n                props.handleFunc();\r\n            }\r\n        }\r\n        // Bind the event listener\r\n        document.addEventListener(\"mousedown\", handleClickOutside);\r\n        return () => {\r\n            // Unbind the event listener on clean up\r\n            document.removeEventListener(\"mousedown\", handleClickOutside);\r\n        };\r\n    }, [ref]);\r\n    return null;\r\n});\r\n\r\nexport default UseOutsideAlerter;","import '../../styling/sidebar.css';\r\nimport { navList } from '../navlist';\r\nimport { NavLink, useLocation, useRouteMatch } from 'react-router-dom';\r\nimport { useRef, useState } from 'react';\r\nimport Draggable from 'react-draggable';\r\nimport UseOutsideAlerter from '../../utils/useClickedOutside';\r\n\r\nfunction Bottombar2() {\r\n    const location = useLocation();\r\n    const activeLink = location.pathname.split('/')[2];\r\n    const forHome = ['artist', 'album', 'playlist', 'category'];\r\n    const activeCheck = forHome.includes(activeLink) ? undefined : activeLink;\r\n    const { url } = useRouteMatch();\r\n    const barRef = useRef();\r\n    const [toggle, setToggle] = useState(false);\r\n    const [invertToggle, setInvertToggle] = useState(false);\r\n\r\n    const handleToggle = () => {\r\n        setToggle(!toggle);\r\n    }\r\n\r\n    const handleInvertion = () => {\r\n        const playerRect = document.querySelector('.player').getBoundingClientRect();\r\n        const menuRect = document.querySelector('.menu').getBoundingClientRect();\r\n        const left = menuRect.right - playerRect.right / 2;\r\n        if (left < 0) {\r\n            setInvertToggle(false);\r\n        } else {\r\n            setInvertToggle(true);\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <Draggable cancel='a' onDrag={handleInvertion}>\r\n            <div className={\"menu \" + (toggle ? 'active' : '')} onClick={handleToggle} onTouchStart={handleToggle} ref={barRef}>\r\n                <UseOutsideAlerter ref={barRef} handleFunc={() => setToggle(false)} />\r\n                <div className={'mini-2-toggle'}>\r\n                    <ion-icon name={\"ellipse-outline\"}></ion-icon>\r\n                </div>\r\n                {navList.map((option, index) => (\r\n                    <li key={index} style={{ '--i': invertToggle ? option.invIdx : option.idx }}>\r\n                        < NavLink\r\n                            to={{ pathname: `${url}${option.route}` }}\r\n                            style={{ background: (activeCheck === option.pathname ? 'var(--main-theme)' : 'var(--background)') }}\r\n                            onClickCapture={handleToggle}\r\n                        >\r\n                            <ion-icon name={option.icon}\r\n                                style={{ color: (activeCheck === option.pathname ? 'var(--background)' : 'var(--main-theme)') }}\r\n                            ></ion-icon>\r\n                        </NavLink>\r\n                    </li >\r\n\r\n                ))}\r\n            </div >\r\n        </Draggable>\r\n    );\r\n}\r\nexport default Bottombar2;\r\n","import '../styling/sidebar.css';\r\nimport { useSelector } from 'react-redux';\r\nimport Bottombar1 from './bottombar/bottombar1';\r\nimport Bottombar2 from './bottombar/bottombar2';\r\n\r\n\r\nfunction Bottombar() {\r\n  const { sideBartype } = useSelector((state) => state.player);\r\n\r\n  const returnSideBar = () => {\r\n    switch (sideBartype) {\r\n      case 0:\r\n        return (<Bottombar1 />);\r\n      case 1:\r\n        return (<Bottombar2 />);\r\n      default:\r\n        console.log('Error');\r\n        break;\r\n    }\r\n  }\r\n  return (\r\n    <>{returnSideBar()}</>\r\n  );\r\n}\r\n\r\nexport default Bottombar;\r\n","import '../../styling/homeComponents/newreleases.css';\r\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\r\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\r\nimport { useState } from 'react';\r\nimport ColorThief from '../../../../node_modules/colorthief/dist/color-thief.mjs';\r\nimport { NavLink, useRouteMatch } from 'react-router-dom';\r\nimport {\r\n  getAlbum,\r\n  handlePlayPause,\r\n  playfromlist,\r\n} from '../../store/actions/spotify-actions';\r\nimport { setCurrentTileId } from '../../store/actions/player-actions';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { MediumPlayButton } from '../../player/buttons';\r\nimport { getCorrectPath } from '../../utils/helperFunctions';\r\n\r\nfunction NewReleases({ newReleases }) {\r\n  const [bgColor, setBgColor] = useState(null);\r\n  const [tile, setTile] = useState(0);\r\n  const dispatch = useDispatch();\r\n  const playing = useSelector((state) => state.player.playing);\r\n  const currentTileId = useSelector((state) => state.player.currentTileId);\r\n  const { path } = useRouteMatch();\r\n  const getPath = getCorrectPath(path);\r\n\r\n  const getColor = () => {\r\n    const colorThief = new ColorThief();\r\n    const img = document.getElementById('main-album');\r\n    var color;\r\n    if (img.complete) {\r\n      color = colorThief.getColor(img);\r\n    } else {\r\n      img.addEventListener('load', function () {\r\n        color = colorThief.getColor(img);\r\n      });\r\n    }\r\n    setBgColor(color);\r\n  };\r\n\r\n  const showNext = () => {\r\n    if (tile < newReleases.length - 3) {\r\n      setTile((tile) => tile + 1);\r\n    } else {\r\n      setTile(0);\r\n    }\r\n  };\r\n  const showPrevious = () => {\r\n    if (tile > -2) {\r\n      setTile((tile) => tile - 1);\r\n    } else {\r\n      setTile(0);\r\n    }\r\n  };\r\n  const handlePlayTile = (id) => {\r\n    if (playing && id === currentTileId) {\r\n      dispatch(handlePlayPause());\r\n    } else {\r\n      getAlbum(id).then(\r\n        function (data) {\r\n          dispatch(setCurrentTileId(id));\r\n          dispatch(playfromlist(0, data.body.tracks.items));\r\n        },\r\n        function (err) {\r\n          console.error(err);\r\n        }\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {newReleases && (\r\n        <div className=\"tile-container\">\r\n          <div className=\"tiled\">\r\n            <NavLink\r\n              to={{\r\n                pathname: `${getPath}/album/${newReleases?.[tile + 2]?.id}`,\r\n              }}\r\n            >\r\n              <img\r\n                src={newReleases?.[tile + 2]?.images[0]?.url}\r\n                alt=\"new_releases\"\r\n                className=\"tiled\"\r\n                id=\"main-album\"\r\n                onLoad={getColor}\r\n                style={{\r\n                  background: `rgb(${bgColor?.[0]},${bgColor?.[1]},${bgColor?.[2]})`,\r\n                }}\r\n                crossOrigin=\"anonymous\"\r\n              />\r\n            </NavLink>\r\n            <div className=\"tiled-left\">\r\n              <MediumPlayButton\r\n                playing={playing}\r\n                isCurrent={newReleases?.[tile + 2]?.id === currentTileId}\r\n                onClick={() => handlePlayTile(newReleases?.[tile + 2]?.id)}\r\n              />\r\n              <div className=\"d-none d-lg-flex flex-column\">\r\n                <span className=\"al\">{newReleases?.[tile + 2]?.type}</span>\r\n                <span className=\"aln\">{newReleases?.[tile + 2]?.name}</span>\r\n              </div>\r\n            </div>\r\n            <div className=\"tiled-right d-none d-lg-flex\">\r\n              <span className=\"ar\">\r\n                {newReleases?.[tile + 2]?.artists?.[0]?.type}\r\n              </span>\r\n              {newReleases?.[tile + 2]?.artists?.map((x, index) => (\r\n                <span key={index} className=\"arn\">\r\n                  {x.name}\r\n                </span>\r\n              ))}\r\n            </div>\r\n            <div className=\"prev-album\">\r\n              <button onClick={showPrevious}>\r\n                <ChevronLeftIcon />\r\n              </button>\r\n            </div>\r\n            <div className=\"next-album\">\r\n              <button onClick={showNext}>\r\n                <ChevronRightIcon />\r\n              </button>\r\n            </div>\r\n          </div>\r\n          {newReleases?.[tile + 1] && (\r\n            <img\r\n              src={newReleases?.[tile + 1]?.images[0]?.url}\r\n              alt=\"new_releases\"\r\n              className=\"tile\"\r\n            />\r\n          )}\r\n          {newReleases?.[tile + 0] && (\r\n            <img\r\n              src={newReleases?.[tile + 0]?.images[0]?.url}\r\n              alt=\"new_releases\"\r\n              className=\"tile\"\r\n            />\r\n          )}\r\n          {newReleases?.[tile + 3] && (\r\n            <img\r\n              src={newReleases?.[tile + 3]?.images[0]?.url}\r\n              alt=\"new_releases\"\r\n              className=\"tile\"\r\n            />\r\n          )}\r\n          {newReleases?.[tile + 4] && (\r\n            <img\r\n              src={newReleases?.[tile + 4]?.images[0]?.url}\r\n              alt=\"new_releases\"\r\n              className=\"tile\"\r\n            />\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\nexport default NewReleases;\r\n","import { getColorSongTemplate, getImage } from '../utils/helperFunctions';\r\nimport { useRef } from 'react';\r\nimport MoreOptions from './more-options';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { handlePlayPause, play } from '../store/actions/spotify-actions';\r\nimport { MediumPlayButton } from '../player/buttons';\r\nfunction SongCards({ item, id, index }) {\r\n  const imgRef = useRef();\r\n  const trackItemRef = useRef();\r\n  const dispatch = useDispatch();\r\n  const current = useSelector((state) => state.player.current);\r\n  const playing = useSelector((state) => state.player.playing);\r\n  const isCurrent = item?.uri === current?.uri;\r\n\r\n  const handlePlayingSong = (e) => {\r\n    if (isCurrent) {\r\n      dispatch(handlePlayPause());\r\n    } else {\r\n      dispatch(play(item));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div key={id} className=\"cards hover-effect\" ref={trackItemRef}>\r\n      <img\r\n        src={getImage(item.album?.images, 'md')}\r\n        alt={item.album?.album_type}\r\n        crossOrigin=\"anonymous\"\r\n        id={id}\r\n        ref={imgRef}\r\n        onLoad={() => getColorSongTemplate(id, index, imgRef)}\r\n      />\r\n      <div className=\"song-more-options font-1\">\r\n        <MoreOptions\r\n          trackItemRef={trackItemRef}\r\n          item={item}\r\n          isUsers={null}\r\n          playlistId={null}\r\n        />\r\n      </div>\r\n      <div id={id + index} className=\"cards-info\">\r\n        <div className=\"cards-left\">\r\n          <span className=\"sn\">{item.name}</span>\r\n\r\n          <span key={index} className=\"an\">\r\n            {item?.artists.map(\r\n              (artist, index) => (index ? ', ' : '') + artist.name\r\n            )}\r\n          </span>\r\n        </div>\r\n        <div className=\"cards-right\">\r\n          <MediumPlayButton\r\n            onClick={handlePlayingSong}\r\n            playing={playing}\r\n            isCurrent={isCurrent}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default SongCards;\r\n","import './skeleton.css';\r\nfunction SkeletonSongs() {\r\n  return (\r\n    <div>\r\n      <p className=\"skeleton-heading shimmer mb-0\"></p>\r\n      <div className=\"skeleton-trackholder\">\r\n        {Array(10)\r\n          .fill()\r\n          .map((x, i) => (\r\n            <div key={i} className=\"skeleton-cards shimmer\"></div>\r\n          ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default SkeletonSongs;\r\n","import '../styling/templates/trackholders.css';\r\nimport SongCards from './song-cards';\r\nimport SkeletonSongs from '../skeletons/skeletonSongs';\r\nimport { useRef } from 'react';\r\nimport ScrollSection from '../utils/scroll-button';\r\n\r\nfunction TrackHolders({ show, listName }) {\r\n  const holderRef = useRef();\r\n\r\n  return (\r\n    <div>\r\n      {!show && <SkeletonSongs />}\r\n      <p className=\"section-heading mb-0\" hidden={!show}>\r\n        {listName}\r\n      </p>\r\n      <ScrollSection>\r\n        <div className=\"trackholder\" ref={holderRef}>\r\n          {show?.map((item, index) => (\r\n            <SongCards\r\n              key={item?.track ? item.track?.id : item.id}\r\n              id={item?.track ? item.track?.id : item.id}\r\n              item={item.track ? item.track : item}\r\n              index={index}\r\n            />\r\n          ))}\r\n        </div>\r\n      </ScrollSection>\r\n    </div>\r\n  );\r\n}\r\nexport default TrackHolders;\r\n","import './skeleton.css';\r\nfunction SkeletonPlaylist() {\r\n  return (\r\n    <div className=\"d-flex flex-column\">\r\n      <p className=\"skeleton-heading shimmer mb-0\"></p>\r\n      <span className=\"skeleton-text shimmer\"></span>\r\n      <div className=\"skeleton-trackholder\">\r\n        {Array(10)\r\n          .fill()\r\n          .map((x, i) => (\r\n            <div\r\n              key={i}\r\n              className=\"d-flex flex-column align-items-start me-2 p-2\"\r\n            >\r\n              <div className=\"skeleton-playlist shimmer\"></div>\r\n              <span className=\"skeleton-text shimmer\"></span>\r\n            </div>\r\n          ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default SkeletonPlaylist;\r\n","import '../../styling/homeComponents/featuredPlaylist.css';\r\nimport ColorThief from '../../../../node_modules/colorthief/dist/color-thief.mjs';\r\nimport { NavLink, useRouteMatch } from 'react-router-dom';\r\nimport SkeletonPlaylist from '../../skeletons/skeletonPlaylist';\r\nimport { useRef } from 'react';\r\nimport ScrollSection from '../../utils/scroll-button';\r\nimport { getCorrectPath } from '../../utils/helperFunctions';\r\nfunction FeaturedPlaylists({ show }) {\r\n  const holderRef = useRef();\r\n  const { path } = useRouteMatch();\r\n  const getPath = getCorrectPath(path);\r\n  const getColor = ({ id, index }) => {\r\n    const colorThief = new ColorThief();\r\n    const img = document.getElementById(id);\r\n    var color;\r\n    if (img.complete) {\r\n      color = colorThief.getColor(img);\r\n    } else {\r\n      img.addEventListener('load', function () {\r\n        color = colorThief.getColor(img);\r\n      });\r\n    }\r\n    document.getElementById(\r\n      id\r\n    ).style.boxShadow = `0 4px 15px rgb(${color[0]},${color[1]},${color[2]})`;\r\n\r\n    document.getElementById(id + index).style.background = `linear-gradient(\r\n      rgba(${color[0]},${color[1]},${color[2]},0.9),\r\n      rgba(${color[0]},${color[1]},${color[2]},0.3)\r\n    )`;\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {!show && <SkeletonPlaylist />}\r\n      <p className=\"section-heading mb-0\">Featured Playlists</p>\r\n      <span style={{ color: 'var(--bp-name)', fontSize: '12px' }}>\r\n        {show?.message}\r\n      </span>\r\n      <ScrollSection>\r\n        <div className=\"cards-holder\" ref={holderRef}>\r\n          {show?.playlists?.items?.map((item, index) => (\r\n            <NavLink\r\n              to={{\r\n                pathname: `${getPath}/playlist/${item.id}`,\r\n              }}\r\n              className=\"d-flex flex-column align-items-start me-2 p-2 text-decoration-none\"\r\n              key={item.id}\r\n            >\r\n              <div className=\"playlist-cards\" id={item.id + index}>\r\n                <img\r\n                  src={item?.images[0]?.url}\r\n                  alt={item?.name}\r\n                  crossOrigin=\"anonymous\"\r\n                  id={item.id}\r\n                  onLoad={() => getColor({ id: item.id, index: index })}\r\n                />\r\n              </div>\r\n              <span className=\"bp-name mt-2\">{item?.name}</span>\r\n            </NavLink>\r\n          ))}\r\n        </div>\r\n      </ScrollSection>\r\n    </div>\r\n  );\r\n}\r\nexport default FeaturedPlaylists;\r\n","import { NavLink, useLocation } from 'react-router-dom';\r\nimport '../../styling/homeComponents/categories.css';\r\nimport { useRef } from 'react';\r\nimport ScrollSection from '../../utils/scroll-button';\r\n\r\nfunction Categories({ categories }) {\r\n  const location = useLocation();\r\n  const routeTo = location.pathname === '/' ? '' : location.pathname;\r\n  const holderRef = useRef();\r\n\r\n  return (\r\n    <div>\r\n      <p className=\"section-heading mb-0\">Categories</p>\r\n      <ScrollSection>\r\n        <div className=\"cards-holder\" ref={holderRef}>\r\n          {categories?.items?.map((item, index) => (\r\n            <NavLink\r\n              to={{\r\n                pathname: `${routeTo}/category/${item?.id}`,\r\n              }}\r\n              className=\"d-flex flex-column align-items-center me-3 p-2 text-decoration-none hover-effect-cc\"\r\n              key={item.id}\r\n            >\r\n              <div className=\"category-cards\" id={item.id + index}>\r\n                <img\r\n                  src={item?.icons[0]?.url}\r\n                  alt={item?.name}\r\n                  crossOrigin=\"anonymous\"\r\n                  id={item.id}\r\n                //onLoad={() => getColor({ id: item.id, index: index })}\r\n                />\r\n              </div>\r\n              <span className=\"bp-name mt-2\">{item?.name}</span>\r\n            </NavLink>\r\n          ))}\r\n        </div>\r\n      </ScrollSection>\r\n    </div>\r\n  );\r\n}\r\nexport default Categories;\r\n","import NewReleases from '../templates/homeComponents/newreleases';\r\nimport TrackHolders from '../templates/trackholders';\r\nimport FeaturedPlaylists from '../templates/homeComponents/featuredPlaylist';\r\nimport Categories from '../templates/homeComponents/categories';\r\nimport { useEffect } from 'react';\r\nimport Artists from '../templates/artists';\r\nimport { getHome } from '../store/actions/spotify-actions';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nfunction Home() {\r\n  const {\r\n    mytoptracks,\r\n    myTopArtists,\r\n    featuredPlaylists,\r\n    categories,\r\n    bollywoodHits,\r\n    bollywoodNew,\r\n    newReleases,\r\n  } = useSelector((state) => state.library);\r\n  const token = useSelector((state) => state.player.token);\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    if (!token) return;\r\n    dispatch(getHome(token));\r\n  }, [token]);\r\n\r\n  return (\r\n    <div className=\"display-cut font-1\">\r\n      <NewReleases newReleases={newReleases} />\r\n      <TrackHolders show={mytoptracks} listName=\"My top tracks\" />\r\n      <Artists show={myTopArtists} listName=\"Top Artists\" />\r\n      <FeaturedPlaylists show={featuredPlaylists} />\r\n      {categories && <Categories categories={categories} />}\r\n      <TrackHolders show={bollywoodHits} listName={'Bollywood Hits'} />\r\n      <TrackHolders show={bollywoodNew} listName={'New Releases Bollywood'} />\r\n    </div>\r\n  );\r\n}\r\nexport default Home;\r\n","import '../styling/templates/playlist.css';\r\nimport ColorThief from '../../../node_modules/colorthief/dist/color-thief.mjs';\r\nimport { NavLink, useLocation } from 'react-router-dom';\r\nimport { useRef } from 'react';\r\nimport ScrollSection from '../utils/scroll-button';\r\nimport { getCorrectPath } from '../utils/helperFunctions';\r\n\r\nfunction Playlists({ show, listName }) {\r\n  const location = useLocation();\r\n  const routeTo = getCorrectPath(location.pathname);\r\n  const holderRef = useRef();\r\n\r\n  const getColor = ({ id, index }) => {\r\n    const colorThief = new ColorThief();\r\n    const img = document.getElementById(id);\r\n    var color;\r\n    if (img.complete) {\r\n      color = colorThief.getColor(img);\r\n    } else {\r\n      img.addEventListener('load', function () {\r\n        color = colorThief.getColor(img);\r\n      });\r\n    }\r\n    document.getElementById(\r\n      id\r\n    ).style.boxShadow = `0 4px 15px rgb(${color[0]},${color[1]},${color[2]})`;\r\n\r\n    document.getElementById(id + index).style.background = `linear-gradient(\r\n      rgba(${color[0]},${color[1]},${color[2]},0.9),\r\n      rgba(${color[0]},${color[1]},${color[2]},0.3)\r\n    )`;\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <p className=\"section-heading mb-0\">{listName}</p>\r\n      <ScrollSection>\r\n        <div className=\"cards-holder\" ref={holderRef}>\r\n          {show?.map((item, index) => (\r\n            <NavLink\r\n              to={{\r\n                pathname: `${routeTo}/playlist/${item.id}`,\r\n              }}\r\n              className=\"d-flex flex-column align-items-start me-2 p-2 text-decoration-none\"\r\n              key={item.id}\r\n            >\r\n              <div className=\"playlist-cards\" id={item.id + index}>\r\n                <img\r\n                  src={item?.images[0]?.url}\r\n                  alt={item?.name}\r\n                  crossOrigin=\"anonymous\"\r\n                  id={item.id}\r\n                  onLoad={() => getColor({ id: item.id, index: index })}\r\n                />\r\n              </div>\r\n              <span className=\"fp-name mt-2\">{item?.name}</span>\r\n            </NavLink>\r\n          ))}\r\n        </div>\r\n      </ScrollSection>\r\n    </div>\r\n  );\r\n}\r\nexport default Playlists;\r\n","import { useEffect, useState } from 'react';\r\nimport Artists from '../templates/artists';\r\nimport Playlists from '../templates/playlist';\r\nimport TrackHolders from '../templates/trackholders';\r\nimport Album from '../templates/album';\r\nimport {\r\n  searchTracksByArtist,\r\n  spotifySearch,\r\n} from '../store/actions/spotify-actions';\r\n\r\nfunction SearchPage() {\r\n  const [searchstr, setSearchstr] = useState(\r\n    window.localStorage.getItem('searchstr')\r\n  );\r\n  const [sartist, setSartist] = useState();\r\n  const [salbums, setSAlbums] = useState();\r\n  const [stracks, setStracks] = useState();\r\n  const [splaylist, setSplaylist] = useState();\r\n  const [strackoartist, setStrackoartist] = useState();\r\n\r\n  function handleSearch(e) {\r\n    setSearchstr(e.target.value);\r\n    window.localStorage.setItem('searchstr', e.target.value);\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (searchstr) {\r\n      spotifySearch(searchstr)\r\n        .then((res) => {\r\n          const { albums, artists, playlists, tracks } = res.body;\r\n          setSAlbums(albums.items);\r\n          setStracks(tracks.items);\r\n          setSartist(artists.items);\r\n          setSplaylist(playlists.items);\r\n        })\r\n        .catch((err) => console.log(err));\r\n\r\n      // Search tracks whose artist's name contains searchstr\r\n      searchTracksByArtist(searchstr).then(\r\n        function (data) {\r\n          let songs = data.body.tracks.items;\r\n          setStrackoartist(songs);\r\n        },\r\n        function (err) {\r\n          console.log('Something went wrong!', err);\r\n        }\r\n      );\r\n    }\r\n  }, [searchstr]);\r\n\r\n  return (\r\n    <div className=\"display-cut\">\r\n      <div className=\"d-flex align-items-center justify-content-center py-4\">\r\n        <div className=\"search\">\r\n          <ion-icon name=\"search-outline\"></ion-icon>\r\n          <input\r\n            type=\"text\"\r\n            className=\"escapeEvent\"\r\n            value={searchstr}\r\n            onChange={(e) => handleSearch(e)}\r\n            placeholder=\"Artists, songs, playlists\"\r\n          />\r\n        </div>\r\n      </div>\r\n      {stracks && <TrackHolders show={stracks} listName={'Search tracks'} />}\r\n      {salbums && <Album list={salbums} />}\r\n      {sartist && <Artists show={sartist} listName={'Search artists'} />}\r\n      {splaylist && <Playlists show={splaylist} listName={'Search playlist'} />}\r\n\r\n      {strackoartist && (\r\n        <TrackHolders\r\n          show={strackoartist}\r\n          listName={'Search tracks by artists name'}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\nexport default SearchPage;\r\n","import { Route, Switch, useRouteMatch } from 'react-router';\r\nimport Artist from '../routes/artist';\r\nimport Playlist from '../routes/playlist';\r\nimport Album from '../routes/album';\r\nimport SearchPage from './search-page';\r\n\r\nfunction SearchRouter() {\r\n  let { path } = useRouteMatch();\r\n\r\n  return (\r\n    <>\r\n      <Switch>\r\n        <Route exact path={`${path}`}>\r\n          <SearchPage />\r\n        </Route>\r\n        <Route exact path=\"/app/search/artist/:id\" component={Artist} />\r\n        <Route\r\n          exact\r\n          path=\"/app/search/playlist/:id\"\r\n          component={Playlist}\r\n        ></Route>\r\n        <Route exact path=\"/app/search/album/:id\" component={Album}></Route>\r\n      </Switch>\r\n    </>\r\n  );\r\n}\r\nexport default SearchRouter;\r\n","import './skeleton.css';\r\n\r\nfunction SkeletonSPlaylist() {\r\n  return (\r\n    <div>\r\n      <p className=\"skeleton-heading shimmer mb-0\"></p>\r\n      <div className=\"library-cards-holder\">\r\n        {Array(12)\r\n          .fill()\r\n          .map((item, i) => (\r\n            <div\r\n              className=\"d-flex flex-column align-items-center me-2 p-2 text-decoration-none\"\r\n              key={i}\r\n            >\r\n              <div className=\"skeleton-library-playlist-cards shimmer\"></div>\r\n              <span className=\"skeleton-text w-100 shimmer\"></span>\r\n            </div>\r\n          ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default SkeletonSPlaylist;\r\n","import '../styling/templates/playlist.css';\r\nimport { NavLink, useLocation } from 'react-router-dom';\r\nimport SkeletonSPlaylist from '../skeletons/skeletonSPlaylist';\r\nimport { getImage } from '../utils/helperFunctions';\r\nfunction LibraryPlaylists({ show, listName }) {\r\n  const location = useLocation();\r\n  const routeTo = location.pathname;\r\n\r\n  return (\r\n    <div>\r\n      {!show && <SkeletonSPlaylist />}\r\n      <p className=\"section-heading mb-3\" hidden={!show}>\r\n        {listName}\r\n      </p>\r\n      <div className=\"library-cards-holder slidefrombottom\">\r\n        {show?.map((item, index) => (\r\n          <NavLink\r\n            to={{\r\n              pathname: `${routeTo}/playlist/${item.id}`,\r\n            }}\r\n            className=\"d-flex flex-column align-items-center me-2 p-2 text-decoration-none hover-effect-lc\"\r\n            key={item.id}\r\n          >\r\n            <div className=\"library-playlist-cards\" id={item.id + index}>\r\n              <img\r\n                src={getImage(item?.images, 'md')}\r\n                alt={item?.name}\r\n                crossOrigin=\"anonymous\"\r\n                id={item.id}\r\n              />\r\n            </div>\r\n            <span className=\"lp-name mt-2\">{item?.name}</span>\r\n          </NavLink>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default LibraryPlaylists;\r\n","import { Switch } from '@material-ui/core';\r\nimport { useState, useEffect, useRef } from 'react';\r\nimport AddCircleTwoToneIcon from '@material-ui/icons/AddCircleTwoTone';\r\nimport RemoveCircleTwoToneIcon from '@material-ui/icons/RemoveCircleTwoTone';\r\nimport useSpotify from '../hooks/useSpotify';\r\nimport { setNotibar } from '../store/actions/app-actions';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nfunction NewPlaylistForm({ setShowModal, setChanges }) {\r\n  const dispatch = useDispatch();\r\n  const spotify = useSpotify();\r\n  const [form, setForm] = useState({ pname: '', desc: '', public: true });\r\n  const [file, setFile] = useState(null);\r\n  const [preview, setPreview] = useState(null);\r\n  const [base64file, setBase64File] = useState(null);\r\n  const fileInputRef = useRef();\r\n\r\n  const fileType = ['image/png', 'image/jpeg'];\r\n  const handleFile = (e) => {\r\n    let pic = e.target.files[0];\r\n    if (pic && fileType.includes(pic.type) && pic.size < 263168) {\r\n      setFile(pic);\r\n      getBase64(pic, (result) => {\r\n        setBase64File(result);\r\n      });\r\n    } else {\r\n      setFile(null);\r\n    }\r\n  };\r\n\r\n  const getBase64 = (file, cb) => {\r\n    let reader = new FileReader();\r\n    reader.readAsDataURL(file);\r\n    reader.onload = function () {\r\n      cb(reader.result.split(',')[1]);\r\n    };\r\n    reader.onerror = function (error) {\r\n      console.log('Error: ', error);\r\n    };\r\n  };\r\n\r\n  const removeImage = () => {\r\n    setFile(null);\r\n    setPreview(null);\r\n  };\r\n\r\n  //console.log(base64file);\r\n\r\n  const createPlaylist = () => {\r\n    if (form.pname) {\r\n      // Create a private playlist\r\n      spotify\r\n        .createPlaylist(form.pname, {\r\n          description: form.desc,\r\n          public: form.public,\r\n        })\r\n        .then(\r\n          function (data) {\r\n            console.log('Created playlist!');\r\n            const playlistId = data.body.id;\r\n            if (base64file) {\r\n              // Upload a custom playlist cover image\r\n              spotify\r\n                .uploadCustomPlaylistCoverImage(playlistId, base64file)\r\n                .then(\r\n                  function (data) {\r\n                    console.log('Playlist cover image uploaded!');\r\n                    setShowModal(false);\r\n                  },\r\n                  function (err) {\r\n                    console.log('Something went wrong!', err);\r\n                  }\r\n                );\r\n            } else {\r\n              setShowModal(false);\r\n            }\r\n            dispatch(setNotibar('Playlist created! :)', true));\r\n            setChanges((prev) => ({ changes: !prev.changes }));\r\n          },\r\n          function (err) {\r\n            console.log('Something went wrong!', err);\r\n          }\r\n        );\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!file) {\r\n      setPreview(undefined);\r\n      return;\r\n    }\r\n    const objectUrl = URL.createObjectURL(file);\r\n    setPreview(objectUrl);\r\n    // free memory when ever this component is unmounted\r\n    return () => URL.revokeObjectURL(objectUrl);\r\n  }, [file]);\r\n\r\n  return (\r\n    <div className=\"playlist-form\">\r\n      <div className=\"pl-form-outer\">\r\n        <div className=\"upload-img-div\">\r\n          <input ref={fileInputRef} type=\"file\" onChange={handleFile} hidden />\r\n          <button\r\n            className=\"t-btn w-100\"\r\n            onClick={() => fileInputRef.current.click()}\r\n          >\r\n            <AddCircleTwoToneIcon fontSize=\"large\" />\r\n          </button>\r\n          {file && (\r\n            <div>\r\n              <img src={preview} className=\"uploaded-img\" alt=\"art-pic\" />\r\n            </div>\r\n          )}\r\n          {file && (\r\n            <button className=\"remove-img-btn\" onClick={removeImage}>\r\n              <RemoveCircleTwoToneIcon style={{ color: 'var(--main-theme)' }} />\r\n            </button>\r\n          )}\r\n        </div>\r\n        <div>\r\n          <div className=\"mb-2 d-flex justify-content-between\">\r\n            <label className=\"me-2\">Name:</label>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Playlist Name\"\r\n              className=\"escapeEvent\"\r\n              value={form.pname}\r\n              onChange={(e) => setForm({ ...form, pname: e.target.value })}\r\n            />\r\n          </div>\r\n          <div className=\"d-flex justify-content-between\">\r\n            <label>Description:</label>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Small description\"\r\n              className=\"escapeEvent\"\r\n              value={form.desc}\r\n              onChange={(e) => setForm({ ...form, desc: e.target.value })}\r\n            />\r\n          </div>\r\n          <div className=\"d-flex align-items-center mt-2\">\r\n            <label>Public:</label>\r\n            <Switch\r\n              checked={form.public}\r\n              onChange={() => setForm({ ...form, public: !form.public })}\r\n              color=\"secondary\"\r\n              size=\"small\"\r\n            />\r\n          </div>\r\n          <div className=\"d-flex justify-content-end mt-3\">\r\n            <button className=\"create-btn\" onClick={createPlaylist}>\r\n              CREATE\r\n            </button>\r\n            <button className=\"cancel-btn\" onClick={() => setShowModal(false)}>\r\n              CANCEL\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default NewPlaylistForm;\r\n","import axios from 'axios';\r\nimport { useEffect, useState } from 'react';\r\nimport ControlPointIcon from '@material-ui/icons/ControlPoint';\r\nimport LibraryPlaylists from '../templates/library-playlist';\r\nimport NewPlaylistForm from './new-playlist-form';\r\nimport { useSelector } from 'react-redux';\r\nimport { getMyPlaylists } from '../store/actions/spotify-actions';\r\n\r\nfunction LibraryPage() {\r\n  const [myplaylists, setMyplaylists] = useState();\r\n  const { token } = useSelector((state) => state.player);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [changes, setChanges] = useState(false);\r\n\r\n  useEffect(() => {\r\n    getMyPlaylists(token)\r\n      .then((res) => {\r\n        //console.log(res.data);\r\n        setMyplaylists(res.data.items);\r\n      })\r\n      .catch((err) => console.log(err));\r\n    axios\r\n      .get('https://api.spotify.com/v1/me/albums', {\r\n        headers: {\r\n          Authorization: 'Bearer ' + token,\r\n        },\r\n      })\r\n      .then((res) => {\r\n        //console.log(res.data);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }, [token, changes]);\r\n\r\n  return (\r\n    <div className=\"display-cut\">\r\n      <div className=\"d-flex justify-content-end\">\r\n        <button className=\"create-pl-btn\" onClick={() => setShowModal(true)}>\r\n          <ControlPointIcon />\r\n          <span className=\"mx-1 font-1\">Create Playlist</span>\r\n        </button>\r\n      </div>\r\n      {showModal && (\r\n        <NewPlaylistForm setShowModal={setShowModal} setChanges={setChanges} />\r\n      )}\r\n      <LibraryPlaylists show={myplaylists} listName={'My playlists'} />\r\n    </div>\r\n  );\r\n}\r\nexport default LibraryPage;\r\n","import Artist from '../routes/artist';\r\nimport Playlist from '../routes/playlist';\r\nimport Album from '../routes/album';\r\nimport { Route, Switch, useRouteMatch } from 'react-router';\r\nimport LibraryPage from './library-page';\r\n\r\nfunction LibraryRouter() {\r\n  let { path } = useRouteMatch();\r\n  return (\r\n    <>\r\n      <Switch>\r\n        <Route exact path={`${path}`}>\r\n          <LibraryPage />\r\n        </Route>\r\n        <Route\r\n          exact\r\n          path={`${path}/playlist/:id`}\r\n          render={(props) => <Playlist {...props} />}\r\n        />\r\n        <Route path={`${path}/artist/:id`} component={Artist}></Route>\r\n        <Route path={`${path}/album/:id`} component={Album}></Route>\r\n      </Switch>\r\n    </>\r\n  );\r\n}\r\nexport default LibraryRouter;\r\n","const min = {\r\n  type0: {\r\n    color: 'rgba(0, 255, 127, 1)',\r\n    background: 'rgba(0, 255, 127, 0.3)',\r\n    width: '25%',\r\n    name: 'Standard',\r\n  },\r\n  type1: {\r\n    color: 'rgba(0, 255, 127, 1)',\r\n    background: 'rgba(59, 250, 118,0.5)',\r\n    width: '50%',\r\n    name: 'Classic',\r\n  },\r\n  type2: {\r\n    color: 'rgba(0, 255, 127, 1)',\r\n    background: 'rgba(34, 249, 93, 0.7)',\r\n    width: '75%',\r\n    name: 'Minimal',\r\n  },\r\n  type3: {\r\n    color: 'rgba(0, 255, 127, 1)',\r\n    background: 'rgba(34, 249, 93, 0.7)',\r\n    width: '100%',\r\n    name: 'Island',\r\n  },\r\n};\r\nconst max = {\r\n  type0: {\r\n    color: 'rgba(0, 255, 255,1)',\r\n    background: 'rgba(0, 255, 255,0.2)',\r\n    width: '25%',\r\n    name: 'Standard',\r\n  },\r\n  type1: {\r\n    color: 'rgba(0, 255, 255,1)',\r\n    background: 'rgba(0, 255, 255,0.4)',\r\n    width: '50%',\r\n    name: 'Classic',\r\n  },\r\n  type2: {\r\n    color: 'rgba(0, 200, 255,1)',\r\n    background: 'rgba(0, 200, 255,0.6)',\r\n    width: '75%',\r\n    name: 'The Loop',\r\n  },\r\n  type3: {\r\n    color: 'rgba(0, 200, 255,1)',\r\n    background: 'rgba(0, 200, 255,0.8)',\r\n    width: '100%',\r\n    name: 'Standard Arcs',\r\n  },\r\n};\r\nconst themes = [\r\n  {\r\n    color: 'rgba(0, 255, 127, 1)',\r\n    theme: 'rgba(0, 255, 127,0.9)',\r\n    themeBG: 'rgba(0, 255, 127,0.75)',\r\n    themeBGLite: 'rgba(0, 255, 127,0.1)',\r\n    width: '33%',\r\n    name: '#00FF7F',\r\n  },\r\n  {\r\n    color: 'rgba(21, 244, 238, 1)',\r\n    theme: 'rgba(21, 244, 238,0.9)',\r\n    themeBG: 'rgba(21, 244, 238,0.75)',\r\n    themeBGLite: 'rgba(21, 244, 238,0.1)',\r\n    width: '100%',\r\n    name: '#15F4EE',\r\n  },\r\n];\r\nconst sideBar = {\r\n  type0: {\r\n    color: 'rgba(227, 115, 131, 1)',\r\n    background: 'rgba(227, 115, 131, 0.2)',\r\n    width: '50%',\r\n    name: 'Standard',\r\n  },\r\n  type1: {\r\n    color: 'rgba(252, 137, 172, 1)',\r\n    background: 'rgba(252, 137, 172, 0.4)',\r\n    width: '100%',\r\n    name: 'Classic',\r\n  },\r\n}\r\nconst cp = [\r\n  { type: 'Black/dark', cp: false },\r\n  { type: 'colorpalette', cp: true },\r\n];\r\n\r\nconst islandConstants = [{ value: 'Play/Pause', use: 'playPause' },\r\n{ value: 'Play Next', use: 'skipNext' },\r\n{ value: 'Play Previous', use: 'skipPrevious' }\r\n];\r\n\r\nexport { min, max, sideBar, themes, cp, islandConstants };\r\n","import RadioTwoToneIcon from '@material-ui/icons/RadioTwoTone';\r\nimport LibraryMusicTwoToneIcon from '@material-ui/icons/LibraryMusicTwoTone';\r\nimport Apps from '@material-ui/icons/Apps';\r\nimport CheckCircleOutline from '@material-ui/icons/CheckCircleOutline';\r\nimport DoneIcon from '@material-ui/icons/Done';\r\nimport PaletteTwoToneIcon from '@material-ui/icons/PaletteTwoTone';\r\nimport { min, max, sideBar, themes, cp } from './settingConstants';\r\nimport { useRef, useState } from 'react';\r\nimport '../../styling/settings.css';\r\nimport {\r\n  setSideBarType,\r\n  setMaxType,\r\n  setMinType,\r\n  setTheme,\r\n} from '../../store/actions/player-actions';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { toggleColorPalette } from '../../store/actions/app-actions';\r\nimport { handleThemeChange } from '../../utils/helperFunctions';\r\nimport { AppBar } from '@material-ui/core';\r\n\r\nfunction Appearance() {\r\n  const dispatch = useDispatch();\r\n  const { minplayertype, maxplayertype, sideBartype, theme } = useSelector(\r\n    (state) => state.player\r\n  );\r\n  const { darkMode, colorpalette } = useSelector((state) => state.app);\r\n  const [customColor, setCustomColor] = useState(\r\n    JSON.parse(window.localStorage.getItem('customtheme'))\r\n  );\r\n  const pickerRef = useRef();\r\n\r\n  const handleSelection = (type, setts) => {\r\n    var inSetts = (type + 1) % Object.keys(setts).length === 0 ? 0 : type + 1;\r\n    switch (setts) {\r\n      case min:\r\n        dispatch(setMinType(inSetts));\r\n        break;\r\n      case max:\r\n        dispatch(setMaxType(inSetts));\r\n        break;\r\n      case sideBar:\r\n        dispatch(setSideBarType(inSetts));\r\n        break;\r\n      default:\r\n        console.log('Selection error');\r\n        break;\r\n    }\r\n    inSetts = 0;\r\n  }\r\n\r\n  function handleTheme(hex) {\r\n    handleThemeChange(hex);\r\n    dispatch(setTheme(hex));\r\n  }\r\n  const handleCustomTheme = (hex) => {\r\n    handleTheme(hex);\r\n    setCustomColor(hex);\r\n    window.localStorage.setItem('customtheme', JSON.stringify(hex));\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        <p className=\"section-heading mb-0\">Appearance</p>\r\n        <hr />\r\n        <div className=\"btn-settings-holder\">\r\n          <div className=\"btn-settings\" onClick={() => handleSelection(minplayertype, min)}>\r\n            <span\r\n              style={{\r\n                color: darkMode ? min['type' + minplayertype].color : 'black',\r\n              }}\r\n            >\r\n              <RadioTwoToneIcon className=\"me-2\" />\r\n              Mini Player\r\n            </span>\r\n            <span style={{ color: 'var(--text-primary)' }}>\r\n              {min['type' + minplayertype].name}\r\n            </span>\r\n            <div\r\n              className=\"btn-settings-slider\"\r\n              style={{\r\n                width: min['type' + minplayertype].width,\r\n                background: min['type' + minplayertype].background,\r\n              }}\r\n            ></div>\r\n          </div>\r\n          <div className=\"btn-settings\" onClick={() => handleSelection(maxplayertype, max)}>\r\n            <span\r\n              style={{\r\n                color: darkMode ? max['type' + maxplayertype].color : 'black',\r\n              }}\r\n            >\r\n              <LibraryMusicTwoToneIcon className=\"me-2\" />\r\n              Max Player\r\n            </span>\r\n            <span style={{ color: 'var(--text-primary)' }}>\r\n              {max['type' + maxplayertype].name}\r\n            </span>\r\n            <div\r\n              className=\"btn-settings-slider\"\r\n              style={{\r\n                width: max['type' + maxplayertype].width,\r\n                background: max['type' + maxplayertype].background,\r\n              }}\r\n            ></div>\r\n          </div>\r\n          <div className=\"btn-settings\" onClick={() => handleSelection(sideBartype, sideBar)}>\r\n            <span\r\n              style={{\r\n                color: darkMode ? sideBar['type' + sideBartype].color : 'black',\r\n              }}\r\n            >\r\n              <Apps className=\"me-2\" />\r\n              App Bar\r\n            </span>\r\n            <span style={{ color: 'var(--text-primary)' }}>\r\n              {sideBar['type' + sideBartype].name}\r\n            </span>\r\n            <div\r\n              className=\"btn-settings-slider\"\r\n              style={{\r\n                width: sideBar['type' + sideBartype].width,\r\n                background: sideBar['type' + sideBartype].background,\r\n              }}\r\n            ></div>\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n\r\n      <div\r\n        className=\"btn-settings themer\"\r\n        style={{\r\n          border: 'none',\r\n        }}\r\n      >\r\n        <span className=\"section-heading my-2\">\r\n          <PaletteTwoToneIcon className=\"me-2\" />\r\n          Theme\r\n        </span>\r\n        <div><span className='color-info'>{customColor ? customColor : theme}</span><CheckCircleOutline style={{ color: theme }} /></div>\r\n        <div className=\"custom-radio mt-1\">\r\n          {themes.map((inside, index) => (\r\n            <div\r\n              className={'fake-radio'}\r\n              style={{\r\n                background: themes[index].color,\r\n              }}\r\n              key={index}\r\n              onClick={() => handleTheme(themes[index].name)}\r\n            >\r\n              <DoneIcon\r\n                style={{\r\n                  color:\r\n                    theme === themes[index].name\r\n                      ? 'var(--background)'\r\n                      : 'transparent',\r\n                }}\r\n                fontSize=\"small\"\r\n              />\r\n            </div>\r\n          ))}\r\n          <div\r\n            className={(customColor ? '' : 'mix-colors') + ' fake-radio'}\r\n            style={{ background: customColor }}\r\n            onClick={() => pickerRef.current.click()}\r\n          >\r\n            <input\r\n              type=\"color\"\r\n              ref={pickerRef}\r\n              onChange={(e) => handleCustomTheme(e.target.value)}\r\n              value={customColor}\r\n              hidden\r\n            />\r\n            <DoneIcon\r\n              style={{\r\n                color:\r\n                  customColor === theme ? 'var(--background)' : 'transparent',\r\n              }}\r\n              fontSize=\"small\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div>\r\n        <p className=\"section-heading mb-0\">Color pallete</p>\r\n        <div className=\"color-p-outer\">\r\n          {cp.map((c, i) => (\r\n            <div\r\n              className=\"cp-circle\"\r\n              onClick={() => dispatch(toggleColorPalette(cp[i].cp))}\r\n              key={i}\r\n            >\r\n              <DoneIcon\r\n                style={{\r\n                  display: colorpalette !== cp[i].cp && 'none',\r\n                }}\r\n                fontSize=\"small\"\r\n              />\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default Appearance;\r\n","import { useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { setFont } from '../../store/actions/player-actions';\r\nimport '../../styling/settings.css';\r\n\r\nfunction SelectFont() {\r\n  const dispatch = useDispatch();\r\n  const appFont = useSelector((state) => state.player.font);\r\n  const fonts = [\r\n    \"'Shadows Into Light', cursive\",\r\n    \"'Cookie', cursive\",\r\n    \"'Poiret One', cursive\",\r\n    \" 'Raleway', sans-serif\",\r\n    \"'Mountains of Christmas', cursive\",\r\n  ];\r\n\r\n  const handleChange = (font) => {\r\n    dispatch(setFont(font));\r\n    document.documentElement.style.setProperty('--font', font);\r\n  };\r\n  const equalFonts = (font) => {\r\n    return appFont === font;\r\n  };\r\n  return (\r\n    <>\r\n      <p className=\"section-heading mb-0\">Font</p>\r\n      <div className=\"font-container mt-3\">\r\n        {fonts.map((font, i) => (\r\n          <div\r\n            className=\"font-select\"\r\n            key={i}\r\n            style={{\r\n              border: equalFonts(font)\r\n                ? '2px solid var(--main-theme)'\r\n                : '1px solid grey',\r\n              color: equalFonts(font) ? 'var(--main-theme)' : 'grey',\r\n            }}\r\n            onClick={() => handleChange(font)}\r\n          >\r\n            <span style={{ fontFamily: font }}>Aa</span>\r\n            <span style={{ fontFamily: font }}>abc</span>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\nexport default SelectFont;\r\n","import { FormControl, InputLabel, makeStyles, MenuItem, Select } from \"@material-ui/core\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { setIslandDouble } from \"../../store/actions/player-actions\";\r\nimport { islandConstants } from \"./settingConstants\";\r\n\r\nconst useStyles = makeStyles(() => ({\r\n    formControl: {\r\n        \"& .MuiInputBase-root\": {\r\n            color: \"var(--main-theme)\",\r\n            borderColor: \"rgba(191, 191, 191,0.2)\",\r\n            border: 0,\r\n            borderWidth: \"1px\",\r\n            borderStyle: \"solid\",\r\n            borderRadius: \"5px\",\r\n            minWidth: \"170px\",\r\n            justifyContent: \"center\"\r\n        },\r\n        \"& .MuiSelect-select.MuiSelect-select\": {\r\n            paddingRight: \"0px\"\r\n        }\r\n    },\r\n    select: {\r\n        width: \"auto\",\r\n        fontFamily: 'var(--font)',\r\n        fontWeight: 'bolder',\r\n        letterSpacing: '1px',\r\n        fontSize: \"12px\",\r\n        \"&:focus\": {\r\n            backgroundColor: \"transparent\"\r\n        }\r\n    },\r\n    selectIcon: {\r\n        color: \"var(--main-theme)\",\r\n    },\r\n    paper: {\r\n        borderRadius: 2,\r\n        marginTop: 4,\r\n        background: 'var(--background)',\r\n        color: 'var(--bp-name)'\r\n    },\r\n    list: {\r\n        paddingTop: 0,\r\n        paddingBottom: 0,\r\n        \"& li\": {\r\n            fontWeight: 200,\r\n            paddingTop: 4,\r\n            paddingBottom: 4,\r\n            fontSize: \"12px\",\r\n            fontFamily: 'var(--font)',\r\n            fontWeight: 'bolder',\r\n            letterSpacing: '1px',\r\n            minWidth: \"170px\",\r\n        },\r\n        \"& li.Mui-selected\": {\r\n            color: \"var(--background)\",\r\n            background: \"var(--main-theme)\"\r\n        },\r\n        \"& li.Mui-selected:hover\": {\r\n            color: 'var(--bp-name)',\r\n            background: 'grey'\r\n        }\r\n    }\r\n}));\r\n\r\nfunction IslandSettings() {\r\n    const dispatch = useDispatch();\r\n    const { islandDouble } = useSelector((state) => state.player);\r\n\r\n    const classes = useStyles();\r\n\r\n    const menuProps = {\r\n        classes: {\r\n            list: classes.list,\r\n            paper: classes.paper\r\n        },\r\n        anchorOrigin: {\r\n            vertical: \"bottom\",\r\n            horizontal: \"center\"\r\n        },\r\n        transformOrigin: {\r\n            vertical: \"top\",\r\n            horizontal: \"center\"\r\n        },\r\n        getContentAnchorEl: null\r\n    };\r\n\r\n    const handleChange = (e) => {\r\n        switch (e.target.name) {\r\n            case 'Double Tap':\r\n                dispatch(setIslandDouble(islandConstants.findIndex(item => item.value === e.target.value)));\r\n                break;\r\n            default:\r\n                console.log('Label Error');\r\n                break;\r\n        }\r\n\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <p className=\"section-heading mb-0\">Island Settings</p>\r\n            <div className=\"island-sets-outer\">\r\n                <div className=\"island-sets\">\r\n                    <p className=\"section-heading\">\r\n                        Double Tap\r\n                    </p>\r\n                    <FormControl variant=\"standard\" className={classes.formControl}>\r\n                        <Select\r\n                            value={islandConstants[islandDouble]?.value}\r\n                            name=\"Double Tap\"\r\n                            onChange={handleChange}\r\n                            classes={{\r\n                                select: classes.select,\r\n                                icon: classes.selectIcon\r\n                            }}\r\n                            MenuProps={menuProps}\r\n                        >\r\n                            {islandConstants.map((item, index) => (\r\n                                <MenuItem key={index} value={item.value}>{item.value}</MenuItem>\r\n                            ))}\r\n                        </Select>\r\n                    </FormControl>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default IslandSettings;","import { useState } from 'react';\r\nimport '../../styling/settings.css';\r\nimport { setVCLang } from '../../store/actions/player-actions';\r\nimport { setAlbumBG, toggleDarkMode } from '../../store/actions/app-actions';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nfunction OtherSettings() {\r\n  const dispatch = useDispatch();\r\n  const vcLang = useSelector((state) => state.player.vcLang);\r\n  const albumBackground = useSelector((state) => state.app.albumBackground);\r\n  const darkMode = useSelector((state) => state.app.darkMode);\r\n  const [lang, setLang] = useState(vcLang);\r\n\r\n  const languages = [\r\n    'en-IN/(English India)',\r\n    'en-US/(English US)',\r\n    'en-GB/(English UK)',\r\n    'en-IE/(English Ireland)',\r\n  ];\r\n\r\n  const handleChange = (event) => {\r\n    setLang(event.target.value);\r\n    const getLang = event.target.value.split('/')[0];\r\n    dispatch(setVCLang(getLang));\r\n  };\r\n\r\n  const handleAlbumBG = () => {\r\n    dispatch(setAlbumBG(!albumBackground));\r\n  };\r\n  return (\r\n    <div>\r\n      <p className=\"section-heading mb-0\">Other Settings</p>\r\n      <hr />\r\n      <div className=\"other-settings vc-settings\">\r\n        <label className=\"section-heading mb-2 me-3\" htmlFor=\"vc-lang\">\r\n          Voice command language\r\n        </label>\r\n        <div className=\"custom-select-2\">\r\n          <select name=\"vc-lang\" value={lang} onChange={handleChange}>\r\n            {languages.map((lang, i) => (\r\n              <option value={lang} key={i}>\r\n                {lang}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n      </div>\r\n      <div className=\"other-settings\">\r\n        <span className=\"section-heading mb-2 me-3\">\r\n          Current song background\r\n        </span>\r\n        <label className=\"toggle-switch-3\">\r\n          <input\r\n            type=\"checkbox\"\r\n            checked={albumBackground}\r\n            onChange={handleAlbumBG}\r\n          ></input>\r\n          <span>\r\n            <i></i>\r\n          </span>\r\n        </label>\r\n      </div>\r\n      <div className=\"other-settings\">\r\n        <span className=\"section-heading mb-2 me-3\">Dark Mode</span>\r\n        <label className=\"toggle-switch-3\">\r\n          <input\r\n            type=\"checkbox\"\r\n            checked={darkMode}\r\n            onChange={() => dispatch(toggleDarkMode())}\r\n          ></input>\r\n          <span>\r\n            <i></i>\r\n          </span>\r\n        </label>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default OtherSettings;\r\n","import { useSelector } from 'react-redux';\r\nimport { logOut } from '../../utils/helperFunctions';\r\nfunction UserData() {\r\n  const { user } = useSelector((state) => state.user);\r\n  const userPic = user?.images?.[0]\r\n    ? user?.images?.[0]?.url\r\n    : '/nullavatar.jpg';\r\n\r\n  return (\r\n    <div className=\"account-info\">\r\n      <div className=\"user-pic-outer\">\r\n        <img src={userPic} className=\"user-pic\" />\r\n        <div className=\"s-logo\">\r\n          <img src={'/spotify.png'} />\r\n        </div>\r\n      </div>\r\n      <span className=\"user-name my-2\">{user?.display_name}</span>\r\n      <div className=\"sts-container\">\r\n        <div className=\"user-sts\">\r\n          <span>{user?.followers?.total}</span>\r\n          <p>FOLLOWERS</p>\r\n        </div>\r\n        <div className=\"user-sts\">\r\n          <span>{user?.following}</span>\r\n          <p>FOLLOWING</p>\r\n        </div>\r\n        <div className=\"user-sts\">\r\n          <span>{user?.playlists}</span>\r\n          <p>PLAYLISTS</p>\r\n        </div>\r\n      </div>\r\n      <button className=\"sign-out-btn\" onClick={logOut}>\r\n        Log Out\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\nexport default UserData;\r\n","import Appearance from './settings/appearance';\r\nimport SelectFont from './settings/font';\r\nimport IslandSettings from './settings/islandSettings';\r\nimport OtherSettings from './settings/otherSettings';\r\nimport UserData from './settings/user';\r\n\r\nfunction Settings() {\r\n  return (\r\n    <div className=\"display-cut\">\r\n      <div className=\"settings\">\r\n        <UserData />\r\n        <Appearance />\r\n        <IslandSettings />\r\n        <SelectFont />\r\n        <OtherSettings />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default Settings;\r\n","import CloseIcon from '@material-ui/icons/Close';\r\nimport CheckCircleTwoToneIcon from '@material-ui/icons/CheckCircleTwoTone';\r\nimport { useEffect, useRef, useState } from 'react';\r\nimport useSpotify from '../hooks/useSpotify';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { setNotibar, toggleAddToPlaylist } from '../store/actions/app-actions';\r\nimport { getMyPlaylists, getTrack } from '../store/actions/spotify-actions';\r\n\r\nfunction AddToPlaylist() {\r\n  const dispatch = useDispatch();\r\n  const atpRef = useRef();\r\n  const user = useSelector((state) => state.user.user);\r\n  const settings = useSelector((state) => state.app.settings);\r\n  const token = useSelector((state) => state.player.token);\r\n  const spotify = useSpotify();\r\n\r\n  const [myplaylists, setMyplaylists] = useState();\r\n  const [checkedPlaylists, setCheckedPlaylists] = useState();\r\n  const [track, setTrack] = useState();\r\n\r\n  useEffect(() => {\r\n    if (!token || !settings?.trackToAdd?.id) return;\r\n    getTrack(settings?.trackToAdd?.id)\r\n      .then((res) => {\r\n        //console.log(res.body);\r\n        setTrack(res.body);\r\n        getMyPlaylists(token)\r\n          .then((res) => {\r\n            //console.log(res.data);\r\n            let lists = [];\r\n            res.data.items.map((item, index) => {\r\n              if (user?.display_name === item?.owner?.display_name) {\r\n                lists.push(item);\r\n              }\r\n              return lists;\r\n            });\r\n            setMyplaylists(lists);\r\n            setCheckedPlaylists(initCheckboxes(lists));\r\n          })\r\n          .catch((err) => console.log(err));\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }, [settings.isAddToPlaylistOpen, token]);\r\n\r\n  useEffect(() => {\r\n    atpRef.current.style.display = settings.isAddToPlaylistOpen\r\n      ? 'flex'\r\n      : 'none';\r\n  }, [settings.isAddToPlaylistOpen]);\r\n\r\n  function closeModal() {\r\n    dispatch(toggleAddToPlaylist(false));\r\n  }\r\n  function initCheckboxes(playlists, value = false) {\r\n    const object = {};\r\n\r\n    playlists.forEach((playlist) => {\r\n      object[playlist.id] = value;\r\n    });\r\n\r\n    return object;\r\n  }\r\n\r\n  const toggleCheckedPlaylist = (playlistId) => {\r\n    setCheckedPlaylists({\r\n      ...checkedPlaylists,\r\n      [playlistId]: !checkedPlaylists[playlistId],\r\n    });\r\n  };\r\n\r\n  function handleSubmit(e) {\r\n    const playlistIds = Object.keys(checkedPlaylists).filter(\r\n      (playlistId) => checkedPlaylists[playlistId]\r\n    );\r\n    for (let i = 0; i < playlistIds.length; i++) {\r\n      spotify.addTracksToPlaylist(playlistIds[i], [track?.uri]).then(\r\n        function (data) {\r\n          console.log('Added tracks to playlist!');\r\n          dispatch(setNotibar('Tracks Added :)', true));\r\n          closeModal();\r\n        },\r\n        function (err) {\r\n          console.log('Something went wrong!', err);\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  function FormCheckBox({ index, item, isChecked }) {\r\n    return (\r\n      <>\r\n        <input\r\n          type=\"checkbox\"\r\n          value={isChecked}\r\n          id={item.id}\r\n          onChange={() => toggleCheckedPlaylist(item.id)}\r\n          hidden\r\n        />\r\n        <label htmlFor={item.id} key={index} className=\"atp-p-info py-2\">\r\n          <div className=\"atp-p-check\">\r\n            {isChecked && (\r\n              <CheckCircleTwoToneIcon style={{ color: 'var(--main-theme)' }} />\r\n            )}\r\n          </div>\r\n          <div className=\"atp-p-name font-1-s\">\r\n            <span style={{ color: isChecked ? 'var(--main-theme)' : 'white' }}>\r\n              {item.name}\r\n            </span>\r\n          </div>\r\n          <div className=\"atp-p-count font-1-s\">\r\n            <span style={{ color: isChecked ? 'var(--main-theme)' : 'white' }}>\r\n              {item.tracks.total + ' tracks'}\r\n            </span>\r\n          </div>\r\n        </label>\r\n      </>\r\n    );\r\n  }\r\n  return (\r\n    <div ref={atpRef} className=\"atp-outer\" style={{ zIndex: '50' }}>\r\n      <div className=\"atp\">\r\n        <div className=\"atp-header font-1-s \">\r\n          <span className=\"text-light h4 p-1\">Add to Playlist</span>\r\n          <button className=\"t-btn q-close\" onClick={closeModal}>\r\n            <CloseIcon fontSize=\"large\" style={{ color: 'white' }} />\r\n          </button>\r\n        </div>\r\n        <div className=\"atp-inner \">\r\n          <div className=\"atp-t-info font-1-s\">\r\n            <img\r\n              src={track?.album?.images[1]?.url}\r\n              alt=\"track-to-add\"\r\n              width=\"250\"\r\n            />\r\n\r\n            <span className=\"text-light\">{track?.name}</span>\r\n            <span style={{ color: 'wheat' }}>\r\n              {track?.artists.map(\r\n                (item, index) => (index ? ', ' : '') + item.name\r\n              )}\r\n            </span>\r\n          </div>\r\n          <div className=\"font-1-s px-3 py-2 mb-5 text-light\">\r\n            <span className=\"px-2 h5\">Select playlists to add to</span>\r\n            <hr />\r\n            {myplaylists?.map((item, index) => (\r\n              <FormCheckBox\r\n                key={index}\r\n                index={index}\r\n                item={item}\r\n                isChecked={checkedPlaylists?.[item.id]}\r\n              />\r\n            ))}\r\n          </div>\r\n        </div>\r\n        <div className=\"atp-footer\">\r\n          <button className=\"cancel-btn\" onClick={closeModal}>\r\n            Cancel\r\n          </button>\r\n          <button className=\"add-btn\" onClick={handleSubmit}>\r\n            Add\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default AddToPlaylist;\r\n","import CloseIcon from '@material-ui/icons/Close';\r\nimport { useEffect, useRef } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { toggleKeyboard } from '../store/actions/app-actions';\r\n\r\nfunction KeyboardShortcuts() {\r\n  const atpRef = useRef();\r\n  const dispatch = useDispatch();\r\n  const isKeyboard = useSelector((state) => state.app.settings.isKeyboard);\r\n  const data = [\r\n    { name: 'Play/Pause', key: 'P' },\r\n    { name: 'Mute/Unmute', key: 'M' },\r\n    { name: 'Next Song', key: 'X' },\r\n    { name: 'Previous Song', key: 'Z' },\r\n    { name: 'Volume Up', key: '' },\r\n    { name: 'Volume Down', key: '' },\r\n    { name: 'Open Player', key: 'B' },\r\n    { name: 'Show/Hide Controls', key: 'H' },\r\n    { name: 'Show/Hide Queue', key: 'Q' },\r\n    { name: 'Full Screen', key: 'F' },\r\n    {\r\n      name: 'Voice Command (hold button)',\r\n      key: 'V',\r\n    },\r\n  ];\r\n\r\n  useEffect(() => {\r\n    atpRef.current.style.display = isKeyboard ? 'flex' : 'none';\r\n  }, [isKeyboard]);\r\n\r\n  function closeModal() {\r\n    dispatch(toggleKeyboard(false));\r\n  }\r\n  return (\r\n    <div ref={atpRef} className=\"atp-outer\">\r\n      <div className=\"atp\">\r\n        <div className=\"atp-header font-1-s \">\r\n          <span className=\"text-light h4 p-1\">Keyboard Shortcuts :)</span>\r\n          <button className=\"t-btn\" onClick={closeModal}>\r\n            <CloseIcon fontSize=\"large\" style={{ color: 'white' }} />\r\n          </button>\r\n        </div>\r\n        <div className=\"atp-inner px-4\">\r\n          {data.map((item, index) => (\r\n            <div key={index} className=\"key-info font-1\">\r\n              <span className=\"key-name\">{item.name}</span>\r\n              <span className=\"key-btn\">{item.key}</span>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default KeyboardShortcuts;\r\n","import '../styling/utils.css';\r\nimport HighlightOff from '@material-ui/icons/HighlightOff';\r\nimport { useEffect, useRef } from 'react';\r\nimport { useSelector } from 'react-redux';\r\n\r\nfunction PlayerStatus() {\r\n  const barRef = useRef();\r\n  const { playerReady, isPremium } = useSelector((state) => state.player);\r\n  useEffect(() => {\r\n    if (playerReady) {\r\n      const timeout = setTimeout(() => {\r\n        closeNotibar();\r\n      }, 7000);\r\n      return () => {\r\n        clearTimeout(timeout);\r\n      };\r\n    }\r\n  }, [playerReady]);\r\n\r\n  function closeNotibar() {\r\n    barRef.current.style.display = 'none';\r\n  }\r\n  return (\r\n    <div\r\n      ref={barRef}\r\n      className={'n-outer ' + (playerReady ? 'n-success' : 'n-error')}\r\n    >\r\n      {playerReady ? (\r\n        <div className=\"n-text-holder\">\r\n          <span> (^^) Player is ready!!</span>\r\n          <button className=\"c-success t-btn\" onClick={closeNotibar}>\r\n            <HighlightOff />\r\n          </button>\r\n        </div>\r\n      ) : (\r\n        <div className=\"n-text-holder\">\r\n          <span>\r\n            {isPremium\r\n              ? \"(_) Player isn't ready...\"\r\n              : '(_) Not a premium user!'}\r\n          </span>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\nexport default PlayerStatus;\r\n","import '../styling/utils.css';\r\nimport HighlightOff from '@material-ui/icons/HighlightOff';\r\nimport { useEffect, useRef } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { setNotibar } from '../store/actions/app-actions';\r\n\r\nfunction Notibar() {\r\n  const barRef = useRef();\r\n  const dispatch = useDispatch();\r\n  const { notibar } = useSelector((state) => state.app);\r\n\r\n  useEffect(() => {\r\n    if (notibar.msg) {\r\n      barRef.current.style.display = 'block';\r\n      const timeout = setTimeout(() => {\r\n        closeNotibar();\r\n      }, 7000);\r\n      return () => {\r\n        clearTimeout(timeout);\r\n      };\r\n    } else {\r\n      closeNotibar();\r\n    }\r\n  }, [notibar.msg]);\r\n\r\n  function closeNotibar() {\r\n    barRef.current.style.display = 'none';\r\n    dispatch(setNotibar(null, false));\r\n  }\r\n\r\n  return (\r\n    <div\r\n      ref={barRef}\r\n      className={'n-outer ' + (notibar.type ? 'n-success' : 'n-error')}\r\n    >\r\n      <div className=\"n-text-holder\">\r\n        <span>{notibar.msg}</span>\r\n        <button\r\n          className={(notibar.type ? 'c-success' : 'c-error') + ' t-btn'}\r\n          onClick={closeNotibar}\r\n        >\r\n          <HighlightOff />\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default Notibar;\r\n","import { useEffect, useRef } from 'react';\r\nimport { getImage, millisToMinutesAndSeconds } from '../utils/helperFunctions';\r\nimport MoreOptions from '../templates/more-options';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { SmallPlayButton } from '../player/buttons';\r\nimport {\r\n  handlePlayPause,\r\n  playfromlist,\r\n} from '../store/actions/spotify-actions';\r\n\r\nfunction CurrentPlaylist({ item, index, list, isUsers, playlistId, maximise }) {\r\n  const dispatch = useDispatch();\r\n  const { current } = useSelector((state) => state.player);\r\n  const isQueue = useSelector((state) => state.app.settings.isQueue);\r\n  const playing = useSelector((state) => state.player.playing);\r\n  const trackItemRef = useRef();\r\n  const musicItem = item?.album ? item : item.track ? item.track : item;\r\n  const isCurrent = current?.id === musicItem?.id;\r\n  useEffect(() => {\r\n    if (trackItemRef.current.classList.contains('themeBG')) {\r\n      trackItemRef.current.scrollIntoView();\r\n    }\r\n  }, [!isQueue]);\r\n\r\n  const handlePlayingSong = () => {\r\n    if (isCurrent) {\r\n      dispatch(handlePlayPause());\r\n    } else {\r\n      dispatch(playfromlist(index, list));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      key={index}\r\n      className={'cp-t-container' + (isCurrent ? ' themeBG' : '')}\r\n      ref={trackItemRef}\r\n    >\r\n      <div className=\"cp-tracks-pic\">\r\n        <img\r\n          src={getImage(musicItem?.album?.images, 'sm')}\r\n          style={{ borderRadius: '10px' }}\r\n        />\r\n      </div>\r\n      <div className=\"cp-tracks-info font-1\">\r\n        <span className=\"text-light h5 mb-0\">{musicItem.name}</span>\r\n        <span className=\"text-secondary\">\r\n          {musicItem.artists.map(\r\n            (item, index) => (index ? ', ' : '') + item.name\r\n          )}\r\n        </span>\r\n      </div>\r\n\r\n      <div className=\"cp-tracks-btn \">\r\n        <MoreOptions\r\n          trackItemRef={trackItemRef}\r\n          item={item}\r\n          isUsers={isUsers}\r\n          playlistId={playlistId}\r\n        />\r\n        <span className=\"text-secondary d-lg-block d-none\">\r\n          {millisToMinutesAndSeconds(musicItem.duration_ms)}\r\n        </span>\r\n        <SmallPlayButton\r\n          playing={playing}\r\n          isCurrent={isCurrent}\r\n          onClick={handlePlayingSong}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default CurrentPlaylist;\r\n","import CloseIcon from '@material-ui/icons/Close';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { toggleQueue } from '../store/actions/app-actions';\r\nimport CurrentPlaylist from '../templates/current-playlist';\r\nimport { useRef, useEffect } from 'react';\r\n\r\nfunction Queue() {\r\n  const atpRef = useRef();\r\n  const dispatch = useDispatch();\r\n  const { currentPlaylist } = useSelector((state) => state.library);\r\n  const isQueue = useSelector((state) => state.app.settings.isQueue);\r\n\r\n  function closeModal() {\r\n    dispatch(toggleQueue(false));\r\n  }\r\n\r\n  useEffect(() => {\r\n    atpRef.current.style.display = isQueue ? 'flex' : 'none';\r\n  }, [isQueue]);\r\n  return (\r\n    <div ref={atpRef} className=\"atp-outer\">\r\n      <div className=\"atp\">\r\n        <div className=\"atp-header font-1-s \">\r\n          <span className=\"text-light h4 p-1\">Current Playlist</span>\r\n          <button className=\"t-btn q-close\" onClick={closeModal}>\r\n            <CloseIcon fontSize=\"large\" style={{ color: 'white' }} />\r\n          </button>\r\n        </div>\r\n        <div className=\"atp-inner px-1\">\r\n          {currentPlaylist?.map((item, index) => (\r\n            <CurrentPlaylist\r\n              key={index}\r\n              index={index}\r\n              item={item}\r\n              list={currentPlaylist}\r\n              isUsers={null}\r\n              playlistId={null}\r\n            />\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default Queue;\r\n","import { Link, useRouteMatch } from 'react-router-dom';\r\nimport SkeletonSPlaylist from '../skeletons/skeletonSPlaylist';\r\nimport { getCorrectPath } from '../utils/helperFunctions';\r\nimport '../styling/templates/playlist.css';\r\n\r\nfunction CategoryPlaylists({ show }) {\r\n  const { path } = useRouteMatch();\r\n  const getPath = getCorrectPath(path);\r\n  return (\r\n    <div>\r\n      {!show && <SkeletonSPlaylist />}\r\n      <p className=\"section-heading mb-0\"></p>\r\n      <div className=\"library-cards-holder\">\r\n        {show?.map((item, index) => (\r\n          <Link\r\n            to={`${getPath}/playlist/${item.id}`}\r\n            className=\"d-flex flex-column align-items-center me-2 p-2 text-decoration-none hover-effect-lc\"\r\n            key={item.id + index}\r\n          >\r\n            <div className=\"library-playlist-cards\" id={item.id + index}>\r\n              <img\r\n                src={item?.images[0]?.url}\r\n                alt={item?.name}\r\n                crossOrigin=\"anonymous\"\r\n                id={item.id}\r\n              />\r\n            </div>\r\n            <span className=\"lp-name mt-2\">{item?.name}</span>\r\n          </Link>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default CategoryPlaylists;\r\n","import { useEffect, useState } from 'react';\r\nimport useSpotify from '../hooks/useSpotify';\r\nimport CategoryPlaylists from '../templates/category-playlist';\r\n\r\nfunction CategoryPage(props) {\r\n  const id = props?.match?.params.id;\r\n  const [myplaylists, setMyplaylists] = useState();\r\n\r\n  const spotify = useSpotify();\r\n  useEffect(() => {\r\n    if (spotify) {\r\n      spotify\r\n        .getPlaylistsForCategory(id, {\r\n          country: 'IN',\r\n          limit: 50,\r\n          offset: 0,\r\n        })\r\n        .then(\r\n          function (data) {\r\n            const { items } = data.body.playlists;\r\n            setMyplaylists(items);\r\n          },\r\n          function (err) {\r\n            console.log('Something went wrong!', err);\r\n          }\r\n        );\r\n    }\r\n  }, [spotify]);\r\n  return (\r\n    <div className=\"display-cut\">\r\n      <CategoryPlaylists show={myplaylists} />\r\n    </div>\r\n  );\r\n}\r\nexport default CategoryPage;\r\n","import { useEffect, useRef } from 'react';\r\nimport axios from 'axios';\r\nimport { getImage } from '../utils/helperFunctions';\r\nimport dotenv from 'dotenv';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {\r\n  handleStateChange,\r\n  setDevice,\r\n  setIsPremium,\r\n  setLyrics,\r\n  setPlayerReady,\r\n} from '../store/actions/player-actions';\r\nimport { getNewAccessToken } from '../store/actions/spotify-actions';\r\ndotenv.config();\r\nconst { REACT_APP_API_ENDPOINT } = process.env;\r\n\r\nconst UseSpotifyPlayer = () => {\r\n  const dispatch = useDispatch();\r\n  const { current, token } = useSelector((state) => state.player);\r\n  const { albumBackground, darkMode } = useSelector((state) => state.app);\r\n  const API_ENDPOINT = REACT_APP_API_ENDPOINT || '';\r\n\r\n  const player = useRef(null);\r\n\r\n  useSpotifyWebPlaybackSdkScript();\r\n\r\n  function useSpotifyWebPlaybackSdkScript() {\r\n    useEffect(() => {\r\n      if (!window.Spotify) {\r\n        appendSpotifySdkScriptToDOM();\r\n      }\r\n    }, []);\r\n  }\r\n\r\n  function appendSpotifySdkScriptToDOM() {\r\n    const spotifyScript = document.createElement('script');\r\n    spotifyScript.id = 'spotify-script';\r\n    spotifyScript.src = 'https://sdk.scdn.co/spotify-player.js';\r\n    document.head.appendChild(spotifyScript);\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (!current) return;\r\n    const track = current?.name,\r\n      artist = current?.artists[0].name;\r\n    document.title = current ? `Fizzbee | ${track}` : `Fizzbee`;\r\n    axios\r\n      .get(`${API_ENDPOINT}/lyrics`, {\r\n        params: {\r\n          track: track,\r\n          artist: artist,\r\n        },\r\n      })\r\n      .then((res) => {\r\n        dispatch(setLyrics(res.data.lyrics));\r\n      })\r\n      .catch(() => console.log('error catching lyrics'));\r\n  }, [current?.name]);\r\n\r\n  useEffect(() => {\r\n    if (!current) return;\r\n    if (albumBackground) {\r\n      document.body.style.background = `${\r\n        darkMode ? 'black' : 'white'\r\n      } url(${getImage(current.album.images, 'lg')}) no-repeat center`;\r\n      document.body.style.backgroundSize = 'contain';\r\n    } else {\r\n      if (darkMode) {\r\n        document.body.style.background = `black`;\r\n      } else {\r\n        document.body.style.background = `url('/abstract.jpg') no-repeat center`;\r\n        document.body.style.backgroundSize = 'cover';\r\n      }\r\n    }\r\n  }, [current?.name, albumBackground, darkMode]);\r\n\r\n  useEffect(() => {\r\n    window.onSpotifyWebPlaybackSDKReady = () => {\r\n      const fetchToken = () => {\r\n        return dispatch(getNewAccessToken());\r\n      };\r\n      if (token) {\r\n        player.current = new window.Spotify.Player({\r\n          name: 'fizzbee player',\r\n          getOAuthToken: (cb) => {\r\n            cb(fetchToken());\r\n          },\r\n        });\r\n\r\n        // Error handling\r\n        player.current.addListener('initialization_error', ({ message }) => {\r\n          console.error(message);\r\n        });\r\n        player.current.addListener('authentication_error', ({ message }) => {\r\n          console.error(message);\r\n        });\r\n        player.current.addListener('account_error', ({ message }) => {\r\n          if (message) {\r\n            dispatch(setIsPremium(false));\r\n          }\r\n        });\r\n        player.current.addListener('playback_error', ({ message }) => {\r\n          console.error(message);\r\n        });\r\n\r\n        // Playback status updates\r\n        player.current.addListener('player_state_changed', (state) => {\r\n          //console.log(state?.track_window?.current_track);\r\n          dispatch(handleStateChange(state));\r\n        });\r\n\r\n        // Ready\r\n        player.current.addListener('ready', ({ device_id }) => {\r\n          console.log('Ready with Device ID', device_id);\r\n          dispatch(setDevice(device_id));\r\n\r\n          window.localStorage.setItem('deviceId', device_id);\r\n          dispatch(setPlayerReady(true));\r\n        });\r\n\r\n        // Not Ready\r\n        player.current.addListener('not_ready', ({ device_id }) => {\r\n          console.log('Device ID has gone offline', device_id);\r\n        });\r\n\r\n        // Connect to the player!\r\n        player.current.connect().then((success) => {\r\n          if (success) {\r\n            console.log(\r\n              'The Web Playback SDK successfully connected to Spotify!'\r\n            );\r\n          }\r\n        });\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  return null;\r\n};\r\nexport default UseSpotifyPlayer;\r\n","import axios from 'axios';\r\nimport dotenv from 'dotenv';\r\ndotenv.config();\r\n\r\nconst { REACT_APP_YT_KEY } = process.env;\r\n\r\nexport default axios.create({\r\n  baseURL: 'https://www.googleapis.com/youtube/v3/',\r\n  params: {\r\n    part: 'snippet',\r\n    maxResults: 5,\r\n    key: REACT_APP_YT_KEY,\r\n  },\r\n});\r\n","import React from 'react';\r\nimport '../style/video.css';\r\n\r\nconst VideoItem = ({ video, handleVideoSelect }) => {\r\n  return (\r\n    <div onClick={() => handleVideoSelect(video)} className=\"video-container\">\r\n      <img\r\n        src={video.snippet.thumbnails.medium.url}\r\n        alt={video.snippet.description}\r\n      />\r\n\r\n      <span className=\"video-title \">{video.snippet.title}</span>\r\n    </div>\r\n  );\r\n};\r\nexport default VideoItem;\r\n","import React from 'react';\r\nimport VideoItem from './VideoItem';\r\n\r\nconst VideoList = ({ videos, handleVideoSelect }) => {\r\n  const renderedVideos = videos?.map((video) => {\r\n    return (\r\n      <VideoItem\r\n        key={video.id.videoId}\r\n        video={video}\r\n        handleVideoSelect={handleVideoSelect}\r\n      />\r\n    );\r\n    // console.log(video.id);\r\n  });\r\n\r\n  return <div className=\"video-list\">{renderedVideos}</div>;\r\n};\r\nexport default VideoList;\r\n","import React from 'react';\r\n\r\nconst VideoDetail = ({ video, results }) => {\r\n  if (!video) {\r\n    return (\r\n      <div>\r\n        <h1 className=\"np-video-title\">Please select a video to play.</h1>\r\n        <h4 className=\"np-video-title\" hidden={results}>\r\n          Try again later if there are no results.\r\n        </h4>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const videoSrc = `https://www.youtube.com/embed/${video.id.videoId}`;\r\n\r\n  return (\r\n    <div className=\"video-details\">\r\n      <iframe\r\n        src={videoSrc}\r\n        className=\"utube-iframe\"\r\n        allowFullScreen\r\n        title=\"Video player\"\r\n      />\r\n\r\n      <h5 className=\"np-video-title\">{video.snippet.title}</h5>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VideoDetail;\r\n","import MusicVideoTwoToneIcon from '@material-ui/icons/MusicVideoTwoTone';\r\nimport MusicNoteTwoToneIcon from '@material-ui/icons/MusicNoteTwoTone';\r\nfunction SwitchPlatform({ utubeMode, handleSwitch }) {\r\n  return (\r\n    <div\r\n      className=\"platform-toggle\"\r\n      style={{\r\n        border: utubeMode ? '2px solid red' : '2px solid green',\r\n        background: utubeMode ? 'rgba(255,0,0,0.3)' : 'rgba(30,215,96,0.3)',\r\n      }}\r\n      onClick={handleSwitch}\r\n    >\r\n      {utubeMode ? (\r\n        <MusicVideoTwoToneIcon\r\n          style={{ width: '30px', color: 'rgba(255,0,0,0.8)' }}\r\n        />\r\n      ) : (\r\n        <img src=\"/spotify2.png\" width=\"30\" height=\"30\" alt=\"spotify icon\" />\r\n      )}\r\n\r\n      {!utubeMode ? (\r\n        <MusicNoteTwoToneIcon\r\n          style={{ width: '30px', color: 'rgba(30,215,96,0.8)' }}\r\n        />\r\n      ) : (\r\n        <img src=\"/youtube.png\" width=\"30\" height=\"20\" alt=\"youtube icon\" />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\nexport default SwitchPlatform;\r\n","import React, { useEffect } from 'react';\r\nimport youtube from '../youtube';\r\nimport VideoList from './VideoList';\r\nimport VideoDetail from './VideoDetail';\r\nimport { useState } from 'react';\r\nimport '../style/utube.css';\r\nimport SwitchPlatform from '../youtube-switch';\r\nimport { useSelector } from 'react-redux';\r\nfunction UtubeApp({ utubeMode, handleSwitch }) {\r\n  const current = useSelector((state) => state.player.current);\r\n  const [videos, setVideos] = useState();\r\n  const [selectedVideo, setSelectedVideo] = useState();\r\n  useEffect(() => {\r\n    if (!current) return;\r\n    fetchMyData();\r\n  }, [current?.name]);\r\n\r\n  async function fetchMyData() {\r\n    const response = await youtube.get('/search', {\r\n      params: {\r\n        q: current.name,\r\n      },\r\n    });\r\n    setVideos(response.data.items);\r\n  }\r\n\r\n  const handleVideoSelect = (video) => {\r\n    setSelectedVideo(video);\r\n  };\r\n\r\n  return (\r\n    <div className=\"utube-container\">\r\n      <div className=\"d-flex justify-content-end\">\r\n        <SwitchPlatform utubeMode={utubeMode} handleSwitch={handleSwitch} />\r\n      </div>\r\n\r\n      <div className=\"utube-results mt-3\">\r\n        <div className=\"w-100\">\r\n          <VideoDetail video={selectedVideo} results={videos} />\r\n        </div>\r\n        <div>\r\n          <VideoList handleVideoSelect={handleVideoSelect} videos={videos} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default UtubeApp;\r\n","import PlayArrowIcon from '@material-ui/icons/PlayArrow';\r\nimport PauseIcon from '@material-ui/icons/Pause';\r\nimport {\r\n  getImage,\r\n  getColorOnly,\r\n  getArtistNames,\r\n} from '../../utils/helperFunctions';\r\nimport { useSelector } from 'react-redux';\r\nimport { useRef, useEffect, useState } from 'react';\r\n\r\nconst MinPlayer1 = ({ handlePlayPause, sideBartype }) => {\r\n  const { current, playing } = useSelector((state) => state.player);\r\n  const position_ms = useSelector((state) => state.player.position_ms);\r\n  const [instance, setInstance] = useState(0);\r\n  const [pos, setPos] = useState(0);\r\n  const albumPic = getImage(current?.album?.images, 'md');\r\n  const imgRef = useRef();\r\n  const artistNames = getArtistNames(current?.artists);\r\n\r\n  useEffect(() => {\r\n    if (!current) return;\r\n    setInstance(pos / current.duration_ms);\r\n  }, [pos]);\r\n  useEffect(() => {\r\n    setPos(position_ms);\r\n  }, [position_ms]);\r\n\r\n  useEffect(() => {\r\n    let interval = null;\r\n    if (playing) {\r\n      interval = setInterval(() => {\r\n        setPos((pos) => pos + 1000);\r\n      }, 1000);\r\n    } else {\r\n      clearInterval(interval);\r\n    }\r\n    return () => clearInterval(interval);\r\n  }, [playing]);\r\n\r\n  return (\r\n    <div className={\"minimised-player \" + (sideBartype && 'min-pos')}>\r\n      <div className=\"min-left\">\r\n        <div className=\"mini-circle\">\r\n          <img\r\n            src={albumPic ? albumPic : '/bg3.png'}\r\n            alt=\"album-art-mini\"\r\n            className=\"mini-album-art\"\r\n            ref={imgRef}\r\n            crossOrigin=\"anonymous\"\r\n            onLoad={() => {\r\n              let col = getColorOnly(imgRef);\r\n              document.documentElement.style.setProperty(\r\n                '--col-thief',\r\n                `rgb(${col[0]},${col[1]},${col[2]})`\r\n              );\r\n            }}\r\n          />\r\n          <svg width=\"80\" height=\"80\" viewBox=\"0 0 80 80\">\r\n            <circle\r\n              cx=\"40\"\r\n              cy=\"40\"\r\n              r=\"43\"\r\n              style={{\r\n                strokeDasharray: 6.2831 * 43,\r\n                strokeDashoffset: 6.2831 * 43 * (1 - instance),\r\n              }}\r\n            ></circle>\r\n          </svg>\r\n        </div>\r\n      </div>\r\n      <div className={'min-mid '}>\r\n        <span\r\n          className={\r\n            'np-name-min ' + (current?.name.length > 30 && 'text-anim')\r\n          }\r\n        >\r\n          {' '}\r\n          {current ? current.name : 'Music track'}\r\n        </span>\r\n        <div className=\"np-by-outer\">\r\n          <span\r\n            className={'np-by-min ' + (artistNames?.length > 30 && 'text-anim')}\r\n          >\r\n            {current ? artistNames : 'by..'}\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <div className=\"min-right\">\r\n        <div className=\"pp-mini\">\r\n          <button className=\"mini-play-container\" onClick={handlePlayPause}>\r\n            {playing ? (\r\n              <PauseIcon fontSize=\"large\" />\r\n            ) : (\r\n              <PlayArrowIcon fontSize=\"large\" />\r\n            )}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default MinPlayer1;\r\n","import PlayArrowTwoToneIcon from '@material-ui/icons/PlayArrowTwoTone';\r\nimport PauseTwoToneIcon from '@material-ui/icons/PauseTwoTone';\r\nimport SkipPreviousTwoToneIcon from '@material-ui/icons/SkipPreviousTwoTone';\r\nimport SkipNextTwoToneIcon from '@material-ui/icons/SkipNextTwoTone';\r\nimport {\r\n  getColor,\r\n  getImage,\r\n  getArtistNames,\r\n} from '../../utils/helperFunctions';\r\nimport { useRef } from 'react';\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst MinPlayer2 = ({ handlePlayPause, skipNext, skipPrevious, sideBartype }) => {\r\n  const { current, playing } = useSelector((state) => state.player);\r\n  const { darkMode, colorpalette } = useSelector((state) => state.app);\r\n  const imgRef = useRef();\r\n  const albumSM = getImage(current?.album?.images, 'md');\r\n  const artistNames = getArtistNames(current?.artists);\r\n\r\n  const getColorpalette = (id, ref, type) => {\r\n    if (colorpalette) {\r\n      getColor(id, ref, type);\r\n    } else {\r\n      document.querySelector('.minimised-player-2').style.background =\r\n        'var(--max-player-1-bg)';\r\n    }\r\n  };\r\n  return (\r\n    <div className={\"minimised-player-2 \" + (sideBartype && 'min-pos')} id={current?.id + '3'}>\r\n      <div className=\"min-2-left\">\r\n        <img\r\n          src={albumSM ? albumSM : '/bg3.png'}\r\n          alt=\"album-art-mini\"\r\n          className=\"mini-album-art-2\"\r\n          ref={imgRef}\r\n          crossOrigin=\"anonymous\"\r\n          onLoad={() => getColorpalette(current?.id, imgRef, 'player')}\r\n        />\r\n      </div>\r\n      <div className={'min-2-mid'}>\r\n        <span\r\n          className={\r\n            'np-name-min ' + (current?.name.length > 30 && 'text-anim')\r\n          }\r\n          style={{\r\n            color: darkMode || colorpalette ? 'white' : 'var(--text-primary)',\r\n          }}\r\n        >\r\n          {current ? current.name : 'Music track'}\r\n        </span>\r\n        <div className=\"np-by-outer\">\r\n          <span\r\n            className={'np-by-min ' + (artistNames?.length > 30 && 'text-anim')}\r\n          >\r\n            {current ? artistNames : 'by..'}\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <div className=\"min-2-right\">\r\n        <button className=\"t-btn\" onClick={skipPrevious}>\r\n          <SkipPreviousTwoToneIcon\r\n            fontSize=\"large\"\r\n            style={{\r\n              color: darkMode || colorpalette ? 'white' : 'var(--text-primary)',\r\n            }}\r\n          />\r\n        </button>\r\n        <button className=\"t-btn\" onClick={handlePlayPause}>\r\n          {playing ? (\r\n            <PauseTwoToneIcon\r\n              fontSize=\"large\"\r\n              style={{\r\n                color:\r\n                  darkMode || colorpalette ? 'white' : 'var(--text-primary)',\r\n              }}\r\n            />\r\n          ) : (\r\n            <PlayArrowTwoToneIcon\r\n              fontSize=\"large\"\r\n              style={{\r\n                color:\r\n                  darkMode || colorpalette ? 'white' : 'var(--text-primary)',\r\n              }}\r\n            />\r\n          )}\r\n        </button>\r\n        <button className=\"t-btn\" onClick={skipNext}>\r\n          <SkipNextTwoToneIcon\r\n            fontSize=\"large\"\r\n            style={{\r\n              color: darkMode || colorpalette ? 'white' : 'var(--text-primary)',\r\n            }}\r\n          />\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default MinPlayer2;\r\n","import PlayArrowIcon from '@material-ui/icons/PlayArrowTwoTone';\r\nimport PauseIcon from '@material-ui/icons/Pause';\r\nimport SkipPreviousTwoToneIcon from '@material-ui/icons/SkipPreviousTwoTone';\r\nimport SkipNextTwoToneIcon from '@material-ui/icons/SkipNextTwoTone';\r\nimport { getColor, getImage } from '../../utils/helperFunctions';\r\nimport Draggable from 'react-draggable';\r\nimport { useRef } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nconst MinPlayer3 = ({ handlePlayPause, skipNext, skipPrevious, sideBartype }) => {\r\n  const { current, playing } = useSelector((state) => state.player);\r\n  const { darkMode, colorpalette } = useSelector((state) => state.app);\r\n  const imgRef = useRef();\r\n  const albumSM = getImage(current?.album?.images, 'sm');\r\n\r\n  const getColorpalette = (id, ref, type) => {\r\n    if (colorpalette) {\r\n      getColor(id, ref, type);\r\n    } else {\r\n      document.querySelector('.minimised-player-3').style.background =\r\n        'var(--max-player-1-bg)';\r\n    }\r\n  };\r\n  return (\r\n    <Draggable cancel='button'>\r\n      <div className={\"minimised-player-3 \" + (sideBartype && 'min-pos')} id={current?.id + '3'}>\r\n        <div className=\"min-3-left\">\r\n          <div className={playing && 'pulse-outer'}>\r\n            <img\r\n              src={albumSM ? albumSM : '/bg3.png'}\r\n              alt=\"album-art-mini\"\r\n              className=\"mini-album-art-3\"\r\n              ref={imgRef}\r\n              crossOrigin=\"anonymous\"\r\n              onLoad={() => getColorpalette(current?.id, imgRef, 'player')}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"min-3-right\">\r\n          <span\r\n            className=\"np-name-min\"\r\n          >\r\n            {current ? current.name : 'Music track'}\r\n          </span>\r\n          <div className=\"np-by-outer\">\r\n            <span\r\n              className=\"np-by-min\"\r\n            >\r\n              {current\r\n                ? current?.artists?.map(\r\n                  (item, index) => (index ? ', ' : '') + item.name\r\n                )\r\n                : 'by..'}\r\n            </span>\r\n          </div>\r\n          <div className=\"\">\r\n            <button className=\"t-btn\" onClick={skipPrevious}>\r\n              <SkipPreviousTwoToneIcon\r\n                fontSize=\"large\"\r\n                style={{\r\n                  color:\r\n                    darkMode || colorpalette ? 'white' : 'var(--text-primary)',\r\n                }}\r\n              />\r\n            </button>\r\n            <button className=\"t-btn\" onClick={handlePlayPause}>\r\n              {playing ? (\r\n                <PauseIcon\r\n                  fontSize=\"large\"\r\n                  style={{\r\n                    color:\r\n                      darkMode || colorpalette\r\n                        ? 'white'\r\n                        : 'var(--text-primary)',\r\n                  }}\r\n                />\r\n              ) : (\r\n                <PlayArrowIcon\r\n                  fontSize=\"large\"\r\n                  style={{\r\n                    color:\r\n                      darkMode || colorpalette\r\n                        ? 'white'\r\n                        : 'var(--text-primary)',\r\n                  }}\r\n                />\r\n              )}\r\n            </button>\r\n            <button className=\"t-btn\" onClick={skipNext}>\r\n              <SkipNextTwoToneIcon\r\n                fontSize=\"large\"\r\n                style={{\r\n                  color:\r\n                    darkMode || colorpalette ? 'white' : 'var(--text-primary)',\r\n                }}\r\n              />\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Draggable>\r\n  );\r\n};\r\nexport default MinPlayer3;\r\n","import React, { useRef, useState } from \"react\"\r\nimport useCheckDevice from \"./checkDevice\";\r\n\r\nconst DoubleClick = React.forwardRef((props, ref) => {\r\n    const { isMobile } = useCheckDevice();\r\n    const [waitingClick, setWaitingClick] = useState(null);\r\n    const [lastClick, setLastClick] = useState(0);\r\n    //Double click check for mobiles (Screen size < 768px)\r\n    const processClick = (e) => {\r\n        if (lastClick && e.timeStamp - lastClick < 250 &&\r\n            waitingClick) {\r\n            setLastClick(0);\r\n            clearTimeout(waitingClick);\r\n            setWaitingClick(null);\r\n            props.onDoubleClick();  //Double click code\r\n        }\r\n        else {\r\n            setLastClick(e.timeStamp);\r\n            setWaitingClick(setTimeout(() => {\r\n                setWaitingClick(null);\r\n                props.onClick();    //Single click code\r\n            }, 251))\r\n\r\n        }\r\n    }\r\n\r\n    //Double click check for Desktops (Screen size > 768px)\r\n    const timer = useRef();\r\n    const onClickHandler = e => {\r\n        clearTimeout(timer.current);\r\n        if (e.detail === 1) {\r\n            timer.current = setTimeout(props.onClick, 200)\r\n        } else if (e.detail === 2) {\r\n            props.onDoubleClick();\r\n        }\r\n    }\r\n    return (\r\n        <div className={props.className} onClick={(e) => isMobile ? processClick(e) : onClickHandler(e)} style={props.style} ref={ref}>{props.children}</div>\r\n    )\r\n});\r\n\r\nexport default DoubleClick;","import { useEffect, useState } from 'react';\r\nimport { millisToMinutesAndSeconds } from '../../utils/helperFunctions';\r\nimport '../../styling/playerSlider.css';\r\nimport useSpotify from '../../hooks/useSpotify';\r\nimport { useSelector } from 'react-redux';\r\n\r\nfunction MinSlider1() {\r\n    const { current, position_ms, playing } = useSelector(\r\n        (state) => state.player\r\n    );\r\n    const spotify = useSpotify();\r\n\r\n    const [instance, setInstance] = useState(0);\r\n    const [pos, setPos] = useState(0);\r\n\r\n    useEffect(() => {\r\n        if (!current) return;\r\n        setInstance((pos / current.duration_ms) * 100);\r\n    }, [pos]);\r\n    useEffect(() => {\r\n        setPos(position_ms);\r\n    }, [position_ms]);\r\n\r\n    useEffect(() => {\r\n        let interval = null;\r\n        if (playing) {\r\n            interval = setInterval(() => {\r\n                setPos((pos) => pos + 1000);\r\n            }, 1000);\r\n        } else {\r\n            clearInterval(interval);\r\n        }\r\n        return () => clearInterval(interval);\r\n    }, [playing]);\r\n\r\n    const handleSeeker = () => {\r\n        var seekms = ((instance * current?.duration_ms) / 100).toFixed(0);\r\n        spotify\r\n            .seek(seekms)\r\n            .then(function () {\r\n                //console.log('Seek to ' + instance);\r\n            })\r\n            .catch(function (err) {\r\n                //if the user making the request is non-premium, a 403 FORBIDDEN response code will be returned\r\n                console.log('Something went wrong!', err);\r\n            });\r\n    };\r\n\r\n    return (\r\n        <div className=\"justify-content-center align-items-center d-flex\">\r\n            <div className=\"playerSlider w-100\">\r\n                <p className=\"min-2-text-timer\">\r\n                    {current\r\n                        ? millisToMinutesAndSeconds(\r\n                            ((instance * current.duration_ms) / 100).toFixed(0)\r\n                        )\r\n                        : '00:00'}\r\n                </p>\r\n                <input\r\n                    type=\"range\"\r\n                    className=\"min-range-2 mx-2\"\r\n                    min=\"0\"\r\n                    max=\"100\"\r\n                    value={instance}\r\n                    style={{\r\n                        background: `linear-gradient(90deg, var(--main-theme) ${instance}%, #fff 60%)`,\r\n                    }}\r\n                    onChange={(e) => setInstance(e.target.value)}\r\n                    onMouseUp={handleSeeker}\r\n                    onKeyUp={handleSeeker}\r\n                    onTouchEnd={handleSeeker}\r\n                />\r\n                <p className=\"min-2-text-timer\">\r\n                    {current ? millisToMinutesAndSeconds(current.duration_ms) : '00:00'}\r\n                </p>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\nexport default MinSlider1;\r\n","import RepeatOne from '@material-ui/icons/RepeatOne';\r\nimport RepeatIcon from '@material-ui/icons/Repeat';\r\nimport useSpotify from '../hooks/useSpotify';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { setRepeat } from '../store/actions/player-actions';\r\n\r\nfunction RepeatBtn({ color }) {\r\n  const dispatch = useDispatch();\r\n  const { repeatMode } = useSelector((state) => state.player);\r\n  const spotify = useSpotify();\r\n\r\n  const repeatType = ['off', 'context', 'track'];\r\n\r\n  function repeatIt() {\r\n    //console.log(repeatMode, repeatType[repeatMode]);\r\n    let type = repeatMode;\r\n    if (type < 2) {\r\n      dispatch(setRepeat(repeatMode + 1));\r\n      type = repeatMode + 1;\r\n    } else {\r\n      dispatch(setRepeat(0));\r\n      type = 0;\r\n    }\r\n    spotify.setRepeat(repeatType[type]).then(\r\n      function () {\r\n        //console.log('Repeat track.');\r\n      },\r\n      function (err) {\r\n        //if the user making the request is non-premium, a 403 FORBIDDEN response code will be returned\r\n        console.log('Something went wrong!', err);\r\n      }\r\n    );\r\n  }\r\n\r\n  function renderSwitch(repeatMode) {\r\n    switch (repeatMode) {\r\n      case 0:\r\n        return (\r\n          <RepeatIcon\r\n            style={{\r\n              color: color ? color : 'white',\r\n            }}\r\n          />\r\n        );\r\n\r\n      case 1:\r\n        return (\r\n          <>\r\n            <RepeatIcon style={{ color: 'var(--main-theme)' }} />\r\n            <span className=\"repeat-type\"></span>\r\n          </>\r\n        );\r\n\r\n      case 2:\r\n        return <RepeatOne style={{ color: 'var(--main-theme)' }} />;\r\n\r\n      default:\r\n        //console.log('Switch error');\r\n        break;\r\n    }\r\n  }\r\n\r\n  return (\r\n    <button\r\n      className={\r\n        't-btn position-relative ' +\r\n        (repeatMode !== 0 ? 'text-light' : 'text-secondary')\r\n      }\r\n      onClick={repeatIt}\r\n    >\r\n      {renderSwitch(repeatMode)}\r\n    </button>\r\n  );\r\n}\r\nexport default RepeatBtn;\r\n","import PlayArrowIcon from '@material-ui/icons/PlayArrowTwoTone';\r\nimport PauseIcon from '@material-ui/icons/Pause';\r\nimport FastRewindRoundedIcon from '@material-ui/icons/FastRewindRounded';\r\nimport FastForwardRoundedIcon from '@material-ui/icons/FastForwardRounded';\r\nimport { getColorOnly, getImage } from '../../utils/helperFunctions';\r\nimport { useEffect, useRef, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport DoubleClick from '../../utils/DoubleClick';\r\nimport { handlePlayPause } from '../../store/actions/spotify-actions';\r\nimport MinSlider1 from '../nowPlayingSlider/mini-slider-1';\r\nimport RepeatBtn from '../../utils/repeat';\r\nimport UseOutsideAlerter from '../../utils/useClickedOutside';\r\nimport { islandConstants } from '../settings/settingConstants';\r\n\r\nconst MinPlayer4 = ({ skipNext, skipPrevious, sideBartype, maxPlayer }) => {\r\n    const dispatch = useDispatch();\r\n    const [island, setIsland] = useState(true);\r\n    const { current, playing, islandDouble } = useSelector((state) => state.player);\r\n    const { darkMode, colorpalette } = useSelector((state) => state.app);\r\n    const imgRef = useRef();\r\n    const miniRef = useRef();\r\n\r\n    const albumSM = getImage(current?.album?.images, 'sm');\r\n\r\n    const getColorpalette = (id, ref, type) => {\r\n        if (colorpalette) {\r\n            let col = getColorOnly(ref);\r\n            document.querySelector('.dynamic-island').style.background = `rgba(${col[0]},${col[1]},${col[2]},1)`;\r\n        } else {\r\n            document.querySelector('.dynamic-island').style.background = 'var(--max-player-1-bg)';\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        document.querySelector('.dynamic-island').style.maxWidth = ``;\r\n    }, [island])\r\n\r\n    const handlePlay = () => {\r\n        dispatch(handlePlayPause());\r\n    };\r\n    const handleIsland = () => {\r\n        setIsland(!island);\r\n    }\r\n    const shutIsland = () => {\r\n        setIsland(true);\r\n    }\r\n    const handleDoubleCLick = () => {\r\n        switch (islandConstants[islandDouble]?.use) {\r\n            case 'playPause':\r\n                handlePlay();\r\n                break;\r\n\r\n            case 'skipNext':\r\n                skipNext();\r\n                break;\r\n            case 'skipPrevious':\r\n                skipPrevious();\r\n                break;\r\n            default:\r\n                console.log('please add this func to constant entries');\r\n                break;\r\n        }\r\n    }\r\n    return (\r\n        <DoubleClick onDoubleClick={handleDoubleCLick} onClick={handleIsland} className={\"dynamic-island \" + (island ? '' : 'active')} ref={miniRef}>\r\n            <div className=\"island\">\r\n                <UseOutsideAlerter ref={miniRef} handleFunc={shutIsland} />\r\n                <div className='mini-island'>\r\n                    <img\r\n                        src={albumSM ? albumSM : '/bg3.png'}\r\n                        alt=\"album-art-mini\"\r\n                        ref={imgRef}\r\n                        crossOrigin=\"anonymous\"\r\n                        onLoad={() => getColorpalette(current?.id, imgRef, 'player')}\r\n                    />\r\n                    <div className=\"island-s-info\" hidden={island}>\r\n                        <span\r\n                            className=\"np-name\"\r\n                            style={{\r\n                                color: darkMode || colorpalette ? 'white' : 'var(--text-primary)',\r\n                            }}\r\n                        >\r\n                            {current ? current.name : 'Music track'}\r\n                        </span>\r\n                        <span\r\n                            className=\"bp-name\"\r\n                            style={{\r\n                                color: 'var(--bp-name)',\r\n                            }}\r\n                        >\r\n                            {current\r\n                                ? current?.artists?.map(\r\n                                    (item, index) => (index ? ', ' : '') + item.name\r\n                                )\r\n                                : 'by..'}\r\n                        </span>\r\n                    </div>\r\n                    <div className='loader'>\r\n                        {Array(5)\r\n                            .fill()\r\n                            .map((x, i) => (\r\n                                <span key={i} className=\"stroke\" style={{ background: current?.name ? '' : 'black', animationPlayState: playing ? '' : 'paused' }}></span>\r\n                            ))}\r\n                    </div>\r\n                </div>\r\n                <div className=\"island-controls\" hidden={island}>\r\n                    <div className='controls-slider'>\r\n                        <MinSlider1 />\r\n                    </div>\r\n                    <div className='controls-btn'>\r\n                        <button className=\"t-btn\" onClick={maxPlayer}>\r\n                            <ion-icon name=\"open-outline\"></ion-icon>\r\n                        </button>\r\n                        <button className=\"t-btn\" onClick={skipPrevious}>\r\n                            <FastRewindRoundedIcon\r\n                                fontSize=\"large\"\r\n                                style={{\r\n                                    color:\r\n                                        darkMode || colorpalette ? 'white' : 'var(--text-primary)',\r\n                                }}\r\n                            />\r\n                        </button>\r\n                        <button className=\"t-btn\" onClick={handlePlay}>\r\n                            {playing ? (\r\n                                <PauseIcon\r\n                                    fontSize=\"large\"\r\n                                    style={{\r\n                                        color:\r\n                                            darkMode || colorpalette\r\n                                                ? 'white'\r\n                                                : 'var(--text-primary)',\r\n                                    }}\r\n                                />\r\n                            ) : (\r\n                                <PlayArrowIcon\r\n                                    fontSize=\"large\"\r\n                                    style={{\r\n                                        color:\r\n                                            darkMode || colorpalette\r\n                                                ? 'white'\r\n                                                : 'var(--text-primary)',\r\n                                    }}\r\n                                />\r\n                            )}\r\n                        </button>\r\n                        <button className=\"t-btn\" onClick={skipNext}>\r\n                            <FastForwardRoundedIcon\r\n                                fontSize=\"large\"\r\n                                style={{\r\n                                    color:\r\n                                        darkMode || colorpalette ? 'white' : 'var(--text-primary)',\r\n                                }}\r\n                            />\r\n                        </button>\r\n                        <RepeatBtn color='grey' />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div></div>\r\n        </DoubleClick>\r\n    );\r\n};\r\nexport default MinPlayer4;\r\n","import '../styling/player.css';\r\nimport MinPlayer1 from './minplayerTypes/player1';\r\nimport MinPlayer2 from './minplayerTypes/player2';\r\nimport MinPlayer3 from './minplayerTypes/player3';\r\nimport { useSelector } from 'react-redux';\r\nimport MinPlayer4 from './minplayerTypes/player4';\r\nfunction MinPlayer({\r\n  maxPlayer,\r\n  handlePlayPause,\r\n  minPlayer,\r\n  skipNext,\r\n  skipPrevious,\r\n}) {\r\n  const { minplayertype, sideBartype } = useSelector((state) => state.player);\r\n  //console.log(minplayertype);\r\n  function minType() {\r\n    switch (minplayertype) {\r\n      case 0:\r\n        return (\r\n          <div onClick={maxPlayer} hidden={!minPlayer}>\r\n            <MinPlayer1 handlePlayPause={handlePlayPause} sideBartype={sideBartype} />\r\n          </div>\r\n        );\r\n\r\n      case 1:\r\n        return (\r\n          <div onClick={maxPlayer} hidden={!minPlayer}>\r\n            <MinPlayer2\r\n              handlePlayPause={handlePlayPause}\r\n              skipNext={skipNext}\r\n              skipPrevious={skipPrevious}\r\n              sideBartype={sideBartype}\r\n            />\r\n          </div>\r\n        );\r\n\r\n      case 2:\r\n        return (\r\n          <div onClick={maxPlayer} hidden={!minPlayer}>\r\n            <MinPlayer3\r\n              handlePlayPause={handlePlayPause}\r\n              skipNext={skipNext}\r\n              skipPrevious={skipPrevious}\r\n              sideBartype={sideBartype}\r\n            />\r\n          </div>\r\n        );\r\n      case 3:\r\n        return (\r\n          <MinPlayer4\r\n            skipNext={skipNext}\r\n            skipPrevious={skipPrevious}\r\n            sideBartype={sideBartype}\r\n            maxPlayer={maxPlayer}\r\n          />\r\n        );\r\n      default:\r\n        console.log('Error');\r\n        break;\r\n    }\r\n  }\r\n  return (\r\n    <>\r\n      {minType()}\r\n    </>\r\n  );\r\n}\r\nexport default MinPlayer;\r\n","import ShuffleIcon from '@material-ui/icons/Shuffle';\r\nimport { useSelector } from 'react-redux';\r\nimport useSpotify from '../hooks/useSpotify';\r\n\r\nfunction ShuffleBtn() {\r\n  const { isShuffle, maxplayertype } = useSelector((state) => state.player);\r\n  const spotify = useSpotify();\r\n\r\n  function shuffleIt() {\r\n    spotify.setShuffle(!isShuffle).then(\r\n      function () {\r\n        //console.log('Shuffle is ' + !shuffle);\r\n      },\r\n      function (err) {\r\n        //if the user making the request is non-premium, a 403 FORBIDDEN response code will be returned\r\n        console.log('Something went wrong!', err);\r\n      }\r\n    );\r\n  }\r\n  return (\r\n    <button className={'t-btn '} onClick={shuffleIt}>\r\n      <ShuffleIcon\r\n        style={{\r\n          color: isShuffle\r\n            ? 'var(--main-theme)'\r\n            : 'white',\r\n        }}\r\n      />\r\n    </button>\r\n  );\r\n}\r\nexport default ShuffleBtn;\r\n","import ComputerIcon from '@material-ui/icons/Computer';\r\nimport PhoneIphoneIcon from '@material-ui/icons/PhoneIphone';\r\nimport SurroundSoundIcon from '@material-ui/icons/SurroundSound';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { toggleMyDevices } from '../store/actions/app-actions';\r\nimport { getMyDevices, transferMyPlayback } from '../store/actions/spotify-actions';\r\nimport { useEffect } from 'react';\r\n\r\nfunction MyDevices({ handedness }) {\r\n  const dispatch = useDispatch();\r\n  const { deviceId, maxplayertype } = useSelector((state) => state.player);\r\n  const { settings } = useSelector((state) => state.app);\r\n  const { mydevices } = useSelector((state) => state.user);\r\n  let hside;\r\n  if (typeof handedness === 'boolean') {\r\n    hside = handedness ? 'right' : 'left';\r\n  }\r\n  useEffect(() => {\r\n    dispatch(getMyDevices());\r\n  }, [settings?.isDevices])\r\n\r\n  const showDevices = () => {\r\n    dispatch(toggleMyDevices(!settings.isDevices));\r\n  };\r\n\r\n  function deviceType(type, check) {\r\n    switch (type) {\r\n      case 'Computer':\r\n        return (\r\n          <ComputerIcon\r\n            fontSize=\"medium\"\r\n            style={{\r\n              color: check ? 'var(--main-theme)' : 'var(--text-secondary)',\r\n            }}\r\n          />\r\n        );\r\n      case 'Smartphone':\r\n        return (\r\n          <PhoneIphoneIcon\r\n            fontSize=\"medium\"\r\n            style={{\r\n              color: check ? 'var(--main-theme)' : 'var(--text-secondary)',\r\n            }}\r\n          />\r\n        );\r\n      default:\r\n        return (\r\n          <PhoneIphoneIcon\r\n            fontSize=\"medium\"\r\n            style={{\r\n              color: check ? 'var(--main-theme)' : 'var(--text-secondary)',\r\n            }}\r\n          />\r\n        );\r\n    }\r\n  }\r\n  function setDevice(device) {\r\n    if (!device?.id) return;\r\n    dispatch(transferMyPlayback(device));\r\n  }\r\n\r\n  function DevicesLayout({ device }) {\r\n    const check = deviceId === device?.id;\r\n    return (\r\n      <div className=\"device-list\" onClick={() => setDevice(device)}>\r\n        {deviceType(device.type, check)}\r\n        <div className=\"device-info font-1-s\">\r\n          <span\r\n            className=\"device-name\"\r\n            style={{ color: check ? 'var(--main-theme)' : 'white' }}\r\n          >\r\n            {device.name}\r\n          </span>\r\n          <span\r\n            className=\"device-desc\"\r\n            style={{ color: check ? 'var(--main-theme)' : 'grey' }}\r\n          >\r\n            <SurroundSoundIcon\r\n              style={{\r\n                color: check ? 'var(--main-theme)' : 'var(--text-secondary)',\r\n              }}\r\n              fontSize=\"small\"\r\n            />{' '}\r\n            Spotify Connect\r\n          </span>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"devices-container\">\r\n      <button className=\"t-btn ms-4\" onClick={showDevices}>\r\n        <ion-icon\r\n          style={{\r\n            color: settings.isDevices\r\n              ? 'var(--main-theme)'\r\n              : 'white', fontSize: '1.5rem'\r\n          }}\r\n          name=\"radio\"></ion-icon>\r\n      </button>\r\n      {settings.isDevices && (\r\n        <div className={`my-devices ${hside}`}>\r\n          <p\r\n            className=\"section-heading p-3\"\r\n            style={{ color: 'var(--text-secondary)' }}\r\n          >\r\n            Connected devices\r\n          </p>\r\n          <img src=\"/devices.png\" alt=\"devices\" />\r\n          {mydevices?.map((device, index) => (\r\n            <DevicesLayout key={index} device={device} />\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MyDevices;\r\n","import { useEffect, useState } from 'react';\r\nimport { millisToMinutesAndSeconds } from '../../utils/helperFunctions';\r\nimport '../../styling/playerSlider.css';\r\nimport useSpotify from '../../hooks/useSpotify';\r\nimport { useSelector } from 'react-redux';\r\n\r\nfunction PlayerSlider1() {\r\n  const { current, position_ms, playing } = useSelector(\r\n    (state) => state.player\r\n  );\r\n  const spotify = useSpotify();\r\n\r\n  const [instance, setInstance] = useState(0);\r\n  const [pos, setPos] = useState(0);\r\n\r\n  useEffect(() => {\r\n    if (!current) return;\r\n    setInstance((pos / current.duration_ms) * 100);\r\n  }, [pos]);\r\n  useEffect(() => {\r\n    setPos(position_ms);\r\n  }, [position_ms]);\r\n\r\n  useEffect(() => {\r\n    let interval = null;\r\n    if (playing) {\r\n      interval = setInterval(() => {\r\n        setPos((pos) => pos + 1000);\r\n      }, 1000);\r\n    } else {\r\n      clearInterval(interval);\r\n    }\r\n    return () => clearInterval(interval);\r\n  }, [playing]);\r\n\r\n  const handleSeeker = () => {\r\n    var seekms = ((instance * current?.duration_ms) / 100).toFixed(0);\r\n    spotify\r\n      .seek(seekms)\r\n      .then(function () {\r\n        //console.log('Seek to ' + instance);\r\n      })\r\n      .catch(function (err) {\r\n        //if the user making the request is non-premium, a 403 FORBIDDEN response code will be returned\r\n        console.log('Something went wrong!', err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"justify-content-center align-items-center d-flex\">\r\n      <div className=\"playerSlider w-100\">\r\n        <p className=\"text-timer\">\r\n          {current\r\n            ? millisToMinutesAndSeconds(\r\n                ((instance * current.duration_ms) / 100).toFixed(0)\r\n              )\r\n            : '00:00'}\r\n        </p>\r\n        <input\r\n          type=\"range\"\r\n          className=\"range-2 mx-2\"\r\n          min=\"0\"\r\n          max=\"100\"\r\n          value={instance}\r\n          style={{\r\n            background: `linear-gradient(90deg, var(--main-theme) ${instance}%, #fff 60%)`,\r\n          }}\r\n          onChange={(e) => setInstance(e.target.value)}\r\n          onMouseUp={handleSeeker}\r\n          onKeyUp={handleSeeker}\r\n          onTouchEnd={handleSeeker}\r\n        />\r\n        <p className=\"text-timer\">\r\n          {current ? millisToMinutesAndSeconds(current.duration_ms) : '00:00'}\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default PlayerSlider1;\r\n","import KeyboardArrowUpIcon from '@material-ui/icons/KeyboardArrowUp';\r\nimport KeyboardArrowDownIcon from '@material-ui/icons/KeyboardArrowDown';\r\nimport CurrentPlaylist from '../../templates/current-playlist';\r\nimport { useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nfunction QueueFS() {\r\n  const { currentPlaylist } = useSelector((state) => state.library);\r\n  const [maximise, setMaximise] = useState(true);\r\n\r\n  function toggleMaxmin() {\r\n    setMaximise(!maximise);\r\n  }\r\n  return (\r\n    <div className=\"atp-outer-fs\">\r\n      <div className=\"atp\">\r\n        <div className=\"atp-header font-1-s \">\r\n          <span className=\"text-light h4 p-1\">Current Playlist</span>\r\n          <div className=\"d-flex\">\r\n            <button className=\"t-btn\" onClick={toggleMaxmin}>\r\n              {maximise ? (\r\n                <KeyboardArrowUpIcon\r\n                  fontSize=\"large\"\r\n                  style={{ color: 'white' }}\r\n                />\r\n              ) : (\r\n                <KeyboardArrowDownIcon\r\n                  fontSize=\"large\"\r\n                  style={{ color: 'white' }}\r\n                />\r\n              )}\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <div className=\"atp-inner px-1\" hidden={maximise}>\r\n          {currentPlaylist?.map((item, index) => (\r\n            <CurrentPlaylist\r\n              key={index}\r\n              index={index}\r\n              item={item}\r\n              list={currentPlaylist}\r\n              isUsers={null}\r\n              playlistId={null}\r\n            />\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default QueueFS;\r\n","import { getImage } from '../../utils/helperFunctions';\r\nimport PlayArrowTwoToneIcon from '@material-ui/icons/PlayArrowTwoTone';\r\nimport PauseTwoToneIcon from '@material-ui/icons/PauseTwoTone';\r\nimport SkipPreviousTwoToneIcon from '@material-ui/icons/SkipPreviousTwoTone';\r\nimport SkipNextTwoToneIcon from '@material-ui/icons/SkipNextTwoTone';\r\nimport PlayerSlider1 from '../nowPlayingSlider/player-slider-1';\r\nimport QueueFS from './queue-fs';\r\nimport { useSelector } from 'react-redux';\r\n\r\nfunction FullScreenPlayer({\r\n  fullS,\r\n  setFullS,\r\n  handlePlayPause,\r\n  skipNext,\r\n  skipPrevious,\r\n}) {\r\n  const { current, playing } = useSelector((state) => state.player);\r\n\r\n  return (\r\n    <div className=\"album-img-div\">\r\n      {fullS && (\r\n        <img\r\n          src={getImage(current?.album?.images, 'lg')}\r\n          alt=\"default-art\"\r\n          className=\"album-bg-fs\"\r\n        />\r\n      )}\r\n      <img\r\n        src={getImage(current?.album?.images, 'md')}\r\n        alt=\"default-art\"\r\n        className={fullS ? 'album-sm-fs' : 'album-sm'}\r\n        crossOrigin=\"anonymous\"\r\n      />\r\n\r\n      <div className=\"fullscreen-controls\" hidden={!fullS}>\r\n        <div className=\"s-info-text\">\r\n          <span className=\"np-name text-light d-flex\">\r\n            {current ? current.name : 'Music track'}\r\n          </span>\r\n          <div className=\"np-by-outer\">\r\n            <span className=\"np-by\">\r\n              {current\r\n                ? current?.track\r\n                  ? 'by..'\r\n                  : current?.artists.map(\r\n                      (item, index) => (index ? ', ' : '') + item.name\r\n                    )\r\n                : 'by..'}\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <PlayerSlider1 />\r\n        <div className=\"d-flex m-auto\">\r\n          <button className=\"t-btn\" onClick={skipPrevious}>\r\n            <SkipPreviousTwoToneIcon\r\n              fontSize=\"large\"\r\n              style={{ color: 'rgb(255,255,255)' }}\r\n            />\r\n          </button>\r\n          <button className={'play-container mx-5 '} onClick={handlePlayPause}>\r\n            {playing ? (\r\n              <PauseTwoToneIcon\r\n                fontSize=\"large\"\r\n                style={{ color: 'rgb(255,255,255)' }}\r\n              />\r\n            ) : (\r\n              <PlayArrowTwoToneIcon\r\n                fontSize=\"large\"\r\n                style={{ color: 'rgb(255,255,255)' }}\r\n              />\r\n            )}\r\n          </button>\r\n          <button className=\"t-btn\" onClick={skipNext}>\r\n            <SkipNextTwoToneIcon\r\n              fontSize=\"large\"\r\n              style={{ color: 'rgb(255,255,255)' }}\r\n            />\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div className=\"fs-playlist\" hidden={!fullS}>\r\n        <QueueFS />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default FullScreenPlayer;\r\n","import PlayArrowIcon from '@material-ui/icons/PlayArrowTwoTone';\r\nimport PauseIcon from '@material-ui/icons/Pause';\r\nimport SkipPreviousTwoToneIcon from '@material-ui/icons/SkipPreviousTwoTone';\r\nimport SkipNextTwoToneIcon from '@material-ui/icons/SkipNextTwoTone';\r\nimport VolumeDown from '@material-ui/icons/VolumeDown';\r\nimport QueueMusicIcon from '@material-ui/icons/QueueMusic';\r\nimport KeyboardOutlinedIcon from '@material-ui/icons/KeyboardOutlined';\r\nimport ShuffleBtn from '../../utils/shuffle';\r\nimport RepeatBtn from '../../utils/repeat';\r\nimport VolumeOff from '@material-ui/icons/VolumeOff';\r\nimport MyDevices from '../mydevices';\r\nimport { useState, useEffect } from 'react';\r\nimport { getArtistNames, getImage, pauseEvent } from '../../utils/helperFunctions';\r\nimport FullScreenPlayer from './fullscreen';\r\nimport { FullScreen, useFullScreenHandle } from 'react-full-screen';\r\nimport PlayerSlider1 from '../nowPlayingSlider/player-slider-1';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { toggleKeyboard, toggleQueue } from '../../store/actions/app-actions';\r\n\r\nfunction MaxPlayer1({\r\n  skipNext,\r\n  skipPrevious,\r\n  handlePlayPause,\r\n  volume,\r\n  changeVolume,\r\n  setVolume,\r\n  mutePlayer,\r\n}) {\r\n  const dispatch = useDispatch();\r\n  const { current, playing, lyrics, isMuted } = useSelector(\r\n    (state) => state.player\r\n  );\r\n  const { settings } = useSelector((state) => state.app);\r\n  const [showLyrics, setShowLyrics] = useState(false);\r\n  const [fullS, setFullS] = useState(false);\r\n  const handle = useFullScreenHandle();\r\n\r\n  const artistNames = getArtistNames(current?.artists);\r\n  //console.log(lyrics);\r\n\r\n  const handleKeyboard = () => {\r\n    dispatch(toggleKeyboard(!settings.isKeyboard));\r\n  };\r\n  const handleQueue = () => {\r\n    dispatch(toggleQueue(!settings.isQueue));\r\n  };\r\n\r\n  //fullscreen handle\r\n  const handleFullScreen = () => {\r\n    if (fullS) {\r\n      setFullS(false);\r\n      handle.exit();\r\n    } else {\r\n      setFullS(true);\r\n      handle.enter();\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    const listener = () => {\r\n      if (!document.webkitIsFullScreen) {\r\n        // Run code on exit\r\n        setFullS(false);\r\n      }\r\n    };\r\n\r\n    const shortcutListener = (e) => {\r\n      //prevent eventlistener where not needed\r\n      if (e.target.classList.contains('escapeEvent')) return;\r\n\r\n      if (e.code === 'KeyF') {\r\n        handleFullScreen();\r\n      }\r\n    };\r\n\r\n    document.addEventListener('fullscreenchange', listener, false);\r\n    document.addEventListener('keydown', shortcutListener);\r\n\r\n    return () => {\r\n      document.removeEventListener('fullscreenchange', listener, false);\r\n      document.removeEventListener('keydown', shortcutListener);\r\n    };\r\n  });\r\n\r\n  return (\r\n    <div id=\"max-player-1\" className=\"max-player-1\">\r\n      {current && (\r\n        <img\r\n          src={getImage(current?.album?.images, 'lg')}\r\n          alt=\"default-art\"\r\n          className=\"album-bg\"\r\n        />\r\n      )}\r\n      {current ? (\r\n        <div className={'album-art'}>\r\n          <div className=\"fullscreen-btns\">\r\n            <button\r\n              className=\"t-btn fs-btn\"\r\n              onClick={handleFullScreen}\r\n              style={{ color: fullS ? 'var(--main-theme)' : 'white' }}\r\n            >\r\n              <ion-icon name=\"expand-outline\"></ion-icon>\r\n            </button>\r\n          </div>\r\n          {showLyrics ? (\r\n            <div className=\"lyric-container\">\r\n              <div className=\"lyric-div-outer\">\r\n                <img\r\n                  src={getImage(current?.album?.images, 'md')}\r\n                  alt=\"default-art\"\r\n                  className=\"album-lyric\"\r\n                  crossOrigin=\"anonymous\"\r\n                />\r\n                <div className=\"lyrics-outer\">\r\n                  <p className=\"lyrics-txt escapeEvent\">{lyrics}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <FullScreen handle={handle} className=\"album-art w-100\">\r\n              <FullScreenPlayer\r\n                handlePlayPause={handlePlayPause}\r\n                skipNext={skipNext}\r\n                skipPrevious={skipPrevious}\r\n                fullS={fullS}\r\n                setFullS={setFullS}\r\n              />\r\n            </FullScreen>\r\n          )}\r\n        </div>\r\n      ) : (\r\n        <div className={'default-art'}>\r\n          <div className=\"default-art-outer\">\r\n            <img src={'/bg3.png'} alt=\"default-art\" />\r\n          </div>\r\n        </div>\r\n      )}\r\n      <div className=\"controls-outer\">\r\n        <div className=\"music-info w-100\">\r\n          <div className=\"s-info d-flex\">\r\n            <div\r\n              className={\r\n                's-info-text ' + (current?.name.length > 30 && 'text-anim')\r\n              }\r\n            >\r\n              <span className={'np-name'}>\r\n                {current ? current.name : 'Music track'}\r\n              </span>\r\n              <div className=\"np-by-outer\">\r\n                <span className=\"np-by\">\r\n                  {current\r\n                    ? current?.track\r\n                      ? 'by..'\r\n                      : artistNames\r\n                    : 'by..'}\r\n                </span>\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <button\r\n                className={'lyrics-btn' + (showLyrics ? ' active' : '')}\r\n                onClick={() => setShowLyrics(!showLyrics)}\r\n              >\r\n                LYRICS\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          <PlayerSlider1 />\r\n        </div>\r\n\r\n        <div className=\"extra-controls\">\r\n          <MyDevices />\r\n          <button className=\"t-btn me-4\" onClick={handleQueue}>\r\n            <QueueMusicIcon\r\n              style={{\r\n                color: settings.isQueue\r\n                  ? 'var(--main-theme)'\r\n                  : 'white',\r\n              }}\r\n            />\r\n          </button>\r\n        </div>\r\n        <div className=\"controls d-flex justify-content-center pb-4\">\r\n          <div className=\"left-control\">\r\n            <MyDevices />\r\n            <button className=\"t-btn\" onClick={handleKeyboard}>\r\n              <KeyboardOutlinedIcon\r\n                style={{\r\n                  color: settings.isKeyboard\r\n                    ? 'var(--main-theme)'\r\n                    : 'white',\r\n                }}\r\n              />\r\n            </button>\r\n            <button className=\"t-btn\" onClick={handleQueue}>\r\n              <QueueMusicIcon\r\n                style={{\r\n                  color: settings.isQueue\r\n                    ? 'var(--main-theme)'\r\n                    : 'white',\r\n                }}\r\n              />\r\n            </button>\r\n          </div>\r\n          <div className=\"mid-control\">\r\n            <ShuffleBtn />\r\n            <button className=\"bg-transparent border-0\">\r\n              <SkipPreviousTwoToneIcon\r\n                onClick={skipPrevious}\r\n                className=\"controls-icon\"\r\n                fontSize=\"large\"\r\n                style={{ color: 'white' }}\r\n              />\r\n            </button>\r\n            <button className=\"main-play-container\" onClick={handlePlayPause}>\r\n              {playing ? (\r\n                <PauseIcon\r\n                  style={{ color: 'white' }}\r\n                  fontSize=\"large\"\r\n                />\r\n              ) : (\r\n                <PlayArrowIcon\r\n                  style={{ color: 'white' }}\r\n                  fontSize=\"large\"\r\n                />\r\n              )}\r\n            </button>\r\n            <button className=\"bg-transparent border-0\">\r\n              <SkipNextTwoToneIcon\r\n                onClick={skipNext}\r\n                className=\"controls-icon\"\r\n                fontSize=\"large\"\r\n                style={{ color: 'white' }}\r\n              />\r\n            </button>\r\n            <RepeatBtn />\r\n          </div>\r\n          <div className=\"right-control\">\r\n            <button className=\"t-btn me-2\" onClick={mutePlayer}>\r\n              {isMuted ? (\r\n                <VolumeOff style={{ color: 'red' }} />\r\n              ) : (\r\n                <VolumeDown style={{ color: 'grey' }} />\r\n              )}\r\n            </button>\r\n\r\n            <input\r\n              type=\"range\"\r\n              className=\"range-2\"\r\n              min=\"0\"\r\n              max=\"100\"\r\n              value={volume}\r\n              style={{\r\n                width: '60%',\r\n                background: `linear-gradient(90deg, var(--main-theme) ${volume}%, #fff 60%)`,\r\n              }}\r\n              onChange={(e) => setVolume(e.target.value)}\r\n              onMouseUp={changeVolume}\r\n              onKeyUp={changeVolume}\r\n              onTouchEnd={changeVolume}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default MaxPlayer1;\r\n","import '../../styling/player2.css';\r\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow';\r\nimport PauseIcon from '@material-ui/icons/Pause';\r\nimport SkipPreviousTwoToneIcon from '@material-ui/icons/SkipPreviousTwoTone';\r\nimport SkipNextTwoToneIcon from '@material-ui/icons/SkipNextTwoTone';\r\nimport VolumeDown from '@material-ui/icons/VolumeDown';\r\nimport QueueMusicIcon from '@material-ui/icons/QueueMusic';\r\nimport KeyboardTwoToneIcon from '@material-ui/icons/KeyboardTwoTone';\r\nimport { getColor, getColorOnly, getImage } from '../../utils/helperFunctions';\r\nimport ShuffleBtn from '../../utils/shuffle';\r\nimport RepeatBtn from '../../utils/repeat';\r\nimport VolumeOff from '@material-ui/icons/VolumeOff';\r\nimport { useRef, useState } from 'react';\r\nimport MyDevices from '../mydevices';\r\nimport PlayerSlider1 from '../nowPlayingSlider/player-slider-1';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nfunction MaxPlayer2({\r\n  skipNext,\r\n  skipPrevious,\r\n  handlePlayPause,\r\n  volume,\r\n  changeVolume,\r\n  setVolume,\r\n  mutePlayer,\r\n}) {\r\n  const dispatch = useDispatch();\r\n  const { current, playing, lyrics, isMuted } = useSelector(\r\n    (state) => state.player\r\n  );\r\n  const { colorpalette } = useSelector(\r\n    (state) => state.app\r\n  );\r\n  const { settings } = useSelector((state) => state.app);\r\n  const [showLyrics, setShowLyrics] = useState(false);\r\n  const imgRef = useRef();\r\n\r\n  const handleKeyboard = () => {\r\n    dispatch({\r\n      type: 'TOGGLE_KEYBOARD',\r\n      show: !settings.isKeyboard,\r\n    });\r\n  };\r\n  const loadColors = () => {\r\n    const max1 = document.querySelector('.max-player-2');\r\n    if (!colorpalette) {\r\n      max1.style.backgroundColor = `var(--max-player-1-bg)`;\r\n    } else {\r\n      let col = getColorOnly(imgRef);\r\n      max1.style.backgroundColor = `rgba(${col[0]},${col[1]},${col[2]},0.7)`;\r\n    }\r\n  };\r\n\r\n  const handleQueue = () => {\r\n    dispatch({\r\n      type: 'TOGGLE_QUEUE',\r\n      show: !settings.isQueue,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"max-player-2\">\r\n      {current ? (\r\n        <div className={'mp2-album-art'}>\r\n          {showLyrics ? (\r\n            <div className=\"mp2-lyric-div-outer\">\r\n              <img\r\n                src={getImage(current?.album?.images, 'md')}\r\n                alt=\"default-art\"\r\n                className=\"mp2-album-lyric\"\r\n                crossOrigin=\"anonymous\"\r\n              />\r\n              <div className=\"mp2-lyrics-outer\">\r\n                <p className=\"mp2-lyrics-txt\">{lyrics}</p>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <img\r\n              src={getImage(current?.album?.images, 'lg')}\r\n              alt=\"default-art\"\r\n              ref={imgRef}\r\n              crossOrigin=\"anonymous\"\r\n              onLoad={loadColors}\r\n            />\r\n          )}\r\n        </div>\r\n      ) : (\r\n        <div className={'default-art'}>\r\n          <div className=\"default-art-outer\">\r\n            <img src={'/bg3.png'} alt=\"default-art\" />\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"mp2-controls\">\r\n        <div className=\"music-info\">\r\n          <div className=\"s-info\">\r\n            <div\r\n              className={\r\n                's-info-text ' + (current?.name.length > 30 && 'text-anim')\r\n              }\r\n            >\r\n              <span className=\"np-name text-light\">\r\n                {current ? current.name : 'Music track'}\r\n              </span>\r\n              <div className=\"np-by-outer\">\r\n                <span className=\"np-by\" style={{ color: 'wheat' }}>\r\n                  {current\r\n                    ? current?.track\r\n                      ? 'by..'\r\n                      : current?.artists.map(\r\n                        (item, index) => (index ? ', ' : '') + item.name\r\n                      )\r\n                    : 'by..'}\r\n                </span>\r\n              </div>\r\n            </div>\r\n            <div className='lyric-btn-outer'>\r\n              <button\r\n                className={'lyrics-btn' + (showLyrics ? ' active' : '')}\r\n                onClick={() => setShowLyrics(!showLyrics)}\r\n              >\r\n                LYRICS\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          <PlayerSlider1 />\r\n        </div>\r\n        <div className=\"d-lg-none d-flex justify-content-between\">\r\n          <MyDevices />\r\n          <button className=\"t-btn me-4\" onClick={handleQueue}>\r\n            <QueueMusicIcon\r\n              style={{\r\n                color: settings.isQueue ? 'var(--main-theme)' : 'white',\r\n              }}\r\n            />\r\n          </button>\r\n        </div>\r\n        <div className=\"controls d-flex justify-content-center mb-2 mb-lg-0\">\r\n          <div className=\"left-control d-lg-flex d-none\">\r\n            <MyDevices />\r\n            <button className=\"t-btn\" onClick={handleKeyboard}>\r\n              <KeyboardTwoToneIcon\r\n                style={{\r\n                  color: settings.isKeyboard ? 'var(--main-theme)' : 'white',\r\n                }}\r\n              />\r\n            </button>\r\n            <button className=\"t-btn\">\r\n              <QueueMusicIcon\r\n                style={{\r\n                  color: settings.isQueue ? 'var(--main-theme)' : 'white',\r\n                }}\r\n                onClick={handleQueue}\r\n              />\r\n            </button>\r\n          </div>\r\n          <div className=\"mid-control\">\r\n            <ShuffleBtn />\r\n            <button className=\"t-btn\">\r\n              <SkipPreviousTwoToneIcon\r\n                onClick={skipPrevious}\r\n                className=\"controls-icon\"\r\n                fontSize=\"large\"\r\n              />\r\n            </button>\r\n            <button className=\"main-play-container\" onClick={handlePlayPause}>\r\n              {playing ? (\r\n                <PauseIcon fontSize=\"large\" style={{ color: 'white' }} />\r\n              ) : (\r\n                <PlayArrowIcon fontSize=\"large\" style={{ color: 'white' }} />\r\n              )}\r\n            </button>\r\n            <button className=\"t-btn\">\r\n              <SkipNextTwoToneIcon\r\n                onClick={skipNext}\r\n                className=\"controls-icon\"\r\n                fontSize=\"large\"\r\n              />\r\n            </button>\r\n            <RepeatBtn />\r\n          </div>\r\n          <div className=\"right-control d-lg-flex d-none\">\r\n            <button className=\"t-btn me-2\" onClick={mutePlayer}>\r\n              {isMuted ? (\r\n                <VolumeOff style={{ color: 'red' }} />\r\n              ) : (\r\n                <VolumeDown style={{ color: 'grey' }} />\r\n              )}\r\n            </button>\r\n\r\n            <input\r\n              type=\"range\"\r\n              className=\"range-2\"\r\n              min=\"0\"\r\n              max=\"100\"\r\n              value={volume}\r\n              style={{\r\n                width: '60%',\r\n                background: `linear-gradient(90deg, var(--main-theme) ${volume}%, #fff 60%)`,\r\n              }}\r\n              onChange={(e) => setVolume(e.target.value)}\r\n              onMouseUp={changeVolume}\r\n              onKeyUp={changeVolume}\r\n              onTouchEnd={changeVolume}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default MaxPlayer2;\r\n","import { useState, useEffect, useRef } from 'react';\r\nimport {\r\n  getImage,\r\n  getColorOnly,\r\n  millisToMinutesAndSeconds,\r\n  pauseEvent,\r\n} from '../../utils/helperFunctions';\r\nimport useSpotify from '../../hooks/useSpotify';\r\nimport { useSelector } from 'react-redux';\r\n\r\nfunction MaxPlayer3Slider({ fullS, handleFullScreen }) {\r\n  const spotify = useSpotify();\r\n  const { current, playing, lyrics, position_ms } = useSelector(\r\n    (state) => state.player\r\n  );\r\n  const { colorpalette } = useSelector(\r\n    (state) => state.app\r\n  );\r\n  const [instance, setInstance] = useState(0);\r\n  const [pos, setPos] = useState(0);\r\n  const imgRef = useRef();\r\n  //const [dragging, setDragging] = useState(false);\r\n  const [showLyrics, setShowLyrics] = useState(false);\r\n  let angle, dragging;\r\n\r\n  useEffect(() => {\r\n    if (!current) return;\r\n    setInstance(pos / current.duration_ms);\r\n  }, [pos]);\r\n  useEffect(() => {\r\n    setPos(position_ms);\r\n  }, [position_ms]);\r\n\r\n  useEffect(() => {\r\n    let interval = null;\r\n    if (playing) {\r\n      interval = setInterval(() => {\r\n        setPos((pos) => pos + 1000);\r\n      }, 1000);\r\n    } else {\r\n      clearInterval(interval);\r\n    }\r\n    return () => clearInterval(interval);\r\n  }, [playing]);\r\n  //Album theme color\r\n  const setColor = (col) => {\r\n    if (!colorpalette) {\r\n      document.documentElement.style.setProperty(\r\n        '--col-thief',\r\n        `var(--main-theme)`\r\n      );\r\n      document.documentElement.style.setProperty(\r\n        '--col-thief-bg-lite',\r\n        `var(--main-theme-bg)`\r\n      );\r\n    } else {\r\n      document.documentElement.style.setProperty(\r\n        '--col-thief',\r\n        `rgb(${col[0]},${col[1]},${col[2]})`\r\n      );\r\n      document.documentElement.style.setProperty(\r\n        '--col-thief-bg-lite',\r\n        `rgba(${col[0]},${col[1]},${col[2]}, 0.7)`\r\n      );\r\n    }\r\n  };\r\n  //Seeker Code\r\n  const handleSeeker = (seekTo) => {\r\n    if (!seekTo) return;\r\n    var seekms = (seekTo * current?.duration_ms).toFixed(0);\r\n    spotify\r\n      .seek(seekms)\r\n      .then(function () {\r\n        //console.log('Seek to ' + instance);\r\n      })\r\n      .catch(function (err) {\r\n        //if the user making the request is non-premium, a 403 FORBIDDEN response code will be  returned\r\n        console.log('Something went wrong!', err);\r\n      });\r\n  };\r\n\r\n  const start = function (e) {\r\n    dragging = true;\r\n  };\r\n\r\n  const move = (e) => {\r\n    var posX, posY;\r\n    if (e.buttons === 0) return;\r\n    pauseEvent(e);\r\n    const target = document.getElementById('dot').getBoundingClientRect();\r\n    let centerX = target.width / 2 + target.left;\r\n    let centerY = target.height / 2 + target.top;\r\n    if (e.type === 'touchmove') {\r\n      posX = e.touches[0].pageX;\r\n      posY = e.touches[0].pageY;\r\n    } else {\r\n      posX = e.pageX;\r\n      posY = e.pageY;\r\n    }\r\n    let deltaY = centerY - posY;\r\n    let deltaX = centerX - posX;\r\n    angle = Math.atan2(deltaY, deltaX) * (180 / Math.PI);\r\n    angle -= 90;\r\n    if (angle < 0) {\r\n      angle = 360 + angle;\r\n    }\r\n    angle = Math.round(angle);\r\n    if (dragging) {\r\n      document.getElementById(\r\n        'dot-seeker'\r\n      ).style.transform = `rotate(${+angle}deg)`;\r\n      setInstance(angle / 360);\r\n    }\r\n    dragging = true;\r\n  };\r\n  const stop = function () {\r\n    dragging = false;\r\n    if (!dragging) {\r\n      let seekTo = angle / 360;\r\n      setInstance(seekTo);\r\n      handleSeeker(seekTo);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"circular-slider-cont\">\r\n      <div className=\"fullscreen-btns-p-3\">\r\n        <button\r\n          className=\"t-btn fs-btn\"\r\n          onClick={handleFullScreen}\r\n          style={{ color: fullS ? 'var(--main-theme)' : 'white' }}\r\n        >\r\n          <ion-icon name=\"expand-outline\"></ion-icon>\r\n        </button>\r\n      </div>\r\n      <div className='p-3-lyric-btn'>\r\n        <button\r\n          className={'lyrics-btn' + (showLyrics ? ' active' : '')}\r\n          onClick={() => setShowLyrics(!showLyrics)}\r\n        >\r\n          LYRICS\r\n        </button>\r\n      </div>\r\n      <div className=\"circling\">\r\n        {current && (\r\n          <div className=\"player-3-album\">\r\n            {showLyrics && <div className=\"lyrics-outer-p-3\">\r\n              <p className=\"lyrics-txt escapeEvent\">{lyrics}</p>\r\n            </div>}\r\n            <img\r\n              src={getImage(current?.album?.images, 'lg')}\r\n              alt=\"default-art\"\r\n              ref={imgRef}\r\n              crossOrigin=\"anonymous\"\r\n              onLoad={() => {\r\n                let col = getColorOnly(imgRef);\r\n                setColor(col);\r\n              }}\r\n            />\r\n            <div className=\"p-3-dur\">\r\n              {current ? (\r\n                <>\r\n                  <span className=\"h1\" style={{ width: '3.5rem' }}>\r\n                    {millisToMinutesAndSeconds(\r\n                      (instance * current?.duration_ms).toFixed(0)\r\n                    )}\r\n                  </span>\r\n                  <span className=\"h5\">\r\n                    {' / ' + millisToMinutesAndSeconds(current?.duration_ms)}\r\n                  </span>\r\n                </>\r\n              ) : (\r\n                ''\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n        <div\r\n          className=\"dots dot\"\r\n          id=\"dot\"\r\n          onMouseDown={start}\r\n          onTouchStart={start}\r\n          onMouseMove={move}\r\n          onMouseUp={stop}\r\n          onTouchMove={move}\r\n          onTouchEnd={stop}\r\n        >\r\n          <div\r\n            className=\"dot-seeker\"\r\n            id=\"dot-seeker\"\r\n            style={{ transform: `rotate(${instance * 360}deg)` }}\r\n          ></div>\r\n        </div>\r\n\r\n        <svg width=\"200\" height=\"200\" viewBox=\"0 0 200 200\">\r\n          <circle cx=\"100\" cy=\"100\" r=\"100\"></circle>\r\n          <circle\r\n            cx=\"100\"\r\n            cy=\"100\"\r\n            r=\"100\"\r\n            style={{\r\n              strokeDasharray: 6.2831 * 100,\r\n              strokeDashoffset: 6.2831 * 100 * (1 - instance),\r\n            }}\r\n          ></circle>\r\n        </svg>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MaxPlayer3Slider;\r\n","import PlayArrowIcon from '@material-ui/icons/PlayArrowTwoTone';\r\nimport PauseIcon from '@material-ui/icons/Pause';\r\nimport SkipPreviousTwoToneIcon from '@material-ui/icons/SkipPreviousTwoTone';\r\nimport SkipNextTwoToneIcon from '@material-ui/icons/SkipNextTwoTone';\r\nimport VolumeDown from '@material-ui/icons/VolumeDown';\r\nimport QueueMusicIcon from '@material-ui/icons/QueueMusic';\r\nimport KeyboardOutlinedIcon from '@material-ui/icons/KeyboardOutlined';\r\nimport ShuffleBtn from '../../utils/shuffle';\r\nimport RepeatBtn from '../../utils/repeat';\r\nimport VolumeOff from '@material-ui/icons/VolumeOff';\r\nimport MyDevices from '../mydevices';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { getArtistNames, getImage } from '../../utils/helperFunctions';\r\nimport { FullScreen, useFullScreenHandle } from 'react-full-screen';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { toggleKeyboard, toggleQueue } from '../../store/actions/app-actions';\r\nimport '../../styling/player.css';\r\nimport MaxPlayer3Slider from '../nowPlayingSlider/player-slider-3';\r\n//Custom Circular slider build by Me\r\nfunction MaxPlayer3({\r\n  skipNext,\r\n  skipPrevious,\r\n  handlePlayPause,\r\n  volume,\r\n  changeVolume,\r\n  setVolume,\r\n  mutePlayer,\r\n}) {\r\n  const dispatch = useDispatch();\r\n  const { current, playing, lyrics, isMuted } = useSelector(\r\n    (state) => state.player\r\n  );\r\n  const { settings } = useSelector((state) => state.app);\r\n  const artistNames = getArtistNames(current?.artists);\r\n  const handle = useFullScreenHandle();\r\n  const [fullS, setFullS] = useState(false);\r\n\r\n  const handleKeyboard = () => {\r\n    dispatch(toggleKeyboard(!settings.isKeyboard));\r\n  };\r\n  const handleQueue = () => {\r\n    dispatch(toggleQueue(!settings.isQueue));\r\n  };\r\n\r\n  //fullscreen handle\r\n  const handleFullScreen = () => {\r\n    if (fullS) {\r\n      setFullS(false);\r\n      handle.exit();\r\n    } else {\r\n      setFullS(true);\r\n      handle.enter();\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    const listener = () => {\r\n      if (!document.webkitIsFullScreen) {\r\n        // Run code on exit\r\n        setFullS(false);\r\n      }\r\n    };\r\n    const shortcutListener = (e) => {\r\n      //prevent eventlistener where not needed\r\n      if (e.target.classList.contains('escapeEvent')) return;\r\n\r\n      if (e.code === 'KeyF') {\r\n        handleFullScreen();\r\n      }\r\n    };\r\n    document.addEventListener('fullscreenchange', listener, false);\r\n    document.addEventListener('keydown', shortcutListener);\r\n\r\n    return () => {\r\n      document.removeEventListener('fullscreenchange', listener, false);\r\n      document.removeEventListener('keydown', shortcutListener);\r\n    };\r\n  });\r\n\r\n  return (\r\n    <FullScreen handle={handle}>\r\n      <div id=\"max-player-1\" className=\"max-player-1\">\r\n        {current && (\r\n          <img\r\n            src={getImage(current?.album?.images, 'lg')}\r\n            alt=\"default-art\"\r\n            className=\"album-bg\"\r\n          />\r\n        )}\r\n        <div className=\"music-info-player-3\">\r\n          <div className=\"s-info py-2\">\r\n            <div className={'s-info-text'}>\r\n              <span\r\n                className={\r\n                  'np-name-p-3 ' + (current?.name.length > 30 && 'text-anim')\r\n                }\r\n              >\r\n                {current ? current.name : 'Music track'}\r\n              </span>\r\n              <div className=\"np-by-outer\">\r\n                <span\r\n                  className={\r\n                    'np-by-p-3 ' + (artistNames?.length > 50 && 'text-anim')\r\n                  }\r\n                >\r\n                  {current ? (current?.track ? 'by..' : artistNames) : 'by..'}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <MaxPlayer3Slider fullS={fullS} handleFullScreen={handleFullScreen} />\r\n          <div className=\"controls d-flex justify-content-center pb-4\">\r\n            <div className=\"left-control\">\r\n              <MyDevices />\r\n              <button className=\"t-btn\" onClick={handleKeyboard}>\r\n                <KeyboardOutlinedIcon\r\n                  style={{\r\n                    color: settings.isKeyboard\r\n                      ? 'var(--main-theme)'\r\n                      : 'white',\r\n                  }}\r\n                />\r\n              </button>\r\n              <button className=\"t-btn\" onClick={handleQueue}>\r\n                <QueueMusicIcon\r\n                  style={{\r\n                    color: settings.isQueue\r\n                      ? 'var(--main-theme)'\r\n                      : 'white',\r\n                  }}\r\n                />\r\n              </button>\r\n            </div>\r\n            <div className=\"mid-control\">\r\n              <ShuffleBtn />\r\n              <button className=\"bg-transparent border-0\">\r\n                <SkipPreviousTwoToneIcon\r\n                  onClick={skipPrevious}\r\n                  className=\"controls-icon\"\r\n                  fontSize=\"large\"\r\n                  style={{ color: 'white' }}\r\n                />\r\n              </button>\r\n              <button className=\"main-play-container\" onClick={handlePlayPause}>\r\n                {playing ? (\r\n                  <PauseIcon\r\n                    style={{ color: 'white' }}\r\n                    fontSize=\"large\"\r\n                  />\r\n                ) : (\r\n                  <PlayArrowIcon\r\n                    style={{ color: 'white' }}\r\n                    fontSize=\"large\"\r\n                  />\r\n                )}\r\n              </button>\r\n              <button className=\"bg-transparent border-0\">\r\n                <SkipNextTwoToneIcon\r\n                  onClick={skipNext}\r\n                  className=\"controls-icon\"\r\n                  fontSize=\"large\"\r\n                  style={{ color: 'white' }}\r\n                />\r\n              </button>\r\n              <RepeatBtn />\r\n            </div>\r\n            <div className=\"right-control\">\r\n              <button className=\"t-btn me-2\" onClick={mutePlayer}>\r\n                {isMuted ? (\r\n                  <VolumeOff style={{ color: 'red' }} />\r\n                ) : (\r\n                  <VolumeDown style={{ color: 'grey' }} />\r\n                )}\r\n              </button>\r\n\r\n              <input\r\n                type=\"range\"\r\n                className=\"range-2\"\r\n                min=\"0\"\r\n                max=\"100\"\r\n                value={volume}\r\n                style={{\r\n                  width: '60%',\r\n                  background: `linear-gradient(90deg, var(--main-theme) ${volume}%, #fff 60%)`,\r\n                }}\r\n                onChange={(e) => setVolume(e.target.value)}\r\n                onMouseUp={changeVolume}\r\n                onKeyUp={changeVolume}\r\n                onTouchEnd={changeVolume}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"d-lg-none d-flex justify-content-between\">\r\n            <MyDevices />\r\n            <button className=\"t-btn me-4\" onClick={handleQueue}>\r\n              <QueueMusicIcon\r\n                style={{\r\n                  color: settings.isQueue\r\n                    ? 'var(--main-theme)'\r\n                    : 'white',\r\n                }}\r\n              />\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </FullScreen>\r\n\r\n  );\r\n}\r\nexport default MaxPlayer3;\r\n","import PlayArrowIcon from '@material-ui/icons/PlayArrowTwoTone';\r\nimport PauseIcon from '@material-ui/icons/Pause';\r\nimport SkipPreviousTwoToneIcon from '@material-ui/icons/SkipPreviousTwoTone';\r\nimport SkipNextTwoToneIcon from '@material-ui/icons/SkipNextTwoTone';\r\nimport QueueMusicIcon from '@material-ui/icons/QueueMusic';\r\nimport ShuffleBtn from '../../utils/shuffle';\r\nimport RepeatBtn from '../../utils/repeat';\r\nimport { toggleQueue } from '../../store/actions/app-actions';\r\nimport {\r\n    millisToMinutesAndSeconds,\r\n    pauseEvent,\r\n} from '../../utils/helperFunctions';\r\nimport { useState, useEffect } from 'react';\r\nimport useSpotify from '../../hooks/useSpotify';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nfunction PlayerSlider4({ skipNext,\r\n    skipPrevious,\r\n    handlePlayPause,\r\n    handedness }) {\r\n    const position_ms = useSelector((state) => state.player.position_ms);\r\n    const { current, playing } = useSelector(\r\n        (state) => state.player\r\n    );\r\n    const { settings } = useSelector((state) => state.app);\r\n    const [instance, setInstance] = useState(0);\r\n    const [pos, setPos] = useState(0);\r\n    const [dragging, setDragging] = useState(false);\r\n    const spotify = useSpotify();\r\n    const dispatch = useDispatch();\r\n    let angle;\r\n    let rotatingAngle = handedness ? -90 : 0;\r\n    let hside = handedness ? 'right' : 'left';\r\n    useEffect(() => {\r\n        if (!current) return;\r\n        setInstance(pos / current.duration_ms);\r\n    }, [pos]);\r\n    useEffect(() => {\r\n        setPos(position_ms);\r\n    }, [position_ms]);\r\n\r\n    useEffect(() => {\r\n        let interval = null;\r\n        if (playing) {\r\n            interval = setInterval(() => {\r\n                setPos((pos) => pos + 1000);\r\n            }, 1000);\r\n        } else {\r\n            clearInterval(interval);\r\n        }\r\n        return () => clearInterval(interval);\r\n    }, [playing]);\r\n    const handleQueue = () => {\r\n        dispatch(toggleQueue(!settings.isQueue));\r\n    };\r\n    //Seeker Code\r\n    const handleSeeker = (seekTo) => {\r\n        if (!seekTo) return;\r\n        var seekms = parseInt((seekTo * current?.duration_ms).toFixed(0));\r\n        spotify\r\n            .seek(seekms)\r\n            .then(function () {\r\n                //console.log('Seek to ' + instance);\r\n            })\r\n            .catch(function (err) {\r\n                //if the user making the request is non-premium, a 403 FORBIDDEN response code will be  returned\r\n                console.log('Something went wrong!', err);\r\n            });\r\n    };\r\n\r\n    const start = function (e) {\r\n        setDragging(true);\r\n    };\r\n\r\n    const move = (e) => {\r\n        var posX, posY;\r\n        if (e.buttons === 0) return;\r\n        pauseEvent(e);\r\n        const target = document.getElementById('dot').getBoundingClientRect();\r\n        let centerX = target.width / 2 + target.left;\r\n        let centerY = target.height / 2 + target.top;\r\n        if (e.type === 'touchmove') {\r\n            posX = e.touches[0].pageX;\r\n            posY = e.touches[0].pageY;\r\n        } else {\r\n            posX = e.pageX;\r\n            posY = e.pageY;\r\n        }\r\n        let deltaY = centerY - posY;\r\n        let deltaX = centerX - posX;\r\n        angle = Math.atan2(deltaY, deltaX) * (180 / Math.PI);\r\n        //angle -= 180;\r\n        if (angle < 0) {\r\n            angle = 360 + angle;\r\n        }\r\n        angle = Math.round(angle);\r\n        if (dragging) {\r\n            document.getElementById(\r\n                'dot-seeker'\r\n            ).style.transform = `rotate(${rotatingAngle + angle}deg)`;\r\n            setInstance(angle / 90);\r\n        }\r\n        setDragging(true);\r\n    };\r\n    const stop = function () {\r\n        setDragging(false);\r\n        if (dragging) {\r\n            let seekTo = angle / 90;\r\n            setInstance(seekTo);\r\n            handleSeeker(seekTo);\r\n        }\r\n    };\r\n    return (<div className={`circular-slider-cont-2 ${hside}`}>\r\n        <div className='circular-slider-cont-2-controls-outer'>\r\n            <div className={`quad-pp ${hside}`}>\r\n                <button className=\"main-play-container\" onClick={handlePlayPause}>\r\n                    {playing ? (\r\n                        <PauseIcon\r\n                            style={{ color: 'white' }}\r\n                            fontSize=\"large\"\r\n                        />\r\n                    ) : (\r\n                        <PlayArrowIcon\r\n                            style={{ color: 'white' }}\r\n                            fontSize=\"large\"\r\n                        />\r\n                    )}\r\n                </button>\r\n                <button className={`quad-btn-l1 ${hside} t-btn`}>\r\n                    <SkipNextTwoToneIcon\r\n                        onClick={skipNext}\r\n                        className=\"controls-icon\"\r\n                        fontSize=\"large\"\r\n                        style={{ color: 'white' }}\r\n                    />\r\n                </button>\r\n                <button className={`quad-btn-l1 ${hside} t-btn`}>\r\n                    <SkipPreviousTwoToneIcon\r\n                        onClick={skipPrevious}\r\n                        className=\"controls-icon\"\r\n                        fontSize=\"large\"\r\n                        style={{ color: 'white' }}\r\n                    />\r\n                </button>\r\n                <button className={`quad-btn-l2 ${hside} t-btn`} onClick={handleQueue}>\r\n                    <QueueMusicIcon\r\n                        style={{\r\n                            color: settings.isQueue\r\n                                ? 'var(--main-theme)'\r\n                                : 'white',\r\n                        }}\r\n                    />\r\n                </button>\r\n                <div className={`quad-btn-l2 ${hside} t-btn`}>\r\n                    <ShuffleBtn />\r\n                </div>\r\n                <div className={`quad-btn-l2 ${hside} t-btn`}>\r\n                    <RepeatBtn />\r\n                </div>\r\n                <p className={`text-timer timer-f ${hside}`}>\r\n                    {current\r\n                        ? millisToMinutesAndSeconds(\r\n                            (instance * current.duration_ms).toFixed(0)\r\n                        )\r\n                        : '00:00'}\r\n                </p>\r\n                <p className={`text-timer timer-t ${hside}`}>\r\n                    {current\r\n                        ? millisToMinutesAndSeconds(current.duration_ms)\r\n                        : '00:00'}\r\n                </p>\r\n            </div>\r\n        </div>\r\n        <div className=\"circling-2\">\r\n            {current && (\r\n                <div className=\"player-3-album\">\r\n                    <div className=\"p-3-dur\">\r\n                        {current ? (\r\n                            <>\r\n                                <span className=\"h1\" style={{ width: '3.5rem' }}>\r\n                                    {millisToMinutesAndSeconds(\r\n                                        (instance * current?.duration_ms).toFixed(0)\r\n                                    )}\r\n                                </span>\r\n                                <span className=\"h5\">\r\n                                    {' / ' + millisToMinutesAndSeconds(current?.duration_ms)}\r\n                                </span>\r\n                            </>\r\n                        ) : (\r\n                            ''\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            )}\r\n            <div\r\n                className=\"dots-2 dot-2\"\r\n                id=\"dot\"\r\n                onMouseDown={start}\r\n                onTouchStart={start}\r\n                onMouseMove={move}\r\n                onMouseUp={stop}\r\n                onTouchMove={move}\r\n                onTouchEnd={stop}\r\n            >\r\n                <div\r\n                    className=\"dot-seeker-2\"\r\n                    id=\"dot-seeker\"\r\n                    style={{ transform: `rotate(${rotatingAngle + instance * 90}deg)` }}\r\n                ></div>\r\n            </div>\r\n\r\n            <svg width=\"200\" height=\"200\" viewBox=\"0 0 200 200\" style={{ transform: `rotate(${handedness ? 180 : 270}deg)` }}>\r\n                <circle cx=\"100\" cy=\"100\" r=\"100\"></circle>\r\n                <circle\r\n                    cx=\"100\"\r\n                    cy=\"100\"\r\n                    r=\"100\"\r\n                    style={{\r\n                        strokeDasharray: 1.56 * 100,\r\n                        strokeDashoffset: 1.56 * 100 * (1 - instance),\r\n                    }}\r\n                ></circle>\r\n            </svg>\r\n        </div>\r\n    </div>)\r\n}\r\nexport default PlayerSlider4;\r\n","\r\nimport MyDevices from '../mydevices';\r\nimport React, { useState, useRef, useEffect } from 'react';\r\nimport {\r\n  getImage,\r\n  getColorOnly\r\n} from '../../utils/helperFunctions';\r\nimport '../../styling/player4.css';\r\nimport PlayerSlider4 from '../nowPlayingSlider/player-slider-4';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport SwapHorizontalCircleTwoTone from '@material-ui/icons/SwapHorizontalCircleTwoTone';\r\nimport { toggleHandedness } from '../../store/actions/app-actions';\r\nimport { FullScreen, useFullScreenHandle } from 'react-full-screen';\r\n\r\nfunction MaxPlayer4({\r\n  skipNext,\r\n  skipPrevious,\r\n  handlePlayPause,\r\n  volume,\r\n  changeVolume,\r\n  setVolume,\r\n  mutePlayer,\r\n}) {\r\n  const { current, lyrics } = useSelector(\r\n    (state) => state.player\r\n  );\r\n  const { colorpalette } = useSelector(\r\n    (state) => state.app\r\n  );\r\n  const { handedness } = useSelector((state) => state.app);\r\n  const imgRef = useRef();\r\n  const handle = useFullScreenHandle();\r\n  const [showLyrics, setShowLyrics] = useState(false);\r\n  const [fullS, setFullS] = useState(false);\r\n  const dispatch = useDispatch();\r\n\r\n  //fullscreen handle\r\n  const handleFullScreen = () => {\r\n    if (fullS) {\r\n      setFullS(false);\r\n      handle.exit();\r\n    } else {\r\n      setFullS(true);\r\n      handle.enter();\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    const listener = () => {\r\n      if (!document.webkitIsFullScreen) {\r\n        // Run code on exit\r\n        setFullS(false);\r\n      }\r\n    };\r\n    const shortcutListener = (e) => {\r\n      //prevent eventlistener where not needed\r\n      if (e.target.classList.contains('escapeEvent')) return;\r\n\r\n      if (e.code === 'KeyF') {\r\n        handleFullScreen();\r\n      }\r\n    };\r\n    document.addEventListener('fullscreenchange', listener, false);\r\n    document.addEventListener('keydown', shortcutListener);\r\n\r\n    return () => {\r\n      document.removeEventListener('fullscreenchange', listener, false);\r\n      document.removeEventListener('keydown', shortcutListener);\r\n    };\r\n  });\r\n\r\n  //toggle handedness\r\n  const handleHandedness = () => {\r\n    dispatch(toggleHandedness(!handedness));\r\n  }\r\n\r\n  //get colors\r\n  const loadColors = () => {\r\n    if (!colorpalette) {\r\n      document.documentElement.style.setProperty(\r\n        '--col-thief',\r\n        `var(--main-theme)`\r\n      );\r\n      document.documentElement.style.setProperty(\r\n        '--col-thief-bg-lite',\r\n        `var(--main-theme-bg-lite)`\r\n      );\r\n    } else {\r\n      let col = getColorOnly(imgRef);\r\n      document.documentElement.style.setProperty(\r\n        '--col-thief',\r\n        `rgb(${col[0]},${col[1]},${col[2]})`\r\n      );\r\n      document.documentElement.style.setProperty(\r\n        '--col-thief-bg-lite',\r\n        `rgba(${col[0]},${col[1]},${col[2]},0.3)`\r\n      );\r\n    }\r\n  };\r\n\r\n\r\n\r\n  return (\r\n    <FullScreen handle={handle}>\r\n      <div\r\n        id=\"max-player-1\"\r\n        className=\"max-player-1\"\r\n      >\r\n        {current && (\r\n          <img\r\n            src={getImage(current?.album?.images, 'lg')}\r\n            alt=\"default-art\"\r\n            className=\"album-bg\"\r\n            ref={imgRef}\r\n            crossOrigin=\"anonymous\"\r\n            onLoad={loadColors}\r\n          />\r\n        )}\r\n        <div className=\"music-info\">\r\n          <div className=\"s-info\">\r\n            <div\r\n              className={\r\n                's-info-text ' + (current?.name.length > 30 && 'text-anim')\r\n              }\r\n            >\r\n              <span className={'np-name'}>\r\n                {current ? current.name : 'Music track'}\r\n              </span>\r\n              <div className=\"np-by-outer\">\r\n                <span className=\"np-by\">\r\n                  {current\r\n                    ? current?.track\r\n                      ? 'by..'\r\n                      : current?.artists.map(\r\n                        (item, index) => (index ? ', ' : '') + item.name\r\n                      )\r\n                    : 'by..'}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className={\"fullscreen-btns-p-4 \" + (handedness ? 'left' : 'right')}>\r\n\r\n          <button\r\n            className=\"t-btn fs-btn\"\r\n            onClick={handleFullScreen}\r\n            style={{ color: fullS ? 'var(--main-theme)' : 'white' }}\r\n          >\r\n            <ion-icon name=\"expand-outline\"></ion-icon>\r\n          </button>\r\n\r\n          <MyDevices handedness={handedness} />\r\n          <button className='t-btn' onClick={handleHandedness}>\r\n            <SwapHorizontalCircleTwoTone\r\n              style={{ color: 'var(--main-theme)' }}\r\n            />\r\n          </button>\r\n        </div>\r\n        {current ? (\r\n          <div className={'album-art-p-4'}>\r\n            {showLyrics ? (\r\n              <div>\r\n                <div className=\"lyric-div-outer\">\r\n                  <img\r\n                    src={getImage(current?.album?.images, 'md')}\r\n                    alt=\"default-art\"\r\n                    className=\"album-lyric\"\r\n                    crossOrigin=\"anonymous\"\r\n                  />\r\n                  <div className=\"lyrics-outer\">\r\n                    <p className=\"lyrics-txt\">{lyrics}</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <div className={'default-art'}>\r\n                <img\r\n                  src={getImage(current?.album?.images, 'md')}\r\n                  alt=\"default-art\"\r\n                  crossOrigin=\"anonymous\"\r\n                  className='album-sm-4'\r\n                />\r\n              </div>\r\n            )}\r\n          </div>\r\n        ) : (\r\n          <div className={'default-art'}>\r\n            <div className=\"default-art-outer\">\r\n              <img src={'/bg3.png'} alt=\"default-art\" />\r\n            </div>\r\n          </div>\r\n        )}\r\n        <PlayerSlider4\r\n          skipNext={skipNext}\r\n          skipPrevious={skipPrevious}\r\n          handlePlayPause={handlePlayPause}\r\n          handedness={handedness} />\r\n      </div>\r\n    </FullScreen>\r\n  );\r\n}\r\nexport default MaxPlayer4;\r\n","import { useEffect, useState } from 'react';\r\nimport MaxPlayer1 from './maxplayertypes/player1';\r\nimport MaxPlayer2 from './maxplayertypes/player2';\r\nimport MaxPlayer3 from './maxplayertypes/player3';\r\nimport MaxPlayer4 from './maxplayertypes/player4';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { toggleKeyboard, toggleQueue } from '../store/actions/app-actions';\r\nimport { handleVolume, setMute } from '../store/actions/spotify-actions';\r\n\r\n\r\nfunction MaxPlayer({ skipNext, skipPrevious, handlePlayPause, minPlayer, setMinPlayer }) {\r\n  const [volume, setVolume] = useState(100);\r\n  const dispatch = useDispatch();\r\n  const { isMuted, maxplayertype } = useSelector((state) => state.player);\r\n  const { settings } = useSelector((state) => state.app);\r\n\r\n  useEffect(() => {\r\n    const listener = (event) => {\r\n      if (event.target.classList.contains('escapeEvent')) return;\r\n\r\n      if (event.code === 'KeyP') {\r\n        handlePlayPause();\r\n      }\r\n      if (event.code === 'KeyX') {\r\n        skipNext();\r\n      }\r\n      if (event.code === 'KeyZ') {\r\n        skipPrevious();\r\n      }\r\n      if (event.code === 'KeyM') {\r\n        mutePlayer();\r\n      }\r\n      if (event.code === 'KeyB') {\r\n        setMinPlayer(!minPlayer);\r\n      }\r\n      if (event.code === 'ArrowUp') {\r\n        navigateVolume(10);\r\n      }\r\n      if (event.code === 'ArrowDown') {\r\n        navigateVolume(-10);\r\n      }\r\n      if (event.code === 'KeyH') {\r\n        dispatch(toggleKeyboard(!settings.isKeyboard));\r\n      }\r\n      if (event.code === 'KeyQ') {\r\n        dispatch(toggleQueue(!settings.isQueue));\r\n      }\r\n    };\r\n    document.addEventListener('keydown', listener);\r\n    return () => {\r\n      document.removeEventListener('keydown', listener);\r\n    };\r\n  });\r\n\r\n  const changeVolume = () => {\r\n    handleVolume(volume);\r\n  };\r\n  const navigateVolume = (change) => {\r\n    if (change > 0) {\r\n      if (volume <= 90) {\r\n        let newVolume = parseInt(volume) + parseInt(change);\r\n        setVolume(newVolume);\r\n        handleVolume(newVolume);\r\n      } else {\r\n        setVolume(100);\r\n        handleVolume(100);\r\n      }\r\n    } else {\r\n      if (volume > 10) {\r\n        let newVolume = parseInt(volume) + parseInt(change);\r\n        setVolume(newVolume);\r\n        handleVolume(newVolume);\r\n      } else {\r\n        setVolume(0);\r\n        handleVolume(0);\r\n      }\r\n    }\r\n  };\r\n\r\n  const mutePlayer = () => {\r\n    dispatch(setMute(isMuted, volume));\r\n  };\r\n\r\n  const maxType = () => {\r\n    switch (maxplayertype) {\r\n      case 0:\r\n        return (\r\n          <MaxPlayer1\r\n            handlePlayPause={handlePlayPause}\r\n            skipNext={skipNext}\r\n            skipPrevious={skipPrevious}\r\n            volume={volume}\r\n            setVolume={setVolume}\r\n            changeVolume={changeVolume}\r\n            mutePlayer={mutePlayer}\r\n          />\r\n        );\r\n      case 1:\r\n        return (\r\n          <MaxPlayer2\r\n            handlePlayPause={handlePlayPause}\r\n            skipNext={skipNext}\r\n            skipPrevious={skipPrevious}\r\n            volume={volume}\r\n            setVolume={setVolume}\r\n            changeVolume={changeVolume}\r\n            mutePlayer={mutePlayer}\r\n          />\r\n        );\r\n      case 2:\r\n        return (\r\n          <MaxPlayer3\r\n            handlePlayPause={handlePlayPause}\r\n            skipNext={skipNext}\r\n            skipPrevious={skipPrevious}\r\n            volume={volume}\r\n            setVolume={setVolume}\r\n            changeVolume={changeVolume}\r\n            mutePlayer={mutePlayer}\r\n          />\r\n        );\r\n      case 3:\r\n        return (\r\n          <MaxPlayer4\r\n            handlePlayPause={handlePlayPause}\r\n            skipNext={skipNext}\r\n            skipPrevious={skipPrevious}\r\n            volume={volume}\r\n            setVolume={setVolume}\r\n            changeVolume={changeVolume}\r\n            mutePlayer={mutePlayer}\r\n          />\r\n        );\r\n\r\n\r\n      default:\r\n        console.log('Error');\r\n        break;\r\n    }\r\n  };\r\n  return <div hidden={minPlayer}>{maxType()}</div>;\r\n}\r\nexport default MaxPlayer;\r\n","import UtubeApp from './youtube/components/utube-app';\r\nimport SwitchPlatform from './youtube/youtube-switch';\r\nimport MinPlayer from './player/minPlayer';\r\nimport MaxPlayer from './player/maxplayer';\r\nimport { useState } from 'react';\r\nimport useSpotify from './hooks/useSpotify';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { setPlaying } from './store/actions/player-actions';\r\nimport {\r\n  handlePlayPause,\r\n  handleSkipNext,\r\n  handleSkipPrev,\r\n} from './store/actions/spotify-actions';\r\n\r\nfunction Player() {\r\n  const dispatch = useDispatch();\r\n  const { deviceId, playing, sideBartype } = useSelector((state) => state.player);\r\n  const [minPlayer, setMinPlayer] = useState(true);\r\n  const [utubeMode, setUtubeMode] = useState(false);\r\n  const spotify = useSpotify();\r\n\r\n  const handleSwitch = () => {\r\n    setUtubeMode(!utubeMode);\r\n    if (playing) {\r\n      spotify\r\n        .pause({ device_id: deviceId })\r\n        .then(() => {\r\n          dispatch(setPlaying(false));\r\n        })\r\n        .catch((err) => console.log(err));\r\n    }\r\n  };\r\n\r\n  const skipNext = () => {\r\n    dispatch(handleSkipNext());\r\n  };\r\n  const skipPrevious = () => {\r\n    dispatch(handleSkipPrev());\r\n  };\r\n  const handlePlay = () => {\r\n    dispatch(handlePlayPause());\r\n  };\r\n\r\n  const maxPlayer = (e) => {\r\n    const tagNames = ['svg', 'path', 'button'];\r\n    const classNames = ['island', 'mini-island', 'island-controls', 'dynamic-island', 'island-s-info']; //prevent dynamic island expansion\r\n    if (!tagNames.includes(e.target.tagName) && !classNames.includes(e.target.parentNode.className)) {\r\n      setMinPlayer(!minPlayer);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {!utubeMode && (\r\n        <div className={(minPlayer ? 'min-music-player' : 'music-player') + (minPlayer === 4 ? '' : ' min-pos')}>\r\n          {!minPlayer && (\r\n            <div className=\"switch-btns\">\r\n              <SwitchPlatform\r\n                utubeMode={utubeMode}\r\n                handleSwitch={handleSwitch}\r\n              />\r\n\r\n              <button\r\n                className=\"ms-2 mp-toggle\"\r\n                onClick={() => setMinPlayer(!minPlayer)}\r\n              >\r\n                <ion-icon name=\"chevron-down-outline\"></ion-icon>\r\n              </button>\r\n            </div>\r\n          )}\r\n\r\n          <MaxPlayer\r\n            skipNext={skipNext}\r\n            skipPrevious={skipPrevious}\r\n            handlePlayPause={handlePlay}\r\n            minPlayer={minPlayer}\r\n            setMinPlayer={setMinPlayer}\r\n          />\r\n        </div>\r\n      )}\r\n      {utubeMode && (\r\n        <UtubeApp handleSwitch={handleSwitch} utubeMode={utubeMode} />\r\n      )}\r\n      <MinPlayer\r\n        maxPlayer={maxPlayer}\r\n        handlePlayPause={handlePlay}\r\n        skipNext={skipNext}\r\n        skipPrevious={skipPrevious}\r\n        minPlayer={minPlayer}\r\n        setMinPlayer={setMinPlayer}\r\n      />\r\n    </>\r\n  );\r\n}\r\nexport default Player;\r\n","import { useEffect } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { handleThemeChange, hexToRgb } from './helperFunctions';\r\n\r\nfunction SetVisuals() {\r\n  const { albumBackground, darkMode } = useSelector((state) => state.app);\r\n  const theme = useSelector((state) => state.player.theme);\r\n\r\n  useEffect(() => {\r\n    if (albumBackground) return;\r\n    if (darkMode) {\r\n      document.body.style.background = `black`;\r\n    } else {\r\n      document.body.style.background = `url('/abstract.jpg') no-repeat center`;\r\n      document.body.style.backgroundSize = 'cover';\r\n    }\r\n  }, [darkMode, albumBackground]);\r\n\r\n  useEffect(() => {\r\n    const hex = hexToRgb(theme);\r\n    handleThemeChange(hex);\r\n  }, [theme]);\r\n\r\n  return null;\r\n}\r\nexport default SetVisuals;\r\n","import { useEffect, useState } from 'react';\r\nimport CancelIcon from '@material-ui/icons/CancelTwoTone';\r\n\r\nfunction Suggestion() {\r\n  const suggest = JSON.parse(window.localStorage.getItem('suggest'));\r\n  const [show, setShow] = useState(false);\r\n  useEffect(() => {\r\n    const { innerWidth: width } = window;\r\n    if (width < 768) {\r\n      setShow(suggest === null ? true : suggest);\r\n    }\r\n  }, []);\r\n  const closeModal = () => {\r\n    setShow(false);\r\n    window.localStorage.setItem('suggest', false);\r\n  };\r\n  return (\r\n    <div style={{ display: show ? 'block' : 'none' }} className=\"suggest-modal\">\r\n      <button className=\"t-btn\" onClick={closeModal}>\r\n        <CancelIcon fontSize=\"large\" style={{ color: 'var(--main-theme)' }} />\r\n      </button>\r\n      <div>\r\n        <p>\r\n          For better UI experience in Smartphones, Open options and click on{' '}\r\n          <i>\"Add to Home Screen\"</i>\r\n          <br />\r\n          Then play through App Shortcut :)\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default Suggestion;\r\n","import Sidebar from '../components/sidebar/sidebar';\r\nimport { useAuth } from './hooks/useAuth';\r\nimport { Route, Switch, useRouteMatch } from 'react-router-dom';\r\nimport '../App.css';\r\nimport Header from './header';\r\nimport Playlist from './routes/playlist';\r\nimport Artist from './routes/artist';\r\nimport Album from './routes/album';\r\nimport Bottombar from './sidebar/bottombar';\r\nimport Home from './player/home';\r\nimport SearchRouter from './player/search-router';\r\nimport LibraryRouter from './player/library-router';\r\nimport Settings from './player/settings';\r\nimport AddToPlaylist from './player/add-to-playlist';\r\nimport KeyboardShortcuts from './player/shortcuts';\r\nimport PlayerStatus from './utils/playerStatus';\r\nimport Notibar from './utils/notibar';\r\nimport Queue from './player/queue';\r\nimport CategoryPage from './routes/category-page';\r\nimport UseSpotifyPlayer from './config/spotifyPlayer';\r\nimport Player from './player';\r\nimport { useSelector } from 'react-redux';\r\nimport React from 'react';\r\nimport whyDidYouUpdate from 'why-did-you-update';\r\nimport SetVisuals from './utils/visuals';\r\nimport { useLoadPlayerOnMount } from './hooks/useLoadPlayerOnMount';\r\nimport Suggestion from './windowSize';\r\n\r\nconst code = new URLSearchParams(window.location.search).get('code');\r\n\r\nfunction Homepage() {\r\n  useAuth(code);\r\n  useLoadPlayerOnMount();\r\n  const token = useSelector((state) => state.player.token);\r\n  let { path } = useRouteMatch();\r\n  const darkMode = useSelector((state) => state.app.darkMode);\r\n  //whyDidYouUpdate(React);\r\n\r\n  return (\r\n    <div className=\"homepage\" data-theme={darkMode ? 'dark' : 'light'}>\r\n      {token && <UseSpotifyPlayer />}\r\n      <PlayerStatus />\r\n      <Notibar />\r\n      <SetVisuals />\r\n      <Sidebar />\r\n      <Suggestion />\r\n      <div className=\"player\" style={{ padding: '10px' }}>\r\n        <Header />\r\n        <Bottombar />\r\n        <Player />\r\n        <Switch>\r\n          <Route path={`${path}/search`} component={SearchRouter} />\r\n          <Route path={`${path}/library`} component={LibraryRouter} />\r\n          <Route path={`${path}/settings`} component={Settings} />\r\n          <Route path={`${path}/playlist/:id`} component={Playlist} />\r\n          <Route path={`${path}/artist/:id`} component={Artist} />\r\n          <Route path={`${path}/album/:id`} component={Album} />\r\n          <Route path={`${path}/category/:id`} component={CategoryPage} />\r\n          <Route path={`${path}`}>\r\n            <Home />\r\n          </Route>\r\n        </Switch>\r\n        <AddToPlaylist />\r\n        <KeyboardShortcuts />\r\n        <Queue />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default Homepage;\r\n","import Cookies from 'js-cookie';\r\nimport { useEffect } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { getNewAccessToken } from '../store/actions/spotify-actions';\r\n\r\nexport function useLoadPlayerOnMount() {\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    window.addEventListener('beforeunload', setCookieOnUnload);\r\n    return () => {\r\n      window.removeEventListener('beforeunload', setCookieOnUnload);\r\n    };\r\n  }, []);\r\n  const setCookieOnUnload = (e) => {\r\n    Cookies.set('userBackInOneHour', 'true', {\r\n      expires: 1 / 24,\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const userBackInOneHour = Cookies.get('userBackInOneHour');\r\n    if (!userBackInOneHour) {\r\n      dispatch(getNewAccessToken());\r\n    }\r\n  }, []);\r\n}\r\n","import { useState } from 'react';\r\nimport { loginUrl } from './config/spotify';\r\nimport FavoriteTwoToneIcon from '@material-ui/icons/FavoriteTwoTone';\r\n\r\nfunction Frontpage() {\r\n  const [selected, setSelected] = useState('holder-5');\r\n  return (\r\n    <div className=\"front-page\">\r\n      <div className=\"logo\">Fizzbee.</div>\r\n      <div className=\"login-div\">\r\n        <a className=\"login-link\" href={loginUrl}>\r\n          login with&nbsp;\r\n          <img src=\"spotify.png\" width=\"20\" alt=\"spotify-icon\" />\r\n        </a>\r\n      </div>\r\n      <div className=\"fpage-pic\">\r\n        <img src=\"f1.png\" altt=\"f-pic\" alt=\"demo-music\" />\r\n      </div>\r\n\r\n      <div className=\"about-holder\">\r\n        <div\r\n          className={`holder-1 ` + (selected === `holder-1` ? 'zf' : '')}\r\n          onClick={() => setSelected(`holder-1`)}\r\n        >\r\n          <img src={'about5.png'} alt=\"about1\" className=\"about-img\" />\r\n        </div>\r\n        {Array(4)\r\n          .fill()\r\n          .map((item, index) => (\r\n            <div\r\n              className={\r\n                `holder-` +\r\n                (index + 2) +\r\n                ' hold-pic ' +\r\n                (selected === `holder-` + (index + 2) ? 'zf' : '')\r\n              }\r\n              key={index}\r\n              onClick={() => setSelected(`holder-` + (index + 2))}\r\n            >\r\n              <img\r\n                src={`about${5 - (index + 1)}.png`}\r\n                alt=\"about1\"\r\n                className=\"about-img\"\r\n              />\r\n            </div>\r\n          ))}\r\n      </div>\r\n      <h5 className=\"made-by made-by-font\">\r\n        made with <FavoriteTwoToneIcon fontSize=\"small\" /> by\r\n        <a\r\n          href=\"https://www.linkedin.com/in/niraj-sharma-40132b165\"\r\n          className=\"ms-2 made-by-font\"\r\n        >\r\n          Niraj\r\n        </a>\r\n      </h5>\r\n    </div>\r\n  );\r\n}\r\nexport default Frontpage;\r\n","import '../node_modules/bootstrap/dist/css/bootstrap.min.css';\nimport './App.css';\nimport Homepage from './components/homepage';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport Frontpage from './components/frontpage';\n\nfunction App() {\n  return (\n    <Router>\n      <div className=\"App\">\n        <Switch>\n          <Route path=\"/\" exact component={Frontpage} />\n          <Route path=\"/app\">\n            <Homepage />\n          </Route>\n        </Switch>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","import {\r\n  SET_CURRENT_PLAYLIST,\r\n  SET_PLAYLIST,\r\n  NEW_RELEASES,\r\n  MY_TOP_TRACKS,\r\n  SET_FEATURED_PLAYLIST,\r\n  SET_BOLLYWOOD_HITS,\r\n  SET_BOLLYWOOD_NEW,\r\n  SET_CATEGORIES,\r\n  SET_MY_TOP_ARTISTS,\r\n  SET_MY_ARTISTS_RECOMMENDATIONS,\r\n  SET_ARTISTS,\r\n  NEW_RELEASES_TILE,\r\n} from '../actions/types';\r\n\r\nconst initialState = {\r\n  playlist: null,\r\n  currentPlaylist: null,\r\n  newReleases: null,\r\n  newReleasesTile: 0,\r\n  mytoptracks: null,\r\n  featuredPlaylists: null,\r\n  myTopArtists: null,\r\n  categories: null,\r\n  bollywoodHits: null,\r\n  bollywoodNew: null,\r\n  recommendations: null,\r\n  followedArtists: null,\r\n};\r\nexport default function (state = initialState, action) {\r\n  switch (action.type) {\r\n    case SET_PLAYLIST:\r\n      return {\r\n        ...state,\r\n        playlist: action.playlist,\r\n      };\r\n    case SET_CURRENT_PLAYLIST:\r\n      return {\r\n        ...state,\r\n        currentPlaylist: action.list,\r\n      };\r\n    case NEW_RELEASES:\r\n      return {\r\n        ...state,\r\n        newReleases: action.newReleases,\r\n      };\r\n    case NEW_RELEASES_TILE:\r\n      return {\r\n        ...state,\r\n        newReleasesTile: action.index,\r\n      };\r\n    case MY_TOP_TRACKS:\r\n      return {\r\n        ...state,\r\n        mytoptracks: action.mytoptracks,\r\n      };\r\n    case SET_FEATURED_PLAYLIST:\r\n      return {\r\n        ...state,\r\n        featuredPlaylists: action.featuredPlaylists,\r\n      };\r\n    case SET_BOLLYWOOD_HITS:\r\n      return {\r\n        ...state,\r\n        bollywoodHits: action.bollywoodHits,\r\n      };\r\n    case SET_BOLLYWOOD_NEW:\r\n      return {\r\n        ...state,\r\n        bollywoodNew: action.bollywoodNew,\r\n      };\r\n    case SET_CATEGORIES:\r\n      return {\r\n        ...state,\r\n        categories: action.categories,\r\n      };\r\n    case SET_MY_TOP_ARTISTS:\r\n      return {\r\n        ...state,\r\n        myTopArtists: action.myTopArtists,\r\n      };\r\n\r\n    case SET_MY_ARTISTS_RECOMMENDATIONS:\r\n      return {\r\n        ...state,\r\n        recommendations: action.recommendations,\r\n      };\r\n    case SET_ARTISTS:\r\n      return {\r\n        ...state,\r\n        followedArtists: action.followedArtists,\r\n      };\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n}\r\n","import {\r\n  SET_NOTIBAR,\r\n  SET_ALBUM_BG,\r\n  SET_DARKMODE,\r\n  SET_TRACK_TO_ADD,\r\n  TOGGLE_ADD_TO_PLAYLIST,\r\n  TOGGLE_KEYBOARD,\r\n  TOGGLE_QUEUE,\r\n  TOGGLE_MY_DEVICES,\r\n  TOGGLE_COLOR_PALETTE,\r\n  TOGGLE_HANDEDNESS\r\n} from '../actions/types';\r\n\r\nconst initialState = {\r\n  albumBackground: false,\r\n  darkMode: window.localStorage.getItem('darkMode')\r\n    ? JSON.parse(window.localStorage.getItem('darkMode'))\r\n    : true,\r\n  colorpalette: true,\r\n  handedness: window.localStorage.getItem('handedness')\r\n    ? JSON.parse(window.localStorage.getItem('handedness'))\r\n    : true,\r\n  notibar: {\r\n    msg: null,\r\n    type: false,\r\n  },\r\n  settings: {\r\n    isAddToPlaylistOpen: false,\r\n    trackToAdd: null,\r\n    isKeyboard: false,\r\n    isQueue: false,\r\n    isDevices: false,\r\n  },\r\n};\r\n\r\nexport default function (state = initialState, action) {\r\n  switch (action.type) {\r\n    case SET_DARKMODE:\r\n      return {\r\n        ...state,\r\n        darkMode: action.darkMode,\r\n      };\r\n    case TOGGLE_COLOR_PALETTE:\r\n      return {\r\n        ...state,\r\n        colorpalette: action.colorpalette,\r\n      };\r\n    case SET_NOTIBAR:\r\n      return {\r\n        ...state,\r\n        notibar: {\r\n          ...state.notibar,\r\n          msg: action.msg,\r\n          type: action.msgType,\r\n        },\r\n      };\r\n\r\n    case SET_ALBUM_BG:\r\n      return {\r\n        ...state,\r\n        albumBackground: action.show,\r\n      };\r\n\r\n    case SET_TRACK_TO_ADD:\r\n      return {\r\n        ...state,\r\n        settings: {\r\n          ...state.settings,\r\n          trackToAdd: action.trackToAdd,\r\n        },\r\n      };\r\n\r\n    case TOGGLE_ADD_TO_PLAYLIST:\r\n      return {\r\n        ...state,\r\n        settings: {\r\n          ...state.settings,\r\n          isAddToPlaylistOpen: action.show,\r\n        },\r\n      };\r\n\r\n    case TOGGLE_KEYBOARD:\r\n      return {\r\n        ...state,\r\n        settings: {\r\n          ...state.settings,\r\n          isKeyboard: action.show,\r\n        },\r\n      };\r\n\r\n    case TOGGLE_QUEUE:\r\n      return {\r\n        ...state,\r\n        settings: {\r\n          ...state.settings,\r\n          isQueue: action.show,\r\n        },\r\n      };\r\n\r\n    case TOGGLE_MY_DEVICES:\r\n      return {\r\n        ...state,\r\n        settings: {\r\n          ...state.settings,\r\n          isDevices: action.show,\r\n        },\r\n      };\r\n\r\n    case TOGGLE_HANDEDNESS:\r\n      return {\r\n        ...state,\r\n        handedness: action.handedness,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import {\r\n  SET_TOKEN,\r\n  SET_PLAYING,\r\n  SET_SHUFFLE,\r\n  SET_REPEAT,\r\n  SET_DEVICE_ID,\r\n  SET_POSITION,\r\n  SET_CURRENT,\r\n  SET_MUTED,\r\n  SET_VC_LANG,\r\n  SET_MIN_TYPE,\r\n  SET_MAX_TYPE,\r\n  SET_SIDEBAR_TYPE,\r\n  SET_PLAYER_READY,\r\n  SET_THEME,\r\n  SET_LYRICS,\r\n  SET_FONT,\r\n  SET_CURRENT_TILE_ID,\r\n  SET_EXPIRES_IN,\r\n  SET_PREMIUM,\r\n  SET_ISLANDDOUBLE_TYPE,\r\n} from '../actions/types';\r\nexport const initialState = {\r\n  token: window.localStorage.getItem('token'),\r\n  expiresIn: null,\r\n  playing: false,\r\n  isPremium: true,\r\n  position_ms: 0,\r\n  isShuffle: false,\r\n  repeatMode: 0,\r\n  theme: JSON.parse(window.localStorage.getItem('theme'))\r\n    ? JSON.parse(window.localStorage.getItem('theme'))\r\n    : '#00FF7F',\r\n  font: \"'Shadows Into Light', cursive\",\r\n  lyrics: null,\r\n  deviceId: null,\r\n  playerReady: false,\r\n  isMuted: false,\r\n  vcLang: 'en-IN',\r\n  current: null,\r\n  currentTileId: null,\r\n  minplayertype: window.localStorage.getItem('min')\r\n    ? JSON.parse(window.localStorage.getItem('min'))\r\n    : 1,\r\n  maxplayertype: window.localStorage.getItem('max')\r\n    ? JSON.parse(window.localStorage.getItem('max'))\r\n    : 0,\r\n  sideBartype: window.localStorage.getItem('sideBar')\r\n    ? JSON.parse(window.localStorage.getItem('sideBar'))\r\n    : 1,\r\n  islandDouble: window.localStorage.getItem('islandDouble')\r\n    ? JSON.parse(window.localStorage.getItem('islandDouble'))\r\n    : 0,\r\n};\r\n\r\nexport default function (state = initialState, action) {\r\n  switch (action.type) {\r\n    case SET_TOKEN:\r\n      return {\r\n        ...state,\r\n        token: action.token,\r\n      };\r\n    case SET_EXPIRES_IN:\r\n      return {\r\n        ...state,\r\n        expiresIn: action.expiresIn,\r\n      };\r\n    case SET_PLAYING: {\r\n      return {\r\n        ...state,\r\n        playing: action.playing,\r\n      };\r\n    }\r\n    case SET_SHUFFLE: {\r\n      return {\r\n        ...state,\r\n        isShuffle: action.shuffle,\r\n      };\r\n    }\r\n    case SET_REPEAT: {\r\n      return {\r\n        ...state,\r\n        repeatMode: action.repeatMode,\r\n      };\r\n    }\r\n    case SET_DEVICE_ID: {\r\n      return {\r\n        ...state,\r\n        deviceId: action.deviceId,\r\n      };\r\n    }\r\n    case SET_POSITION:\r\n      return {\r\n        ...state,\r\n        position_ms: action.position,\r\n      };\r\n    case SET_CURRENT: {\r\n      return {\r\n        ...state,\r\n        current: action.current,\r\n      };\r\n    }\r\n    case SET_CURRENT_TILE_ID: {\r\n      return {\r\n        ...state,\r\n        currentTileId: action.id,\r\n      };\r\n    }\r\n    case SET_MUTED: {\r\n      return {\r\n        ...state,\r\n        isMuted: action.isMuted,\r\n      };\r\n    }\r\n    case SET_VC_LANG: {\r\n      return {\r\n        ...state,\r\n        vcLang: action.lang,\r\n      };\r\n    }\r\n    case SET_MIN_TYPE:\r\n      return {\r\n        ...state,\r\n        minplayertype: action.minplayertype,\r\n      };\r\n    case SET_MAX_TYPE:\r\n      return {\r\n        ...state,\r\n        maxplayertype: action.maxplayertype,\r\n      };\r\n    case SET_ISLANDDOUBLE_TYPE:\r\n      return {\r\n        ...state,\r\n        islandDouble: action.islandDouble,\r\n      };\r\n    case SET_SIDEBAR_TYPE:\r\n      return {\r\n        ...state,\r\n        sideBartype: action.sideBartype,\r\n      };\r\n    case SET_PLAYER_READY:\r\n      return {\r\n        ...state,\r\n        playerReady: action.playerReady,\r\n      };\r\n    case SET_PREMIUM:\r\n      return {\r\n        ...state,\r\n        isPremium: action.isPremium,\r\n      };\r\n    case SET_THEME:\r\n      return {\r\n        ...state,\r\n        theme: action.theme,\r\n      };\r\n    case SET_LYRICS:\r\n      return {\r\n        ...state,\r\n        lyrics: action.lyrics,\r\n      };\r\n    case SET_FONT:\r\n      return {\r\n        ...state,\r\n        font: action.font,\r\n      };\r\n\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n}\r\n","import { SET_MY_DEVICES, SET_USER } from '../actions/types';\r\n\r\nconst initialState = {\r\n  user: null,\r\n  mydevices: null,\r\n};\r\n\r\nexport default function (state = initialState, action) {\r\n  switch (action.type) {\r\n    case SET_USER:\r\n      return {\r\n        ...state,\r\n        user: action.user,\r\n      };\r\n    case SET_MY_DEVICES:\r\n      return {\r\n        ...state,\r\n        mydevices: action.mydevices,\r\n      };\r\n\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n}\r\n","import { combineReducers } from 'redux';\r\nimport libraryReducer from './libraryReducer';\r\nimport appReducer from './app-reducer';\r\nimport playerReducer from './playerReducer';\r\nimport userReducer from './userReducer';\r\n\r\nconst rootReducer = combineReducers({\r\n  library: libraryReducer,\r\n  app: appReducer,\r\n  player: playerReducer,\r\n  user: userReducer,\r\n});\r\n\r\nexport default (state, action) => {\r\n  return rootReducer(state, action);\r\n};\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { Provider } from 'react-redux';\nimport configureStore from './components/store/store';\n\nconst ProviderComponent = () => {\n  const store = configureStore();\n  return (\n    <Provider store={store}>\n      <App />\n    </Provider>\n  );\n};\n\nReactDOM.render(<ProviderComponent />, document.getElementById('root'));\n","import { applyMiddleware, createStore } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport rootReducer from './reducers';\r\n\r\nexport default function configureStore() {\r\n  return createStore(rootReducer, applyMiddleware(thunk));\r\n}\r\n"],"sourceRoot":""}