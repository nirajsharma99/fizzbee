{"version":3,"sources":["components/sidebar/navlist.js","components/hooks/useSpotify.js","components/store/types.js","components/store/actions/app-actions.js","components/store/actions/library-actions.js","components/firebase/firebase.js","components/firebase/handlers.js","components/store/actions/player-actions.js","components/store/actions/spotify-actions.js","components/voice-command/voice-command.js","components/utils/helperFunctions.js","components/sidebar/sidebarTypes/sidebar1.js","components/sidebar/sidebarTypes/sidebar2.js","components/sidebar/sidebar.js","components/hooks/useAuth.js","components/config/spotify.js","components/header.js","components/store/actions/user-actions.js","components/skeletons/skeletonTracks.js","components/templates/track-dropdown.js","components/templates/more-options.js","components/player/buttons.js","components/utils/checkDevice.js","components/routes/track-item.js","components/routes/track-lists.js","components/routes/playlist.js","components/utils/scroll-button.js","components/templates/album.js","components/skeletons/skeletonArtists.js","components/templates/artists.js","components/routes/artist.js","components/routes/album.js","components/sidebar/bottombar/bottombar1.js","components/utils/useClickedOutside.js","components/sidebar/bottombar/bottombar2.js","components/sidebar/bottombar.js","components/templates/homeComponents/newReleasesSlider.js","components/templates/homeComponents/newReleasesSlider2.js","components/templates/homeComponents/newReleasesLayout.js","components/templates/song-cards.js","components/skeletons/skeletonSongs.js","components/templates/trackholders.js","components/skeletons/skeletonPlaylist.js","components/templates/homeComponents/playlistCard.js","components/templates/homeComponents/featuredPlaylist.js","components/templates/homeComponents/categories.js","components/player/home.js","components/templates/playlist.js","components/player/search-page.js","components/player/search-router.js","components/skeletons/skeletonSPlaylist.js","components/templates/library-playlist.js","components/player/new-playlist-form.js","components/player/library-page.js","components/player/library-router.js","components/player/settings/settingConstants.js","components/utils/CustomSwitch.js","components/player/settings/otherSettings.js","components/utils/CustomDigitInput.js","components/player/settings/appBackground.js","components/player/settings/appearance.js","components/player/settings/font.js","components/player/settings/headerSettings.js","components/utils/CustomDropDown.js","components/player/settings/imageSlider.js","components/player/settings/islandSettings.js","components/player/settings/notibarSettings.js","components/player/settings/user.js","components/player/settings.js","components/player/add-to-playlist.js","components/player/shortcuts.js","components/utils/playerStatus.js","components/templates/current-playlist.js","components/player/queue.js","components/templates/category-playlist.js","components/routes/category-page.js","components/config/spotifyPlayer.js","components/youtube/youtube.js","components/youtube/components/VideoItem.js","components/youtube/components/VideoList.js","components/youtube/components/VideoDetail.js","components/youtube/youtube-switch.js","components/youtube/components/utube-app.js","components/player/minplayerTypes/player1.js","components/player/minplayerTypes/player2.js","components/utils/drawArc.js","components/utils/repeat.js","components/player/minplayerTypes/player3.js","components/utils/MultipleActions.js","components/player/nowPlayingSlider/mini-slider-1.js","components/utils/useLongPress.js","components/player/minplayerTypes/player4.js","components/player/minPlayer.js","components/utils/shuffle.js","components/player/mydevices.js","components/player/nowPlayingSlider/player-slider-1.js","components/player/maxplayertypes/queue-fs.js","components/player/maxplayertypes/fullscreen.js","components/player/maxplayertypes/player1.js","components/player/maxplayertypes/player2.js","components/player/nowPlayingSlider/player-slider-volume.js","components/player/nowPlayingSlider/player-slider-3.js","components/player/maxplayertypes/player3.js","components/player/nowPlayingSlider/player-slider-4.js","components/player/maxplayertypes/player4.js","components/player/maxplayer.js","components/player.js","components/utils/visuals.js","components/windowSize.js","components/player/notibar/notibar1.js","components/player/notibar/notibar2.js","components/player/notibar/notibarLayout.js","components/player/party/partyShare.js","components/player/party/partyOptionsDropdown.js","components/player/party/partyMoreOptions.js","components/player/party/userPartyItem.js","components/player/party/userPartyList.js","components/player/party/party.js","components/homepage.js","components/hooks/useLoadPlayerOnMount.js","components/frontpage.js","components/player/party/partySongs.js","components/player/party/guestRankedSongs.js","components/player/party/voting-page.js","App.js","serviceWorkerRegistration.js","components/store/reducers/libraryReducer.js","components/store/reducers/app-reducer.js","components/store/reducers/playerReducer.js","components/store/reducers/userReducer.js","components/store/index.js","index.js","components/store/store.js"],"names":["navList","idx","invIdx","icon","title","pathname","undefined","route","dotenv","config","spotify","SpotifyWebApi","clientId","process","useSpotify","token","useSelector","state","player","setAccessToken","SET_PLAYING","SET_SHUFFLE","SET_REPEAT","SET_DEVICE_ID","SET_POSITION","SET_CURRENT","SET_CURRENT_TILE_ID","SET_MUTED","SET_VC_LANG","SET_MIN_TYPE","SET_MAX_TYPE","SET_ISLANDDOUBLE_TYPE","SET_ISLAND_POS","SET_ISLAND_SWIPE_LEFT","SET_ISLAND_SWIPE_RIGHT","SET_ISLAND_LONG_PRESS","SET_PARTY_MODE","SET_PARTY_ID","SET_SIDEBAR_TYPE","SET_PLAYER_READY","SET_THEME","SET_LYRICS","SET_FONT","SET_TOKEN","SET_EXPIRES_IN","SET_PREMIUM","SET_PLAYLIST","SET_CURRENT_PLAYLIST","NEW_RELEASES","MY_TOP_TRACKS","SET_FEATURED_PLAYLIST","SET_BOLLYWOOD_HITS","SET_BOLLYWOOD_NEW","SET_CATEGORIES","SET_MY_TOP_ARTISTS","SET_MY_ARTISTS_RECOMMENDATIONS","SET_ARTISTS","SET_USER","SET_MY_DEVICES","SET_NOTIBAR","SET_NOTIBAR_TYPE","SET_NOTIBAR_POS","SET_HEADER_INVERT","SET_HEADER_HIDE","SET_HEADER_COLLAPSE","SET_ALBUM_BG","SET_TRACK_TO_ADD","SET_HOME_SLIDER_TYPE","SET_HOME_SLIDER_DELAY","SET_HOME_SLIDER_AUTOPLAY","TOGGLE_ADD_TO_PLAYLIST","TOGGLE_KEYBOARD","TOGGLE_QUEUE","TOGGLE_MY_DEVICES","NEW_RELEASES_TILE","SET_DARKMODE","TOGGLE_COLOR_PALETTE","TOGGLE_HANDEDNESS","SET_APP_BACKGROUND","SET_APP_BACKGROUND_BLUR","setNotibar","msg","type","delay","dispatch","msgType","setAppBackground","bg","appBackground","document","body","style","background","backgroundSize","window","localStorage","setItem","JSON","stringify","setTrackToAdd","track","trackToAdd","toggleAddToPlaylist","decision","show","toggleKeyboard","toggleQueue","setCurrentPlaylist","list","app","initializeApp","apiKey","authDomain","projectId","databaseURL","storageBucket","messagingSenderId","appId","measurementId","database","getDatabase","storage","getStorage","getPartyDetails","x","listRef","ref","votingId","onValue","snapshot","data","val","playlist","Object","values","sort","a","b","votes","splice","user","setData","endParty","updates","dbRef","get","child","then","partyOn","update","catch","err","console","log","removeFromParty","id","remove","addPartySong","listPath","item","handleOp","set","getUserBackgrounds","userId","reverse","setPlaying","playing","setPartyMode","partyMode","setCurrentTileId","setExpiresIn","duration","expiresIn","REACT_APP_CLIENT_ID","REACT_APP_API_ENDPOINT","API_ENDPOINT","setSpotifyAccessToken","getNewAccessToken","refreshToken","getItem","axios","post","res","access_token","play","getState","deviceId","uris","uri","device_id","error","playParty","handlePlayPause","pause","playfromlist","index","map","push","offset","handleVolume","volume","setVolume","handleSkipNext","skipToNext","playerRepeat","typeName","setRepeat","repeatMode","handleSkipPrev","skipToPrevious","getMyPlaylists","headers","Authorization","isFollowingPlaylist","playlist_id","user_id","getAlbum","VC","useDispatch","vcLang","useState","animDur","setAnimDur","useSpeechRecognition","transcript","resetTranscript","SpeechRecognition","browserSupportsSpeechRecognition","alert","processSearched","playSong","removeItem","location","href","search","items","tracks","name","playSearched","startListening","documentElement","setProperty","language","stopListening","handleKeyPress","event","target","classList","contains","key","handleKeyUp","useEffect","split","pop","timeoutVC","setTimeout","clearTimeout","addEventListener","removeEventListener","timeoutTranscript","className","onMouseDown","onMouseUp","hidden","y","baseFrequency","numOctaves","seed","attributeName","dur","repeatCount","in","scale","millisToMinutesAndSeconds","millis","minutes","Math","floor","seconds","toFixed","getColor","imgRef","color","colorThief","ColorThief","img","current","complete","getElementById","getColorOnly","getImage","arr","size","length","reduce","smallest","image","height","url","biggest","getCorrectPath","path","currentPath","includes","substring","indexOf","hexToRgb","hex","result","exec","r","parseInt","g","handleThemeChange","logOut","getArtistNames","artists","pauseEvent","e","stopPropagation","preventDefault","cancelBubble","returnValue","Sidebar1","activeLink","useLocation","activeCheck","useRouteMatch","toggle","setToggle","option","to","onClick","Sidebar2","darkMode","Avatar","src","images","alt","display_name","Sidebar","sideBartype","returnSideBar","REACT_APP_AUTH_ENDPOINT","redirectUri","REACT_APP_REDIRECT_URI","loginUrl","join","Header","headerHide","headerCollapse","headerInvert","headerPos","scrollPos","scrollEffect","setScrollEffect","history","useHistory","getMe","userInfo","res1","following","playlists","handleScroll","top","querySelector","scrollTop","prev","flexDirection","goBack","goForward","SkeletonTracks","Array","fill","i","TrackDropDown","closeMenu","isUsers","playlistId","setChanges","currentPlaylist","library","check","album","addToQueue","getIndex","findIndex","song","getTrack","fontSize","removeTracksFromPlaylist","changes","open","MoreOptions","callback","showDropDown","setShowDropDown","optionsRef","useRef","handleClickOutside","small","medium","cover","Button","props","children","SmallPlayButton","isCurrent","MediumPlayButton","CoverPlayButton","LyricsButton","showLyrics","useCheckDevice","innerWidth","width","setWidth","handleWindowSizeChange","isMobile","TrackItems","musicItem","tagName","parentNode","handleClick","borderRadius","duration_ms","ListTracks","Playlist","setPlaylist","setFollowing","currentTileId","match","params","info","owner","getPlaylist","crossOrigin","onLoad","description","followers","total","unfollowPlaylist","followPlaylist","public","ScrollSection","holderRef","scrollP","setScrollP","scrollN","setScrollN","scroll","scrollOffset","scrollLeft","scrollDiff","scrollWidth","clientWidth","trunc","Album","getPath","getColorAlbumTemplate","SkeletonArtists","Artists","listName","scrollTo","behavior","boxShadow","getColorArtists","Artist","artist","setArtist","albums","setAlbums","toptracks","setToptracks","related","setRelated","getArtist","getArtistAlbums","limit","getArtistTopTracks","getArtistRelatedArtists","isFollowingArtists","unfollowArtists","followArtists","setAlbum","handlePlayingSong","Bottombar1","UseOutsideAlerter","React","forwardRef","handleFunc","Bottombar2","barRef","invertToggle","setInvertToggle","handleToggle","cancel","onDrag","playerRect","getBoundingClientRect","left","right","onTouchStart","onClickCapture","Bottombar","SwiperCore","use","Navigation","Autoplay","EffectCoverflow","NewReleasesSlider","newReleases","homeSlider","autoPlay","autoPlayDelay","ReturnSlider","effect","grabCursor","centeredSlides","slidesPerView","autoplay","disableOnInteraction","coverflowEffect","rotate","stretch","depth","modifier","slideShadows","navigation","ind","backgroundImage","NewReleasesSlider2","nextButton","prevButton","onTouchEnd","NewReleases","sliderType","returnSlider","SongCards","trackItemRef","album_type","getColorSongTemplate","SkeletonSongs","TrackHolders","SkeletonPlaylist","PlaylistCard","FeaturedPlaylists","message","Categories","categories","routeTo","icons","Home","mytoptracks","myTopArtists","featuredPlaylists","bollywoodHits","bollywoodNew","getPlaylistTracks","fields","getMyTopTracks","getFollowedArtists","followedArtists","getFeaturedPlaylists","country","locale","getCategories","getNewReleases","getMyTopArtists","getMyDevices","availableDevices","devices","mydevices","getHome","Playlists","SearchPage","searchstr","setSearchstr","sartist","setSartist","salbums","setSAlbums","stracks","setStracks","splaylist","setSplaylist","strackoartist","setStrackoartist","searchTracks","searchTracksByArtist","songs","value","onChange","handleSearch","placeholder","SearchRouter","exact","component","SkeletonSPlaylist","LibraryPlaylists","NewPlaylistForm","setShowModal","pname","desc","form","setForm","file","setFile","preview","setPreview","base64file","setBase64File","fileInputRef","fileType","getBase64","cb","reader","FileReader","readAsDataURL","onload","onerror","objectUrl","URL","createObjectURL","revokeObjectURL","pic","files","click","Switch","checked","createPlaylist","uploadCustomPlaylistCoverImage","LibraryPage","myplaylists","setMyplaylists","showModal","LibraryRouter","render","min","type0","type1","type2","type3","max","themes","theme","themeBG","themeBGLite","sideBar","cp","islandConstants","islandLongPressConstant","islandPositionSettings","class","homeSliderConstants","notibarSettings","notibarPositionSettings","Custom","styled","focusVisibleClassName","disableRipple","padding","margin","transitionDuration","transform","backgroundColor","opacity","border","palette","mode","grey","boxSizing","transition","transitions","create","CustomSwitch","currentValue","handleChange","FormControlLabel","control","sx","m","OtherSettings","albumBackground","lang","setLang","htmlFor","getLang","setVCLang","CustomDigitInput","step","input","minimum","getAttribute","maximum","parseFloat","newValue","readOnly","AppBackground","userBackgounds","setUserBackgrounds","progress","setProgress","appBackgroundBlur","bgType","showNotibar","handleDelete","link","deleteRef","refStorage","filename","deleteObject","deleteUserBackground","storageRef","uploadTask","uploadBytesResumable","on","bytesTransferred","totalBytes","getDownloadURL","downloadURL","picListRef","newPicRef","uploadFileAppBackground","viewBox","cx","cy","strokeDasharray","strokeDashoffset","display","minWidth","c","blur","setAppBackgroundBlur","Appearance","minplayertype","maxplayertype","colorpalette","parse","customColor","setCustomColor","pickerRef","handleSelection","setts","op","inSetts","keys","setMinType","setMaxType","setSideBarType","handleTheme","setTheme","inside","SelectFont","appFont","font","getComputedStyle","setFont","equalFonts","fontFamily","HeaderSettings","useStyles","makeStyles","formControl","borderColor","borderWidth","borderStyle","justifyContent","paddingRight","select","fontWeight","letterSpacing","selectIcon","paper","marginTop","paddingTop","paddingBottom","CustomDropDown","settName","settConstants","classes","menuProps","anchorOrigin","vertical","horizontal","transformOrigin","getContentAnchorEl","FormControl","variant","Select","MenuProps","MenuItem","ImageSlider","IslandSettings","islandDouble","islandPos","islandSwipeLeft","islandSwipeRight","islandLongPress","pos","setIslandSwipeLeft","setIslandSwipeRight","setIslandLongPress","NotibarSettings","notibarType","notibarPos","UserData","partyId","userPic","Settings","AddToPlaylist","atpRef","settings","checkedPlaylists","setCheckedPlaylists","setTrack","closeModal","FormCheckBox","isChecked","lists","object","forEach","initCheckboxes","isAddToPlaylistOpen","zIndex","playlistIds","filter","addTracksToPlaylist","KeyboardShortcuts","isKeyboard","PlayerStatus","playerReady","isPremium","CurrentPlaylist","maximise","isQueue","scrollIntoView","block","Queue","CategoryPlaylists","CategoryPage","getPlaylistsForCategory","UseSpotifyPlayer","Spotify","spotifyScript","createElement","head","appendChild","appendSpotifySdkScriptToDOM","navigator","onLine","lyric","lyrics","onSpotifyWebPlaybackSDKReady","Player","getOAuthToken","addListener","isShuffle","position_ms","track_window","current_track","previous_tracks","paused","shuffle","repeat_mode","position","find","handleStateChange","ready","setDevice","connect","success","disconnect","baseURL","part","maxResults","VideoItem","video","handleVideoSelect","snippet","thumbnails","VideoList","videos","renderedVideos","videoId","VideoDetail","results","videoSrc","allowFullScreen","SwitchPlatform","utubeMode","handleSwitch","UtubeApp","setVideos","selectedVideo","setSelectedVideo","youtube","q","response","fetchMyData","MinPlayer1","instance","setInstance","setPos","albumPic","artistNames","interval","setInterval","clearInterval","col","MinPlayer2","skipNext","skipPrevious","albumSM","polarToCartesian","centerX","centerY","radius","angleInDegrees","angleInRadians","PI","cos","sin","DrawArc","startAngle","endAngle","outerWidth","outerHeight","svgWidth","svgHeight","svgViewBox","arcWidth","arcColor","pathD","start","end","largeArcFlag","d","circlePath","angleDifference","stroke","strokeWidth","strokeLinecap","RepeatBtn","repeatType","renderSwitch","MinPlayer3","MultipleActions","waitingClick","setWaitingClick","lastClick","setLastClick","timer","touchStart","setTouchStart","touchEnd","setTouchEnd","mouseDown","setMouseDown","mouseUp","setMouseUp","timeStamp","onDoubleClick","processClick","detail","onClickHandler","targetTouches","clientX","onTouchMove","distance","isLeftSwipe","handleSwipeLeft","handleSwipeRight","onMouseMove","MinSlider1","handleSeeker","seekms","seek","onKeyUp","isTouchEvent","touches","useLongPress","onLongPress","shouldPreventDefault","longPressTriggered","setLongPressTriggered","timeout","useCallback","passive","clear","onMouseLeave","MinPlayer4","maxPlayer","island","setIsland","miniRef","songName","maxWidth","handlePlay","longPress","getColorpalette","add","showSong","textAlign","animationPlayState","MinPlayer","minPlayer","minType","ShuffleBtn","setShuffle","MyDevices","hside","handedness","deviceType","device","transferMyPlayback","DevicesLayout","isDevices","PlayerSlider1","QueueFS","setMaximise","FullScreenPlayer","fullS","setFullS","MaxPlayer1","changeVolume","mutePlayer","isMuted","setShowLyrics","handle","useFullScreenHandle","handleQueue","handleFullScreen","exit","enter","listener","webkitIsFullScreen","shortcutListener","code","MaxPlayer2","max1","PlayerSliderVolume","trackerRotatingAngle","defaultProps","dragging","setDragging","angle","setAngle","limitStart","limitEnd","move","posX","posY","angleTravelled","buttons","pageX","pageY","deltaY","deltaX","round","atan2","stop","seekTo","MaxPlayer3Slider","setColor","MaxPlayer3","PlayerSlider4","rotatingAngle","MaxPlayer4","toggleHandedness","MaxPlayer","setMinPlayer","navigateVolume","change","newVolume","setMute","maxType","setUtubeMode","SetVisuals","handleFontChange","Suggestion","suggest","setShow","Notibar1","notibar","closeNotibar","Notibar2","NotibarLayout","returnNotibar","SocialShare","showQR","text","TwitterShareButton","via","WhatsappShareButton","TelegramShareButton","LinkedinShareButton","summary","PartyOptionsDropDown","handleRemoveItem","PartyMoreOptions","UserPartyItem","flex","UserPartyList","Party","setShowQR","ENDPOINT","uid","ShortUniqueId","exists","username","date","Date","getParty","QR","level","includeMargin","URLSearchParams","Homepage","setRefreshToken","accessToken","pushState","useAuth","setCookieOnUnload","Cookies","expires","useLoadPlayerOnMount","Frontpage","selected","setSelected","altt","PartySongs","voteTrackCheck","handleVoteTrack","disabled","GuestRankedSongs","at","VotingPage","setSongs","voteTrack","setVoteTrack","onSubmit","method","autoComplete","TextField","multiline","required","App","isLocalhost","Boolean","hostname","registerValidSW","swUrl","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","initialState","newReleasesTile","recommendations","rootReducer","combineReducers","action","ProviderComponent","store","createStore","applyMiddleware","thunk","ReactDOM","origin","fetch","contentType","status","unregister","reload","checkValidServiceWorker","serviceWorkerRegistration"],"mappings":"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","file":"static/js/main.fbf588bb.chunk.js","sourcesContent":["const option1 = {\r\n  idx: 1,\r\n  invIdx: 1,\r\n  icon: 'planet',\r\n  title: 'Home',\r\n  pathname: undefined,\r\n  route: '',\r\n};\r\nconst option2 = {\r\n  idx: 1.5,\r\n  invIdx: 0.5,\r\n  icon: 'search',\r\n  title: 'Search',\r\n  pathname: 'search',\r\n  route: '/search',\r\n};\r\nconst option3 = {\r\n  idx: 2,\r\n  invIdx: 0,\r\n  icon: 'library',\r\n  title: 'Your library',\r\n  pathname: 'library',\r\n  route: '/library',\r\n};\r\nconst option4 = {\r\n  idx: 2.5,\r\n  invIdx: -0.5,\r\n  icon: 'skull',\r\n  title: 'Party Mode',\r\n  pathname: 'party',\r\n  route: '/party',\r\n};\r\nconst option5 = {\r\n  idx: 3,\r\n  invIdx: -1,\r\n  icon: 'settings',\r\n  title: 'Settings',\r\n  pathname: 'settings',\r\n  route: '/settings',\r\n};\r\nexport const navList = [option1, option2, option3, option4, option5];\r\n","import SpotifyWebApi from 'spotify-web-api-node';\r\nimport dotenv from 'dotenv';\r\nimport { useSelector } from 'react-redux';\r\ndotenv.config();\r\nconst { REACT_APP_CLIENT_ID } = process.env;\r\nconst spotify = new SpotifyWebApi({\r\n  clientId: REACT_APP_CLIENT_ID,\r\n});\r\n\r\nfunction useSpotify() {\r\n  const token = useSelector((state) => state.player.token);\r\n  spotify.setAccessToken(token);\r\n  if (!token) return null;\r\n  return spotify;\r\n}\r\n\r\nexport default useSpotify;\r\n","//player reducer\r\nexport const SET_PLAYING = 'SET_PLAYING';\r\nexport const SET_SHUFFLE = 'SET_SHUFFLE';\r\nexport const SET_REPEAT = 'SET_REPEAT';\r\nexport const SET_DEVICE_ID = 'SET_DEVICE_ID';\r\nexport const SET_POSITION = 'SET_POSITION';\r\nexport const SET_CURRENT = 'SET_CURRENT';\r\nexport const SET_CURRENT_TILE_ID = 'SET_CURRENT_TILE_ID';\r\nexport const SET_NEXT_TRACK = 'SET_NEXT_TRACK';\r\nexport const SET_PREVIOUS_TRACKS = 'SET_PREVIOUS_TRACKS';\r\nexport const SET_MUTED = 'SET_MUTED';\r\nexport const SET_VC_LANG = 'SET_VC_LANG';\r\nexport const SET_MIN_TYPE = 'SET_MIN_TYPE';\r\nexport const SET_MAX_TYPE = 'SET_MAX_TYPE';\r\nexport const SET_ISLANDDOUBLE_TYPE = 'SET_ISLANDDOUBLE_TYPE';\r\nexport const SET_ISLAND_POS = 'SET_ISLAND_POS';\r\nexport const SET_ISLAND_SWIPE_LEFT = 'SET_ISLAND_SWIPE_LEFT';\r\nexport const SET_ISLAND_SWIPE_RIGHT = 'SET_ISLAND_SWIPE_RIGHT';\r\nexport const SET_ISLAND_LONG_PRESS = 'SET_ISLAND_LONG_PRESS';\r\nexport const SET_PARTY_MODE = 'SET_PARTY_MODE';\r\nexport const SET_PARTY_ID = 'SET_PARTY_ID';\r\nexport const SET_SIDEBAR_TYPE = 'SET_SIDEBAR_TYPE';\r\nexport const SET_PLAYER_READY = 'SET_PLAYER_READY';\r\nexport const SET_THEME = 'SET_THEME';\r\nexport const SET_LYRICS = 'SET_LYRICS';\r\nexport const SET_FONT = 'SET_FONT';\r\nexport const SET_TOKEN = 'SET_TOKEN';\r\nexport const SET_EXPIRES_IN = 'SET_EXPIRES_IN';\r\nexport const SET_PREMIUM = 'SET_PREMIUM';\r\n\r\n//library reducer\r\nexport const SET_PLAYLIST = 'SET_PLAYLIST';\r\nexport const SET_CURRENT_PLAYLIST = 'SET_CURRENT_PLAYLIST';\r\nexport const NEW_RELEASES = 'NEW_RELEASES';\r\nexport const MY_TOP_TRACKS = 'MY_TOP_TRACKS';\r\nexport const SET_FEATURED_PLAYLIST = 'SET_FEATURED_PLAYLIST';\r\nexport const SET_BOLLYWOOD_HITS = 'SET_BOLLYWOOD_HITS';\r\nexport const SET_BOLLYWOOD_NEW = 'SET_BOLLYWOOD_NEW';\r\nexport const SET_CATEGORIES = 'SET_CATEGORIES';\r\nexport const SET_MY_TOP_ARTISTS = 'SET_MY_TOP_ARTISTS';\r\nexport const SET_MY_ARTISTS_RECOMMENDATIONS = 'SET_MY_ARTISTS_RECOMMENDATIONS';\r\nexport const SET_ARTISTS = 'SET_ARTISTS';\r\n\r\n//user reducer\r\nexport const SET_USER = 'SET_USER';\r\nexport const SET_MY_DEVICES = 'SET_MY_DEVICES';\r\n\r\n//app reducer\r\nexport const SET_NOTIBAR = 'SET_NOTIBAR';\r\nexport const SET_NOTIBAR_TYPE = 'SET_NOTIBAR_TYPE';\r\nexport const SET_NOTIBAR_POS = 'SET_NOTIBAR_POS';\r\nexport const SET_HEADER_INVERT = 'SET_HEADER_INVERT';\r\nexport const SET_HEADER_HIDE = 'SET_HEADER_HIDE';\r\nexport const SET_HEADER_COLLAPSE = 'SET_HEADER_COLLAPSE';\r\nexport const SET_ALBUM_BG = 'SET_ALBUM_BG';\r\nexport const SET_TRACK_TO_ADD = 'SET_TRACK_TO_ADD';\r\nexport const SET_HOME_SLIDER_TYPE = 'SET_HOME_SLIDER_TYPE';\r\nexport const SET_HOME_SLIDER_DELAY = 'SET_HOME_SLIDER_DELAY';\r\nexport const SET_HOME_SLIDER_AUTOPLAY = 'SET_HOME_SLIDER_AUTOPLAY';\r\nexport const TOGGLE_ADD_TO_PLAYLIST = 'TOGGLE_ADD_TO_PLAYLIST';\r\nexport const TOGGLE_KEYBOARD = 'TOGGLE_KEYBOARD';\r\nexport const TOGGLE_QUEUE = 'TOGGLE_QUEUE';\r\nexport const TOGGLE_MY_DEVICES = 'TOGGLE_MY_DEVICES';\r\nexport const NEW_RELEASES_TILE = 'NEW_RELEASES_TILE';\r\nexport const SET_DARKMODE = 'SET_DARKMODE';\r\nexport const TOGGLE_COLOR_PALETTE = 'TOGGLE_COLOR_PALETTE';\r\nexport const TOGGLE_HANDEDNESS = 'TOGGLE_HANDEDNESS';\r\nexport const SET_APP_BACKGROUND = 'SET_APP_BACKGROUND';\r\nexport const SET_APP_BACKGROUND_BLUR = 'SET_APP_BACKGROUND_BLUR';\r\n","import {\r\n  SET_NOTIBAR,\r\n  SET_NOTIBAR_TYPE,\r\n  SET_NOTIBAR_POS,\r\n  SET_ALBUM_BG,\r\n  SET_TRACK_TO_ADD,\r\n  TOGGLE_ADD_TO_PLAYLIST,\r\n  TOGGLE_KEYBOARD,\r\n  TOGGLE_QUEUE,\r\n  TOGGLE_MY_DEVICES,\r\n  SET_DARKMODE,\r\n  TOGGLE_COLOR_PALETTE,\r\n  TOGGLE_HANDEDNESS,\r\n  SET_HOME_SLIDER_TYPE,\r\n  SET_HOME_SLIDER_AUTOPLAY,\r\n  SET_HOME_SLIDER_DELAY,\r\n  SET_HEADER_INVERT,\r\n  SET_HEADER_COLLAPSE,\r\n  SET_HEADER_HIDE,\r\n  SET_APP_BACKGROUND,\r\n  SET_APP_BACKGROUND_BLUR,\r\n} from '../types';\r\n\r\nexport const setNotibar = (msg, type, delay) => (dispatch) => {\r\n  dispatch({\r\n    type: SET_NOTIBAR,\r\n    msg: msg,\r\n    msgType: type,\r\n    delay: delay,\r\n  });\r\n};\r\n\r\nexport const setAppBackground = (bg) => (dispatch) => {\r\n  dispatch({\r\n    type: SET_APP_BACKGROUND,\r\n    appBackground: bg\r\n  });\r\n  if (!bg) {\r\n    document.body.style.background = `black`;\r\n  } else {\r\n    document.body.style.background = `url(${bg}) no-repeat center`;\r\n    document.body.style.backgroundSize = 'cover';\r\n  }\r\n  window.localStorage.setItem('appBackground', JSON.stringify(bg));\r\n}\r\n\r\nexport const setAppBackgroundBlur = (blur) => (dispatch) => {\r\n  dispatch({\r\n    type: SET_APP_BACKGROUND_BLUR,\r\n    appBackgroundBlur: blur\r\n  });\r\n  document.documentElement.style.setProperty(\r\n    '--app-background-blur',\r\n    `${blur}px`\r\n  );\r\n  window.localStorage.setItem('appBackgroundBlur', JSON.stringify(blur));\r\n}\r\n\r\n\r\nexport const setNotibarType = (type) => (dispatch) => {\r\n  dispatch({\r\n    type: SET_NOTIBAR_TYPE,\r\n    notibarType: type,\r\n  });\r\n  window.localStorage.setItem('notibarType', type);\r\n\r\n};\r\nexport const setNotibarPos = (pos) => (dispatch) => {\r\n  dispatch({\r\n    type: SET_NOTIBAR_POS,\r\n    notibarPos: pos,\r\n  });\r\n  window.localStorage.setItem('notibarPos', pos);\r\n};\r\n\r\nexport const setHeaderInvert = (decision) => (dispatch) => {\r\n  dispatch({\r\n    type: SET_HEADER_INVERT,\r\n    headerInvert: decision,\r\n  });\r\n  window.localStorage.setItem('headerInvert', decision);\r\n};\r\n\r\n\r\nexport const setHeaderHide = (decision) => (dispatch) => {\r\n  dispatch({\r\n    type: SET_HEADER_HIDE,\r\n    headerHide: decision,\r\n  });\r\n  window.localStorage.setItem('headerHide', decision);\r\n};\r\n\r\nexport const setHeaderCollapse = (decision) => (dispatch) => {\r\n  dispatch({\r\n    type: SET_HEADER_COLLAPSE,\r\n    headerCollapse: decision,\r\n  });\r\n  window.localStorage.setItem('headerCollapse', decision);\r\n};\r\n\r\n\r\n\r\nexport const setTrackToAdd = (track) => (dispatch) => {\r\n  dispatch({\r\n    type: SET_TRACK_TO_ADD,\r\n    trackToAdd: track,\r\n  });\r\n};\r\n\r\nexport const toggleAddToPlaylist = (decision) => (dispatch) => {\r\n  dispatch({\r\n    type: TOGGLE_ADD_TO_PLAYLIST,\r\n    show: decision,\r\n  });\r\n};\r\n\r\nexport const toggleKeyboard = (decision) => (dispatch) => {\r\n  dispatch({ type: TOGGLE_KEYBOARD, show: decision });\r\n};\r\n\r\nexport const toggleMyDevices = (decision) => (dispatch) => {\r\n  dispatch({ type: TOGGLE_MY_DEVICES, show: decision });\r\n};\r\n\r\nexport const toggleQueue = (decision) => (dispatch) => {\r\n  dispatch({ type: TOGGLE_QUEUE, show: decision });\r\n};\r\n\r\nexport const setAlbumBG = (decision) => (dispatch) => {\r\n  dispatch({ type: SET_ALBUM_BG, show: decision });\r\n};\r\n\r\nexport const toggleDarkMode = () => (dispatch, getState) => {\r\n  const darkMode = getState().app.darkMode;\r\n  dispatch({ type: SET_DARKMODE, darkMode: !darkMode });\r\n  window.localStorage.setItem('darkMode', !darkMode);\r\n};\r\n\r\nexport const toggleColorPalette = (decision) => (dispatch) => {\r\n  dispatch({ type: TOGGLE_COLOR_PALETTE, colorpalette: decision });\r\n};\r\n\r\nexport const toggleHandedness = (handedness) => (dispatch) => {\r\n  dispatch({ type: TOGGLE_HANDEDNESS, handedness: handedness });\r\n  window.localStorage.setItem('handedness', handedness);\r\n  dispatch(setNotibar('Switched Handedness!', true, 7000));\r\n}\r\n\r\nexport const setHomeSliderType = (data) => (dispatch) => {\r\n  dispatch({ type: SET_HOME_SLIDER_TYPE, sliderType: data });\r\n  window.localStorage.setItem('sliderType', data);\r\n}\r\nexport const setHomeSliderAutoplay = (data) => (dispatch) => {\r\n  dispatch({ type: SET_HOME_SLIDER_AUTOPLAY, autoPlay: data });\r\n  window.localStorage.setItem('autoPlay', data);\r\n}\r\nexport const setHomeSliderDelay = (data) => (dispatch) => {\r\n  dispatch({ type: SET_HOME_SLIDER_DELAY, autoPlayDelay: data });\r\n  window.localStorage.setItem('autoPlayDelay', data);\r\n}","import { SET_PLAYLIST, SET_CURRENT_PLAYLIST } from '../types';\r\n\r\nexport const setPlaylist = (uris) => (dispatch) => {\r\n  dispatch({\r\n    type: SET_PLAYLIST,\r\n    playlist: uris,\r\n  });\r\n};\r\n\r\nexport const setCurrentPlaylist = (list) => (dispatch) => {\r\n  dispatch({\r\n    type: SET_CURRENT_PLAYLIST,\r\n    list: list,\r\n  });\r\n};\r\n","import dotenv from 'dotenv';\r\n// Import the functions you need from the SDKs you need\r\nimport { initializeApp } from \"firebase/app\";\r\nimport { getDatabase } from \"firebase/database\";\r\nimport { getStorage } from \"firebase/storage\";\r\ndotenv.config();\r\n// Your web app's Firebase configuration\r\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\r\nconst firebaseConfig = {\r\n    apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n    authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\r\n    projectId: process.env.REACT_APP_FIREBASE_PROJECTID,\r\n    databaseURL: process.env.REACT_APP_FIREBASE_DATABASE_URL,\r\n    storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\r\n    messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGINGSENDERID,\r\n    appId: process.env.REACT_APP_FIREBASE_APPID,\r\n    measurementId: process.env.REACT_APP_FIREBASE_MEASUREMENTID\r\n};\r\n\r\n// Initialize Firebase\r\nconst app = initializeApp(firebaseConfig);\r\nexport const database = getDatabase(app);\r\nexport const storage = getStorage(app);\r\n","import { onValue, ref, child, get, set, update, remove, push } from \"firebase/database\";\r\nimport { database, storage } from \"./firebase\";\r\nimport ShortUniqueId from 'short-unique-id';\r\nimport { deleteObject, getDownloadURL, ref as refStorage, uploadBytesResumable } from \"firebase/storage\";\r\n\r\nexport const getPartyDetails = (x) => {\r\n    const listRef = ref(database, `list/${x.votingId}`);\r\n    onValue(listRef, (snapshot) => {\r\n        var data = snapshot.val();\r\n        if (data.playlist) {\r\n            var list;\r\n            list = Object.values(data.playlist);\r\n            data.playlist = list.sort((a, b) => b.votes - a.votes);\r\n            data.playlist.splice(20);   //show 20 ranked songs only\r\n        }\r\n        if (x.user) {\r\n            x.setData(data.playlist);\r\n        } else {\r\n            x.setData(data);\r\n        }\r\n    })\r\n};\r\n\r\nexport const getParty = (x) => {\r\n    const uid = new ShortUniqueId({ length: 7 });\r\n    const dbRef = ref(database);\r\n    get(child(dbRef, `data/${x.userId}`)).then((snapshot) => {\r\n        if (snapshot.exists()) {\r\n            let votingId = snapshot.val().votingId;\r\n            //update partyOn/Off, token\r\n            let updates = {};\r\n            get(child(dbRef, 'list/' + votingId)).then((snapshot) => {\r\n                if (snapshot.val().partyOn != x.partyOn || snapshot.val().token !== x.token) {\r\n                    updates[`list/${votingId}`] = { ...snapshot.val(), partyOn: x.partyOn, token: x.token };\r\n                    update(ref(database),\r\n                        updates,\r\n                    ).then(() => { x.setData(snapshot.val()) })\r\n                        .catch((err) => { console.log(err) })\r\n                }\r\n                else {\r\n                    x.setData(snapshot.val());\r\n                }\r\n            })\r\n        } else {\r\n            //Create entry, user id needed to identify spotify user\r\n            let id = uid();\r\n            let data = {\r\n                playlist: [],\r\n                username: x.username,\r\n                partyOn: x.partyOn,\r\n                votingId: id,\r\n                token: x.token,\r\n                date: Date()\r\n            }\r\n            set(ref(database, 'data/' + x.userId), {\r\n                username: x.username,\r\n                partyOn: x.partyOn,\r\n                votingId: id,\r\n                date: Date()\r\n            })\r\n            set(ref(database, 'list/' + id), {\r\n                ...data\r\n            })\r\n            x.setData(data)\r\n        }\r\n    }).catch((error) => {\r\n        console.error(error);\r\n    });\r\n};\r\n\r\nexport const endParty = (votingId) => {\r\n    let updates = {};\r\n    const dbRef = ref(database);\r\n    get(child(dbRef, 'list/' + votingId)).then((snapshot) => {\r\n        updates[`list/${votingId}`] = { ...snapshot.val(), partyOn: false };\r\n        update(ref(database),\r\n            updates,\r\n        ).then(() => { })\r\n            .catch((err) => { console.log(err) })\r\n    })\r\n}\r\n\r\nexport const removeFromParty = (data) => {\r\n    const dbRef = ref(database);\r\n    let id = data.id;\r\n    let votingId = data.votingId;\r\n    remove(child(dbRef, `list/${votingId}/playlist/${id}`))\r\n        .then(() => { return true })\r\n        .catch(() => { return false });\r\n}\r\n\r\nexport const addPartySong = (data) => {\r\n    let id = data.votingId;\r\n    //console.log(data)\r\n    const dbRef = ref(database);\r\n    const listPath = `list/${id}/playlist/${data.item.id}`;\r\n    get(child(dbRef, listPath)).then((snapshot) => {\r\n        if (snapshot.val()) {\r\n            let votes = snapshot.val().votes + 1;\r\n            let updates = {};\r\n            updates[listPath] = { ...snapshot.val(), votes: votes };\r\n            update(ref(database),\r\n                updates,\r\n            ).then(() => { data.handleOp(true) })\r\n                .catch(() => { data.handleOp(false) })\r\n        } else {\r\n            set(ref(database, listPath),\r\n                { ...data.item, votes: 1 },\r\n            ).then(() => { data.handleOp(true) })\r\n                .catch(() => { data.handleOp(false) })\r\n        }\r\n    })\r\n}\r\n\r\nexport const uploadFileAppBackground = (file, userId, showNotibar, setProgress) => {\r\n    const storageRef = refStorage(storage, `backgrounds/${file.name}`);\r\n    const uploadTask = uploadBytesResumable(storageRef, file);\r\n    uploadTask.on('state_changed', (snapshot) => {\r\n        setProgress(snapshot.bytesTransferred / snapshot.totalBytes);\r\n    }, (error) => {\r\n        showNotibar('Upload Failed', false);\r\n    }, () => {\r\n        getDownloadURL(uploadTask.snapshot.ref).then((downloadURL) => {\r\n            const picListRef = ref(database, `data/${userId}/backgrounds/`)\r\n            const newPicRef = push(picListRef);\r\n            set(newPicRef, {\r\n                link: downloadURL,\r\n                filename: file.name,\r\n                key: newPicRef.key,\r\n            }).then(() => {\r\n                showNotibar('Upload Successful', true);\r\n            }).catch(() => {\r\n                showNotibar('Upload Failed', false);\r\n            })\r\n        })\r\n    })\r\n}\r\n\r\nexport const deleteUserBackground = (item, userId, showNotibar) => {\r\n    const deleteRef = refStorage(storage, `backgrounds/${item.filename}`);\r\n    deleteObject(deleteRef).then(() => {\r\n    }).catch((err) => {\r\n        console.log(err);\r\n    })\r\n    const dbRef = ref(database);\r\n    remove(child(dbRef, `data/${userId}/backgrounds/${item.key}`))\r\n        .then(() => { showNotibar('Deleted background..', true) })\r\n        .catch(() => { showNotibar('Delete failed', false) });\r\n}\r\n\r\nexport const getUserBackgrounds = (x) => {\r\n    const listRef = ref(database, `data/${x.userId}/backgrounds`);\r\n    onValue(listRef, (snapshot) => {\r\n        if (snapshot.val()) {\r\n            x.setData(Object.values(snapshot.val()).reverse());\r\n        }\r\n    })\r\n}","import {\r\n  SET_PLAYING,\r\n  SET_SHUFFLE,\r\n  SET_REPEAT,\r\n  SET_DEVICE_ID,\r\n  SET_POSITION,\r\n  SET_CURRENT,\r\n  SET_VC_LANG,\r\n  SET_MIN_TYPE,\r\n  SET_MAX_TYPE,\r\n  SET_PLAYER_READY,\r\n  SET_THEME,\r\n  SET_LYRICS,\r\n  SET_FONT,\r\n  SET_CURRENT_TILE_ID,\r\n  SET_EXPIRES_IN,\r\n  SET_PREMIUM,\r\n  SET_SIDEBAR_TYPE,\r\n  SET_ISLANDDOUBLE_TYPE,\r\n  SET_ISLAND_POS,\r\n  SET_ISLAND_SWIPE_LEFT,\r\n  SET_ISLAND_SWIPE_RIGHT,\r\n  SET_ISLAND_LONG_PRESS,\r\n  SET_PARTY_MODE,\r\n  SET_PARTY_ID\r\n} from '../types';\r\nimport { playParty } from './spotify-actions';\r\nimport { removeFromParty } from '../../firebase/handlers';\r\n\r\nexport const setPlaying = (decision) => (dispatch) => {\r\n  dispatch({\r\n    type: SET_PLAYING,\r\n    playing: decision,\r\n  });\r\n};\r\n\r\nexport const handleStateChange = (state) => (dispatch, getState) => {\r\n  const { current, repeatMode, playing, isShuffle, position_ms, partyMode, partyId } =\r\n    getState().player;\r\n  const { currentPlaylist } = getState().library;\r\n  const { current_track, previous_tracks } = state?.track_window || {};\r\n  const { paused, shuffle, repeat_mode, position } = state || {};\r\n  if (current?.id != current_track?.id) {\r\n    dispatch({\r\n      type: SET_CURRENT,\r\n      current: current_track,\r\n    });\r\n  }\r\n  if (\r\n    current?.id === current_track?.id &&\r\n    current?.duration_ms != current_track?.duration_ms\r\n  ) {\r\n    dispatch({\r\n      type: SET_CURRENT,\r\n      current: current_track,\r\n    });\r\n  }\r\n\r\n  if (playing !== !paused) {\r\n    dispatch({\r\n      type: SET_PLAYING,\r\n      playing: !paused,\r\n    });\r\n  }\r\n  if (isShuffle !== shuffle) {\r\n    dispatch({\r\n      type: SET_SHUFFLE,\r\n      shuffle: shuffle,\r\n    });\r\n  }\r\n\r\n  if (repeatMode !== repeat_mode) {\r\n    dispatch({\r\n      type: SET_REPEAT,\r\n      repeatMode: repeat_mode,\r\n    });\r\n  }\r\n\r\n  if (position_ms !== position) {\r\n    dispatch({\r\n      type: SET_POSITION,\r\n      position: position,\r\n    });\r\n  }\r\n\r\n  //detect track end\r\n  if (previous_tracks\r\n    && previous_tracks.find(x => x.id === current_track.id)\r\n    && !playing\r\n    && state.paused\r\n  ) {\r\n    if (partyMode && currentPlaylist && partyId) {\r\n      let item = currentPlaylist[0];\r\n      dispatch(playParty(item))\r\n        .then((res) => {\r\n          removeFromParty({ id: item.id, votingId: partyId });\r\n        })\r\n        .catch((err) => console.log(err));\r\n\r\n    }\r\n  }\r\n};\r\n\r\nexport const setRepeat = (decision) => (dispatch) => {\r\n  dispatch({\r\n    type: SET_REPEAT,\r\n    repeatMode: decision,\r\n  });\r\n};\r\n\r\nexport const setDevice = (device_id) => (dispatch) => {\r\n  dispatch({\r\n    type: SET_DEVICE_ID,\r\n    deviceId: device_id,\r\n  });\r\n};\r\n\r\nexport const setPlayerReady = (ready) => (dispatch) => {\r\n  dispatch({ type: SET_PLAYER_READY, playerReady: ready });\r\n};\r\n//set account status (if premium or not)\r\nexport const setIsPremium = (isPremium) => (dispatch) => {\r\n  dispatch({ type: SET_PREMIUM, isPremium: isPremium });\r\n};\r\n\r\nexport const setMinType = (type) => (dispatch) => {\r\n  dispatch({ type: SET_MIN_TYPE, minplayertype: type });\r\n  window.localStorage.setItem('min', type);\r\n};\r\n\r\nexport const setMaxType = (type) => (dispatch) => {\r\n  dispatch({ type: SET_MAX_TYPE, maxplayertype: type });\r\n  window.localStorage.setItem('max', type);\r\n};\r\n\r\nexport const setIslandPos = (pos) => (dispatch) => {\r\n  dispatch({ type: SET_ISLAND_POS, islandPos: pos });\r\n  window.localStorage.setItem('islandPos', pos);\r\n};\r\n\r\n\r\nexport const setIslandDouble = (type) => (dispatch) => {\r\n  dispatch({ type: SET_ISLANDDOUBLE_TYPE, islandDouble: type });\r\n  window.localStorage.setItem('islandDouble', type);\r\n};\r\n\r\nexport const setIslandSwipeLeft = (type) => (dispatch) => {\r\n  dispatch({ type: SET_ISLAND_SWIPE_LEFT, islandSwipeLeft: type });\r\n  window.localStorage.setItem('islandSwipeLeft', type);\r\n};\r\n\r\nexport const setIslandSwipeRight = (type) => (dispatch) => {\r\n  dispatch({ type: SET_ISLAND_SWIPE_RIGHT, islandSwipeRight: type });\r\n  window.localStorage.setItem('islandSwipeRight', type);\r\n};\r\n\r\nexport const setIslandLongPress = (type) => (dispatch) => {\r\n  dispatch({ type: SET_ISLAND_LONG_PRESS, islandLongPress: type });\r\n  window.localStorage.setItem('islandLongPress', type);\r\n};\r\n\r\nexport const setPartyMode = (decision) => (dispatch) => {\r\n  dispatch({ type: SET_PARTY_MODE, partyMode: decision });\r\n  window.localStorage.setItem('partyMode', decision);\r\n};\r\n\r\nexport const setPartyId = (id) => (dispatch) => {\r\n  dispatch({ type: SET_PARTY_ID, partyId: id });\r\n  window.localStorage.setItem('partyId', JSON.stringify(id));\r\n};\r\n\r\nexport const setSideBarType = (sideBartype) => (dispatch) => {\r\n  dispatch({ type: SET_SIDEBAR_TYPE, sideBartype: sideBartype });\r\n  window.localStorage.setItem('sideBar', sideBartype);\r\n};\r\n\r\nexport const setTheme = (theme) => (dispatch) => {\r\n  dispatch({ type: SET_THEME, theme: theme });\r\n  window.localStorage.setItem('theme', JSON.stringify(theme));\r\n};\r\n\r\nexport const setVCLang = (lang) => (dispatch) => {\r\n  dispatch({ type: SET_VC_LANG, lang: lang });\r\n};\r\n\r\nexport const setLyrics = (lyric) => (dispatch) => {\r\n  dispatch({ type: SET_LYRICS, lyrics: lyric });\r\n};\r\n\r\nexport const setFont = (font) => (dispatch) => {\r\n  dispatch({ type: SET_FONT, font: font });\r\n  window.localStorage.setItem('font', font);\r\n  document.documentElement.style.setProperty('--font', font);\r\n};\r\n\r\nexport const setCurrentTileId = (id) => (dispatch) => {\r\n  dispatch({ type: SET_CURRENT_TILE_ID, id: id });\r\n};\r\n\r\nexport const setExpiresIn = (duration) => (dispatch) => {\r\n  dispatch({ type: SET_EXPIRES_IN, expiresIn: duration });\r\n};\r\n","import axios from 'axios';\r\nimport SpotifyWebApi from 'spotify-web-api-node';\r\nimport dotenv from 'dotenv';\r\nimport { setCurrentPlaylist } from './library-actions';\r\nimport { setExpiresIn, setPlaying, setRepeat } from './player-actions';\r\nimport { setNotibar } from './app-actions';\r\nimport {\r\n  SET_MY_DEVICES,\r\n  NEW_RELEASES,\r\n  MY_TOP_TRACKS,\r\n  SET_FEATURED_PLAYLIST,\r\n  SET_BOLLYWOOD_HITS,\r\n  SET_BOLLYWOOD_NEW,\r\n  SET_CATEGORIES,\r\n  SET_MY_TOP_ARTISTS,\r\n  SET_ARTISTS,\r\n  SET_TOKEN,\r\n  SET_MUTED,\r\n} from '../types';\r\n\r\ndotenv.config();\r\nconst { REACT_APP_CLIENT_ID, REACT_APP_API_ENDPOINT } = process.env;\r\nconst spotify = new SpotifyWebApi({\r\n  clientId: REACT_APP_CLIENT_ID,\r\n});\r\nconst API_ENDPOINT = REACT_APP_API_ENDPOINT || '';\r\n\r\nexport const setSpotifyAccessToken = (token) => (dispatch) => {\r\n  dispatch({ type: SET_TOKEN, token: token });\r\n  spotify.setAccessToken(token);\r\n};\r\n\r\nexport const getNewAccessToken = () => (dispatch) => {\r\n  const refreshToken = window.localStorage.getItem('refreshToken');\r\n  if (!refreshToken) return;\r\n  return axios\r\n    .post(`${API_ENDPOINT}/refresh`, { refreshToken })\r\n    .then((res) => {\r\n      const { access_token, expiresIn } = res.data;\r\n      dispatch(setSpotifyAccessToken(access_token));\r\n      window.localStorage.setItem('token', access_token);\r\n      setExpiresIn(expiresIn);\r\n      return access_token;\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const getHome = (token) => (dispatch) => {\r\n  spotify.setAccessToken(token);\r\n  spotify\r\n    .getPlaylistTracks('37i9dQZF1DXd8cOUiye1o2', {\r\n      offset: 1,\r\n      limit: 50,\r\n      fields: 'items',\r\n    })\r\n    .then(function (data) {\r\n      dispatch({\r\n        type: SET_BOLLYWOOD_NEW,\r\n        bollywoodNew: data.body.items,\r\n      });\r\n    })\r\n    .catch((err) => {\r\n      console.log('Something went wrong!', err);\r\n    });\r\n  spotify\r\n    .getMyTopTracks()\r\n    .then((x) => {\r\n      dispatch({\r\n        type: MY_TOP_TRACKS,\r\n        mytoptracks: x.body.items,\r\n      });\r\n    })\r\n    .catch((err) => {\r\n      console.log('Something went wrong!', err);\r\n    });\r\n  spotify\r\n    .getFollowedArtists()\r\n    .then((x) => {\r\n      dispatch({\r\n        type: SET_ARTISTS,\r\n        followedArtists: x.body,\r\n      });\r\n    })\r\n    .catch((err) => console.log(err));\r\n\r\n  spotify\r\n    .getFeaturedPlaylists({\r\n      limit: 20,\r\n      country: 'IN',\r\n      locale: 'en_IN',\r\n    })\r\n    .then(function (data) {\r\n      dispatch({\r\n        type: SET_FEATURED_PLAYLIST,\r\n        featuredPlaylists: data.body,\r\n      });\r\n    })\r\n    .catch((err) => {\r\n      console.log('Something went wrong!', err);\r\n    });\r\n  spotify\r\n    .getCategories({\r\n      limit: 50,\r\n      offset: 0,\r\n      country: 'IN',\r\n    })\r\n    .then(function (data) {\r\n      dispatch({\r\n        type: SET_CATEGORIES,\r\n        categories: data.body.categories,\r\n      });\r\n    })\r\n    .catch((err) => {\r\n      console.log('Something went wrong!', err);\r\n    });\r\n  spotify\r\n    .getPlaylistTracks('37i9dQZF1DX0XUfTFmNBRM', {\r\n      offset: 1,\r\n      limit: 50,\r\n      fields: 'items',\r\n    })\r\n    .then(function (data) {\r\n      dispatch({\r\n        type: SET_BOLLYWOOD_HITS,\r\n        bollywoodHits: data.body.items,\r\n      });\r\n    })\r\n    .catch((err) => {\r\n      console.log('Something went wrong!', err);\r\n    });\r\n\r\n  spotify\r\n    .getNewReleases({ country: 'IN' })\r\n    .then((newReleases) => {\r\n      dispatch({\r\n        type: NEW_RELEASES,\r\n        newReleases: newReleases.body.albums.items,\r\n      });\r\n    })\r\n    .catch((err) => console.log(err));\r\n\r\n  spotify\r\n    .getMyTopArtists({ limit: 50 })\r\n    .then(function (data) {\r\n      dispatch({\r\n        type: SET_MY_TOP_ARTISTS,\r\n        myTopArtists: data.body.items,\r\n      });\r\n    })\r\n    .catch((err) => {\r\n      console.log('Something went wrong!', err);\r\n    });\r\n\r\n  spotify.getMyDevices().then(\r\n    function (data) {\r\n      let availableDevices = data.body.devices;\r\n      dispatch({\r\n        type: SET_MY_DEVICES,\r\n        mydevices: availableDevices,\r\n      });\r\n    },\r\n    function (err) {\r\n      console.log('Something went wrong!', err);\r\n    }\r\n  );\r\n};\r\n\r\nexport const getMyDevices = () => (dispatch) => {\r\n  spotify.getMyDevices().then(\r\n    function (data) {\r\n      let availableDevices = data.body.devices;\r\n      dispatch({\r\n        type: SET_MY_DEVICES,\r\n        mydevices: availableDevices,\r\n      });\r\n    },\r\n    function (err) {\r\n      console.log('Something went wrong!', err);\r\n    }\r\n  );\r\n}\r\n\r\nexport const play = (item) => (dispatch, getState) => {\r\n  const deviceId = getState().player.deviceId;\r\n  spotify\r\n    .play({\r\n      uris: [item?.uri],\r\n      device_id: deviceId,\r\n    })\r\n    .then((res) => {\r\n      dispatch(setCurrentPlaylist([item]));\r\n    })\r\n    .catch((err) => console.error(err));\r\n};\r\n\r\nexport const playParty = (item) => (dispatch, getState) => {\r\n  const deviceId = getState().player.deviceId;\r\n  return spotify\r\n    .play({\r\n      uris: [item?.uri],\r\n      device_id: deviceId,\r\n    })\r\n};\r\n\r\nexport const handlePlayPause = () => (dispatch, getState) => {\r\n  const { deviceId, playing } = getState().player;\r\n\r\n  if (playing) {\r\n    spotify\r\n      .pause({ device_id: deviceId })\r\n      .then(() => {\r\n        dispatch(setPlaying(false));\r\n      })\r\n      .catch((err) => console.log(err));\r\n  } else {\r\n    spotify\r\n      .play({ device_id: deviceId })\r\n      .then(() => {\r\n        dispatch(setPlaying(true));\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n};\r\n\r\nexport const playfromlist = (index, list) => (dispatch, getState) => {\r\n  const deviceId = getState().player.deviceId;\r\n  let uris = [];\r\n  list.map((item) => uris.push(item.track ? item.track?.uri : item.uri));\r\n  spotify\r\n    .play({\r\n      uris: uris,\r\n      offset: { uri: uris[index] },\r\n      device_id: deviceId,\r\n    })\r\n    .then((res) => {\r\n      dispatch(setCurrentPlaylist(list));\r\n    })\r\n    .catch((err) => {\r\n      console.error(err);\r\n      dispatch(setNotibar('Unknown Error occurred :(', false))\r\n    });\r\n};\r\n\r\nexport const handleVolume = (volume) => {\r\n  spotify\r\n    .setVolume(volume)\r\n    .then(function () {\r\n      //console.log('changing value');\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const setMute = (isMuted, volume) => (dispatch) => {\r\n  spotify\r\n    .setVolume(!isMuted ? 0 : volume)\r\n    .then(function () {\r\n      dispatch({\r\n        type: SET_MUTED,\r\n        isMuted: !isMuted,\r\n      });\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const handleSkipNext = () => (dispatch, getState) => {\r\n  const deviceId = getState().player.deviceId;\r\n  spotify\r\n    .skipToNext({ device_id: deviceId })\r\n    .then(() => {\r\n      //console.log('Playing next..');\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const playerRepeat = (typeName, type) => (dispatch, getState) => {\r\n  spotify.setRepeat(typeName).then(\r\n    function () {\r\n      //console.log('Repeat track.');\r\n      dispatch(setRepeat(type));\r\n    },\r\n    function (err) {\r\n      //if the user making the request is non-premium, a 403 FORBIDDEN response code will be returned\r\n      console.log('Something went wrong!', err);\r\n    }\r\n  );\r\n}\r\n\r\nexport const handleSkipPrev = () => (dispatch, getState) => {\r\n  const deviceId = getState().player.deviceId;\r\n  spotify\r\n    .skipToPrevious({ device_id: deviceId })\r\n    .then(() => {\r\n      //console.log('Playing previous song..');\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const getPlaylistSongs = (id) => {\r\n  return spotify\r\n    .getPlaylist(id)\r\n    .then((data) => {\r\n      let list = data?.body?.tracks?.items;\r\n      let uris = [];\r\n      list.map((item) => uris.push(item.track ? item.track?.uri : item.uri));\r\n      //dispatch(setPlaylist(uris));\r\n      return list;\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const getTrack = (id) => {\r\n  return spotify.getTrack(id);\r\n};\r\n\r\nexport const getMyPlaylists = (token) => {\r\n  return axios.get('https://api.spotify.com/v1/me/playlists', {\r\n    headers: {\r\n      Authorization: 'Bearer ' + token,\r\n    },\r\n  });\r\n};\r\n\r\nexport const isFollowingPlaylist = (token, playlist_id, user_id) => {\r\n  return axios.get(\r\n    `https://api.spotify.com/v1/playlists/${playlist_id}/followers/contains?ids=${user_id}`,\r\n    {\r\n      headers: {\r\n        Authorization: 'Bearer ' + token,\r\n      },\r\n    }\r\n  );\r\n};\r\n\r\nexport const getAlbum = (id) => {\r\n  return spotify.getAlbum(id);\r\n};\r\n\r\nexport const transferMyPlayback = (device) => (dispatch) => {\r\n  spotify.transferMyPlayback([device?.id]).then(\r\n    function () {\r\n      console.log('Transfering playback to ' + device.id);\r\n      dispatch(setNotibar(`Transfering playback to ${device.name}`, true));\r\n    },\r\n    function (err) {\r\n      //if the user making the request is non-premium, a 403 FORBIDDEN response code will be returned\r\n      console.log('Something went wrong!', err);\r\n      dispatch(setNotibar(`Error transfering playback`, false));\r\n    }\r\n  );\r\n};\r\n\r\nexport const spotifySearch = (target) => {\r\n  return spotify.search(target, [\r\n    'track',\r\n    'album',\r\n    'playlist',\r\n    'show',\r\n    'artist',\r\n  ]);\r\n};\r\n\r\nexport const searchTracksByArtist = (target) => {\r\n  // Search tracks whose artist's name contains target\r\n  return spotify.searchTracks(`artist:${target}`);\r\n};\r\n\r\nexport const getArtist = (id) => {\r\n  return spotify.getArtist(id);\r\n};\r\nexport const getArtistAlbums = (id) => {\r\n  return spotify.getArtistAlbums(id, { limit: 50 });\r\n};\r\nexport const getArtistTopTracks = (id) => {\r\n  return spotify.getArtistTopTracks(id, 'IN');\r\n};\r\nexport const getArtistRelatedArtists = (id) => {\r\n  return spotify.getArtistRelatedArtists(id);\r\n};\r\nexport const isFollowingArtists = (id) => {\r\n  return spotify.isFollowingArtists(id);\r\n};\r\nexport const followArtists = (id) => {\r\n  return spotify.followArtists([id]);\r\n};\r\nexport const unfollowArtists = (id) => {\r\n  return spotify.unfollowArtists([id]);\r\n};\r\n","import './styling.css';\r\nimport SpeechRecognition, {\r\n  useSpeechRecognition,\r\n} from 'react-speech-recognition';\r\nimport { useEffect, useState } from 'react';\r\nimport useSpotify from '../hooks/useSpotify';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { setNotibar } from '../store/actions/app-actions';\r\nimport { setCurrentPlaylist } from '../store/actions/library-actions';\r\nimport {\r\n  handleSkipNext,\r\n  handleSkipPrev,\r\n} from '../store/actions/spotify-actions';\r\n\r\nfunction VC() {\r\n  const dispatch = useDispatch();\r\n  const { deviceId, vcLang, token } = useSelector((state) => state.player);\r\n  const spotify = useSpotify();\r\n\r\n  const [animDur, setAnimDur] = useState('10s');\r\n\r\n  const { transcript, resetTranscript } = useSpeechRecognition();\r\n  if (!SpeechRecognition.browserSupportsSpeechRecognition()) {\r\n    alert('Voice command not supported');\r\n  }\r\n\r\n  const playSearched = (playSong) => {\r\n    spotify\r\n      .search(playSong, ['track'])\r\n      .then((res) => {\r\n        const { items } = res.body.tracks;\r\n        spotify\r\n          .play({\r\n            uris: [items[0]?.uri],\r\n            device_id: deviceId,\r\n          })\r\n          .then((res) => {\r\n            dispatch(setCurrentPlaylist([items[0]]));\r\n            dispatch(setNotibar(`Playing ${items[0]?.name}..`, true, 7000));\r\n            resetTranscript();\r\n          })\r\n          .catch((err) => console.error(err));\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        dispatch(setNotibar('No results :(', false, 7000));\r\n      });\r\n  };\r\n\r\n  const skipNext = () => {\r\n    dispatch(handleSkipNext());\r\n  };\r\n\r\n  const skipPrev = () => {\r\n    dispatch(handleSkipPrev());\r\n  };\r\n\r\n  const quit = () => {\r\n    dispatch(setNotibar('good bye :(', true, 7000));\r\n    window.localStorage.removeItem('token');\r\n    window.location.href = '/';\r\n  };\r\n\r\n  const processSearched = (playSong) => {\r\n    switch (playSong) {\r\n      case 'next':\r\n        skipNext();\r\n        break;\r\n      case 'previous':\r\n        skipPrev();\r\n        break;\r\n      case 'bye':\r\n        quit();\r\n        break;\r\n\r\n      default:\r\n        playSearched(playSong);\r\n        break;\r\n    }\r\n  };\r\n\r\n  const startListening = () => {\r\n    setAnimDur('1s');\r\n    document.documentElement.style.setProperty('--vc-theme', 'cyan');\r\n    SpeechRecognition.startListening({ language: vcLang });\r\n  };\r\n  const stopListening = () => {\r\n    setAnimDur('10s');\r\n    document.documentElement.style.setProperty('--vc-theme', '#fff');\r\n    SpeechRecognition.stopListening();\r\n  };\r\n  const handleKeyPress = (event) => {\r\n    if (event.target.classList.contains('escapeEvent')) return;\r\n    if (event.key === 'v') {\r\n      startListening();\r\n    }\r\n  };\r\n  const handleKeyUp = (event) => {\r\n    if (event.target.classList.contains('escapeEvent')) return;\r\n    if (event.key === 'f') {\r\n      stopListening();\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!transcript || !token) return;\r\n    const playSong = transcript.split('play').pop();\r\n    console.log(playSong);\r\n    const timeoutVC = setTimeout(() => {\r\n      processSearched(playSong);\r\n    }, 2000);\r\n    return () => {\r\n      clearTimeout(timeoutVC);\r\n    };\r\n  }, [transcript]);\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('keydown', handleKeyPress);\r\n    window.addEventListener('keyup', handleKeyUp);\r\n\r\n    return () => {\r\n      window.removeEventListener('keydown', handleKeyPress);\r\n      window.removeEventListener('keyup', handleKeyUp);\r\n    };\r\n  }, [handleKeyPress]);\r\n\r\n  useEffect(() => {\r\n    if (transcript) {\r\n      const timeoutTranscript = setTimeout(() => {\r\n        resetTranscript();\r\n      }, 10000);\r\n      return () => {\r\n        clearTimeout(timeoutTranscript);\r\n      };\r\n    }\r\n  }, [transcript]);\r\n\r\n  return (\r\n    <div className=\"vc-outer\">\r\n      <button\r\n        className=\"circle t-btn\"\r\n        onMouseDown={startListening}\r\n        onMouseUp={stopListening}\r\n      ></button>\r\n      <svg hidden>\r\n        <filter id=\"wavy\">\r\n          <feTurbulence\r\n            x=\"0\"\r\n            y=\"0\"\r\n            baseFrequency=\"0.009\"\r\n            numOctaves=\"5\"\r\n            seed=\"1\"\r\n          >\r\n            <animate\r\n              attributeName=\"baseFrequency\"\r\n              dur={animDur}\r\n              values=\"0.02;0.005;0.5\"\r\n              repeatCount=\"indefinite\"\r\n            ></animate>\r\n          </feTurbulence>\r\n          <feDisplacementMap in=\"SourceGraphic\" scale=\"5\"></feDisplacementMap>\r\n        </filter>\r\n      </svg>\r\n    </div>\r\n  );\r\n}\r\nexport default VC;\r\n","import ColorThief from '../../../node_modules/colorthief/dist/color-thief.mjs';\r\n\r\nexport function millisToMinutesAndSeconds(millis) {\r\n  var minutes = Math.floor(millis / 60000);\r\n  var seconds = ((millis % 60000) / 1000).toFixed(0);\r\n  return seconds > 59\r\n    ? minutes + 1 + ':00'\r\n    : minutes + ':' + (seconds < 10 ? '0' : '') + seconds;\r\n}\r\n\r\nexport function getColor(id, imgRef, type) {\r\n  if (!id) return;\r\n  const colorThief = new ColorThief();\r\n  const img = imgRef.current;\r\n  var color;\r\n  if (img.complete) {\r\n    color = colorThief.getColor(img);\r\n    if (!id) return;\r\n    switch (type) {\r\n      case 'player':\r\n        document.getElementById(\r\n          id + '3'\r\n        ).style.background = `rgba(${color[0]},${color[1]},${color[2]},0.9)`;\r\n        break;\r\n      case 'playlist':\r\n        if (!document.getElementById(id)) return;\r\n        document.getElementById(\r\n          id\r\n        ).style.background = `linear-gradient(360deg, rgb(${color[0]},${color[1]},${color[2]}), transparent)`;\r\n        break;\r\n      case 'artistPage':\r\n        document.getElementById(\r\n          id + '3'\r\n        ).style.background = `linear-gradient(360deg, rgb(${color[0]},${color[1]},${color[2]}), transparent)`;\r\n        break;\r\n      case 'album':\r\n        document.getElementById(\r\n          id + '4'\r\n        ).style.background = `rgb(${color[0]},${color[1]},${color[2]})`;\r\n        break;\r\n\r\n      default:\r\n        console.log('Get color switch error');\r\n        break;\r\n    }\r\n  } else {\r\n    img.addEventListener('load', function () {\r\n      color = colorThief.getColor(img);\r\n    });\r\n  }\r\n  if (!color) return;\r\n}\r\n\r\nexport function getColorOnly(imgRef) {\r\n  const colorThief = new ColorThief();\r\n  const img = imgRef.current;\r\n  var color;\r\n  if (img.complete) {\r\n    color = colorThief.getColor(img);\r\n  } else {\r\n    img.addEventListener('load', function () {\r\n      color = colorThief.getColor(img);\r\n    });\r\n  }\r\n  if (!color) return;\r\n  else return color;\r\n}\r\n\r\nexport function getColorAlbumTemplate({ id, index }) {\r\n  const colorThief = new ColorThief();\r\n  const img = document.getElementById(id);\r\n  var color;\r\n  if (img.complete) {\r\n    color = colorThief.getColor(img);\r\n  } else {\r\n    img.addEventListener('load', function () {\r\n      color = colorThief.getColor(img);\r\n    });\r\n  }\r\n  document.getElementById(\r\n    id + index\r\n  ).style.background = `rgb(${color[0]},${color[1]},${color[2]})`;\r\n}\r\n\r\nexport function getColorArtists(id, index) {\r\n  const colorThief = new ColorThief();\r\n  const img = document.getElementById(id);\r\n  var color;\r\n  if (img.complete) {\r\n    color = colorThief.getColor(img);\r\n  } else {\r\n    img.addEventListener('load', function () {\r\n      color = colorThief.getColor(img);\r\n    });\r\n  }\r\n  document.getElementById(\r\n    id + index\r\n  ).style.boxShadow = `0 2px 10px rgb(${color[0]},${color[1]},${color[2]})`;\r\n\r\n  document.getElementById(\r\n    id + index\r\n  ).style.background = `rgba(${color[0]},${color[1]},${color[2]})`;\r\n}\r\n\r\nexport const getColorSongTemplate = (id, index, imgRef) => {\r\n  const colorThief = new ColorThief();\r\n  const img = imgRef.current;\r\n  var color;\r\n  if (img.complete) {\r\n    color = colorThief.getColor(img);\r\n  } else {\r\n    img.addEventListener('load', function () {\r\n      color = colorThief.getColor(img);\r\n    });\r\n  }\r\n  document.getElementById(\r\n    id\r\n  ).style.boxShadow = `0 4px 15px rgb(${color[0]},${color[1]},${color[2]})`;\r\n\r\n  document.getElementById(id + index).style.background = `linear-gradient(\r\n      rgba(${color[0]},${color[1]},${color[2]},0.9),\r\n      rgba(${color[0]},${color[1]},${color[2]},0.3)\r\n    )`;\r\n};\r\n\r\nexport const getImage = (arr, size) => {\r\n  if (!arr) return null;\r\n  if (!arr.length) return '/default.png';\r\n  var imageNeeded;\r\n  switch (size) {\r\n    case 'sm':\r\n      imageNeeded = arr?.reduce((smallest, image) => {\r\n        if (image.height < smallest.height) return image;\r\n        return smallest;\r\n      }, arr[0]);\r\n      return imageNeeded?.url;\r\n\r\n    case 'md':\r\n      var secondlargest, largest;\r\n      imageNeeded = arr?.reduce((biggest, image) => {\r\n        if (image.height > biggest.height) {\r\n          secondlargest = image;\r\n          largest = image;\r\n          return largest;\r\n        }\r\n        return biggest;\r\n      }, arr[0]);\r\n      return imageNeeded?.url;\r\n\r\n    case 'lg':\r\n      imageNeeded = arr?.reduce((biggest, image) => {\r\n        if (image.height > biggest.height) return image;\r\n        return biggest;\r\n      }, arr[0]);\r\n      return imageNeeded?.url;\r\n  }\r\n};\r\n\r\n/*export const getImage = (arr, size) => {\r\n  if (!arr) return null;\r\n  if (!arr.length) return 'default.png';\r\n\r\n  switch (size) {\r\n    case 'sm':\r\n      return arr[2]?.url;\r\n\r\n    case 'md':\r\n      return arr[1]?.url;\r\n\r\n    case 'lg':\r\n      return arr[0]?.url;\r\n    default:\r\n      return arr[1]?.url;\r\n  }\r\n};*/\r\n\r\nexport function isEqual(obj1, obj2) {\r\n  if (!obj1 || !obj2) return false;\r\n  var props1 = Object.getOwnPropertyNames(obj1);\r\n  var props2 = Object.getOwnPropertyNames(obj2);\r\n  if (props1.length !== props2.length) {\r\n    return false;\r\n  }\r\n  for (var i = 0; i < props1.length; i++) {\r\n    let val1 = obj1[props1[i]];\r\n    let val2 = obj2[props1[i]];\r\n    let isObjects = isObject(val1) && isObject(val2);\r\n    if ((isObjects && !isEqual(val1, val2)) || (!isObjects && val1 !== val2)) {\r\n      return false;\r\n    }\r\n  }\r\n  return true;\r\n}\r\nfunction isObject(object) {\r\n  return object != null && typeof object === 'object';\r\n}\r\n\r\nexport function getCorrectPath(path) {\r\n  const forHome = ['artist', 'album', 'playlist', 'category'];\r\n  const currentPath = path.split('/')[2];\r\n  const isHomePath = forHome.includes(currentPath);\r\n  var pathCheck;\r\n  if (isHomePath) {\r\n    pathCheck = currentPath\r\n      ? path.substring('/', path.indexOf(currentPath) - 1)\r\n      : path;\r\n  } else {\r\n    pathCheck = path.split('/')[3]\r\n      ? path.substring('/', path.indexOf(path.split('/')[3]) - 1)\r\n      : path;\r\n  }\r\n\r\n  return pathCheck;\r\n}\r\n\r\nexport function hexToRgb(hex) {\r\n  var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\r\n  return result\r\n    ? {\r\n      r: parseInt(result[1], 16),\r\n      g: parseInt(result[2], 16),\r\n      b: parseInt(result[3], 16),\r\n    }\r\n    : null;\r\n}\r\n\r\nexport function handleThemeChange(hex) {\r\n  const color = hexToRgb(hex);\r\n  if (color) {\r\n    document.documentElement.style.setProperty(\r\n      '--main-theme',\r\n      `rgba(${color.r}, ${color.g}, ${color.b}, 0.9)`\r\n    );\r\n    document.documentElement.style.setProperty(\r\n      '--main-theme-bg',\r\n      `rgba(${color.r}, ${color.g}, ${color.b}, 0.75)`\r\n    );\r\n    document.documentElement.style.setProperty(\r\n      '--main-theme-bg-lite',\r\n      `rgba(${color.r}, ${color.g}, ${color.b}, 0.1)`\r\n    );\r\n  }\r\n}\r\n\r\nexport function handleFontChange(font) {\r\n  if (!font) return;\r\n  document.documentElement.style.setProperty('--font', font);\r\n}\r\n\r\nexport function logOut() {\r\n  window.localStorage.removeItem('token');\r\n  window.localStorage.removeItem('deviceId');\r\n  window.localStorage.removeItem('refreshToken');\r\n  window.location.href = '/';\r\n}\r\n\r\nexport function getArtistNames(artists) {\r\n  if (!artists) return;\r\n  let names = artists.map(\r\n    (item, index) => (index ? ', ' : '') + item.name\r\n  );\r\n  return names;\r\n}\r\n\r\nexport function pauseEvent(e) {\r\n  if (e.stopPropagation) e.stopPropagation();\r\n  if (e.preventDefault) e.preventDefault();\r\n  e.cancelBubble = true;\r\n  e.returnValue = false;\r\n  return false;\r\n}\r\n","import '../../styling/routes.css';\r\nimport { navList } from '../navlist';\r\nimport { useState } from 'react';\r\nimport { NavLink, useLocation, useRouteMatch } from 'react-router-dom';\r\nimport VC from '../../voice-command/voice-command';\r\nimport { logOut } from '../../utils/helperFunctions';\r\n\r\nfunction Sidebar1() {\r\n    const location = useLocation();\r\n    const activeLink = location.pathname.split('/')[2];\r\n    const forHome = ['artist', 'album', 'playlist', 'category'];\r\n    const activeCheck = forHome.includes(activeLink) ? undefined : activeLink;\r\n    const { url } = useRouteMatch();\r\n    const [toggle, setToggle] = useState(false);\r\n\r\n    return (\r\n        <div className={'navigation ' + (toggle ? 'active' : '')}>\r\n            <ul><VC /></ul>\r\n            <ul>\r\n                {navList.map((option, index) => (\r\n                    <NavLink\r\n                        key={index}\r\n                        className=\"text-decoration-none\"\r\n                        to={{ pathname: `${url}${option.route}` }}\r\n                    >\r\n                        <li\r\n                            className={\r\n                                'list ' + (activeCheck === option.pathname ? 'active' : '')\r\n                            }\r\n                        >\r\n                            <b></b>\r\n                            <b></b>\r\n                            <button>\r\n                                <span className=\"icon\">\r\n                                    <ion-icon name={option.icon}></ion-icon>\r\n                                </span>\r\n                                <span className=\"title\">{option.title}</span>\r\n                            </button>\r\n                        </li>\r\n                    </NavLink>\r\n                ))}\r\n            </ul>\r\n            <ul>\r\n                <li className={'list '} onClick={logOut}>\r\n                    <button className=\"l-out\">\r\n                        <span className=\"icon\">\r\n                            <ion-icon name=\"log-out-outline\"></ion-icon>\r\n                        </span>\r\n                        <span className=\"title\">Sign Out</span>\r\n                    </button>\r\n                </li>\r\n                <li>\r\n                    <button\r\n                        className={'toggle ' + (toggle ? 'text-start' : 'text-center')}\r\n                        onClick={() => setToggle(!toggle)}\r\n                    >\r\n                        <span className=\"toggle-icon\">\r\n                            <ion-icon\r\n                                name={toggle ? 'chevron-back-outline' : 'chevron-forward-outline'}\r\n                            ></ion-icon>\r\n                        </span>\r\n                    </button>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    );\r\n}\r\nexport default Sidebar1;\r\n","import '../../styling/routes.css';\r\nimport { navList } from '../navlist';\r\nimport { Avatar } from '@material-ui/core';\r\nimport { useState } from 'react';\r\nimport { NavLink, useLocation, useRouteMatch } from 'react-router-dom';\r\nimport VC from '../../voice-command/voice-command';\r\nimport { logOut } from '../../utils/helperFunctions';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nfunction Sidebar2() {\r\n    const { user } = useSelector((state) => state.user);\r\n    const { darkMode } = useSelector((state) => state.app);\r\n    const location = useLocation();\r\n    const activeLink = location.pathname.split('/')[2];\r\n    const forHome = ['artist', 'album', 'playlist', 'category'];\r\n    const activeCheck = forHome.includes(activeLink) ? undefined : activeLink;\r\n    const { url } = useRouteMatch();\r\n    const [toggle, setToggle] = useState(false);\r\n\r\n    return (\r\n        <div className={'navigation-2 ' + (toggle ? 'active' : '')}>\r\n            <ul >\r\n                <div className=\"user-pic\">\r\n                    <Avatar src={user?.images[0]?.url} alt={user?.display_name} />\r\n                    <span className='section-heading mt-3' hidden={!toggle}>{user?.display_name}</span>\r\n                </div>\r\n            </ul>\r\n            <ul>\r\n                {navList.map((option, index) => (\r\n                    <NavLink\r\n                        key={index}\r\n                        className=\"text-decoration-none\"\r\n                        to={{ pathname: `${url}${option.route}` }}\r\n                    >\r\n                        <li\r\n                            className={\r\n                                'nav-list ' + (activeCheck === option.pathname ? 'active' : '')\r\n                            }\r\n                        >\r\n                            <bl></bl>\r\n                            <button>\r\n                                <span className=\"icon\">\r\n                                    <ion-icon name={option.icon}></ion-icon>\r\n                                </span>\r\n                                <span className=\"title\">{option.title}</span>\r\n                            </button>\r\n                        </li>\r\n                    </NavLink>\r\n                ))}\r\n            </ul>\r\n            <ul>\r\n                <li className={'list '} onClick={logOut}>\r\n                    <button className=\"l-out\">\r\n                        <span className=\"icon\">\r\n                            <ion-icon name=\"log-out-outline\"></ion-icon>\r\n                        </span>\r\n                        <span className=\"title\">Sign Out</span>\r\n                    </button>\r\n                </li>\r\n                <li>\r\n                    <button\r\n                        className={'toggle ' + (toggle ? 'text-start' : 'text-center')}\r\n                        onClick={() => setToggle(!toggle)}\r\n                    >\r\n                        <span className=\"toggle-icon\">\r\n                            <ion-icon\r\n                                name={toggle ? 'chevron-back-outline' : 'chevron-forward-outline'}\r\n                            ></ion-icon>\r\n                        </span>\r\n                    </button>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    );\r\n}\r\nexport default Sidebar2;\r\n","import '../styling/routes.css';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Sidebar1 from './sidebarTypes/sidebar1';\r\nimport Sidebar2 from './sidebarTypes/sidebar2';\r\n\r\nfunction Sidebar() {\r\n  const { sideBartype } = useSelector((state) => state.player);\r\n\r\n  const returnSideBar = () => {\r\n    switch (sideBartype) {\r\n      case 0:\r\n        return (<Sidebar1 />);\r\n      case 1:\r\n        return (<Sidebar2 />);\r\n      default:\r\n        console.log('Error');\r\n        break;\r\n    }\r\n  }\r\n  return (\r\n    <>{returnSideBar()}</>\r\n  );\r\n}\r\nexport default Sidebar;\r\n","import { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport dotenv from 'dotenv';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { setSpotifyAccessToken } from '../store/actions/spotify-actions';\r\nimport { setExpiresIn } from '../store/actions/player-actions';\r\ndotenv.config();\r\nconst { REACT_APP_API_ENDPOINT } = process.env;\r\n\r\nexport const useAuth = (code) => {\r\n  const dispatch = useDispatch();\r\n  const API_ENDPOINT = REACT_APP_API_ENDPOINT || '';\r\n  const [accessToken, setAccessToken] = useState();\r\n  const [refreshToken, setRefreshToken] = useState();\r\n  const expiresIn = useSelector((state) => state.player.expiresIn);\r\n  //console.log(navigator.onLine);\r\n  useEffect(() => {\r\n    if (code) {\r\n      axios\r\n        .post(`${API_ENDPOINT}/login`, { code })\r\n        .then((res) => {\r\n          const { accessToken, refreshToken, expiresIn } = res.data;\r\n          setAccessToken(accessToken);\r\n          setRefreshToken(refreshToken);\r\n          dispatch(setExpiresIn(expiresIn));\r\n          dispatch(setSpotifyAccessToken(accessToken));\r\n          window.localStorage.setItem('token', accessToken);\r\n          window.localStorage.setItem('refreshToken', refreshToken);\r\n          window.history.pushState({}, null, '/app');\r\n        })\r\n        .catch((err) => /*(window.location = '/')*/ console.log(err));\r\n    }\r\n  }, [code]);\r\n\r\n  useEffect(() => {\r\n    if (!refreshToken && !expiresIn) return;\r\n    const interval = setInterval(() => {\r\n      axios\r\n        .post(`${API_ENDPOINT}/refresh`, { refreshToken })\r\n        .then((res) => {\r\n          //console.log('refresh', res.data);\r\n          const { access_token, expiresIn } = res.data;\r\n          setAccessToken(access_token);\r\n          dispatch(setSpotifyAccessToken(access_token));\r\n          window.localStorage.setItem('token', access_token);\r\n          dispatch(setExpiresIn(expiresIn));\r\n        })\r\n        .catch((err) => console.log(err));\r\n    }, (expiresIn - 120) * 1000);\r\n    return () => clearInterval(interval);\r\n  }, [refreshToken, expiresIn, navigator.onLine]);\r\n\r\n  return null;\r\n};\r\n","import dotenv from 'dotenv';\r\ndotenv.config();\r\n\r\nconst { REACT_APP_AUTH_ENDPOINT, REACT_APP_REDIRECT_URI, REACT_APP_CLIENT_ID } =\r\n  process.env;\r\n\r\nexport const authEndpoint = REACT_APP_AUTH_ENDPOINT;\r\nconst redirectUri = REACT_APP_REDIRECT_URI;\r\nconst clientId = REACT_APP_CLIENT_ID;\r\n\r\nconst scopes = [\r\n  'user-read-currently-playing',\r\n  'user-read-recently-played',\r\n  'user-read-playback-state',\r\n  'user-modify-playback-state',\r\n  'user-read-playback-position',\r\n  'user-top-read',\r\n  'user-library-read',\r\n  'user-library-modify',\r\n  'ugc-image-upload',\r\n  'user-follow-read',\r\n  'user-follow-modify',\r\n  'playlist-modify-public',\r\n  'playlist-modify-private',\r\n  'playlist-read-private',\r\n  'playlist-read-collaborative',\r\n  'streaming',\r\n  'user-read-private',\r\n  'user-read-email',\r\n];\r\n\r\n/*export const getTokenFromUrl = () => {\r\n  return window.location.hash\r\n    .substring(1)\r\n    .split('&')\r\n    .reduce((initial, item) => {\r\n      let parts = item.split('=');\r\n      initial[parts[0]] = decodeURIComponent(parts[1]);\r\n      return initial;\r\n    }, {});\r\n};*/\r\n\r\nexport const loginUrl = `${authEndpoint}?client_id=${clientId}&redirect_uri=${redirectUri}&scope=${scopes.join(\r\n  '%20'\r\n)}&response_type=code&show_dialog=true`;\r\n","import { loginUrl } from './config/spotify';\r\nimport { Avatar } from '@material-ui/core';\r\nimport NavigateBeforeIcon from '@material-ui/icons/NavigateBefore';\r\nimport NavigateNextIcon from '@material-ui/icons/NavigateNext';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport useSpotify from './hooks/useSpotify';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { setUser } from './store/actions/user-actions';\r\n\r\nfunction Header() {\r\n  const dispatch = useDispatch();\r\n  const { user } = useSelector((state) => state.user);\r\n  const { token } = useSelector((state) => state.player);\r\n  const { headerHide, headerCollapse, headerInvert, headerPos } = useSelector((state) => state.app);\r\n  const [scrollEffect, setScrollEffect] = useState({\r\n    scrollPos: 0,\r\n    show: true,\r\n  });\r\n  const history = useHistory();\r\n  const spotify = useSpotify();\r\n  const headers = {\r\n    Authorization: `Bearer ${token}`,\r\n    'Content-Type': 'application/json',\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (token) {\r\n      spotify\r\n        .getMe()\r\n        .then((user) => {\r\n          var userInfo = user.body;\r\n          axios\r\n            .get('https://api.spotify.com/v1/me/following?type=artist', {\r\n              headers,\r\n            })\r\n            .then((res1) => {\r\n              axios\r\n                .get('https://api.spotify.com/v1/me/playlists', { headers })\r\n                .then((res) => {\r\n                  userInfo.following = res1?.data.artists.items.length;\r\n                  userInfo.playlists = res?.data.items.length;\r\n                  dispatch(setUser(userInfo));\r\n                })\r\n                .catch((err) => console.log(err));\r\n            })\r\n            .catch((err) => console.log(err));\r\n        })\r\n        .catch(function (err) {\r\n          //if the user making the request is non-premium, a 403 FORBIDDEN response code will be returned\r\n          console.log('Something went wrong!', err);\r\n        });\r\n    }\r\n  }, [token]);\r\n  const goBack = () => {\r\n    history.goBack();\r\n  };\r\n  const goForward = () => {\r\n    history.goForward();\r\n  };\r\n\r\n  //On Scroll show/hide Header\r\n  useEffect(() => {\r\n    window.addEventListener('scroll', handleScroll, headerCollapse);\r\n    return () => {\r\n      window.removeEventListener('scroll', handleScroll, headerCollapse);\r\n    };\r\n  }, [headerCollapse]);\r\n\r\n  const handleScroll = () => {\r\n    let top = document.querySelector('.display-cut').scrollTop;\r\n    setScrollEffect((prev) => ({\r\n      ...scrollEffect,\r\n      scrollPos: top,\r\n      show: top < prev.scrollPos,\r\n    }));\r\n  };\r\n\r\n  return (\r\n    <div className={\"header\" + (scrollEffect.show ? ' active' : ' hidden') + (headerPos ? ' header-bottom' : ' header-top')}\r\n      style={{ flexDirection: headerInvert ? 'row-reverse' : 'row' }}\r\n      hidden={headerHide}\r\n    >\r\n      <div className=\"navi-link\">\r\n        <button className=\"nav-btn me-2\" onClick={goBack}>\r\n          <NavigateBeforeIcon />\r\n        </button>\r\n        <button className=\"nav-btn\" onClick={goForward}>\r\n          <NavigateNextIcon />\r\n        </button>\r\n      </div>\r\n      {!user ? (\r\n        <div>\r\n          <a href={loginUrl} className=\"login-btn\">\r\n            <ion-icon name=\"log-in-outline\"></ion-icon>\r\n          </a>\r\n        </div>\r\n      ) : (\r\n        <div className=\"log\">\r\n          <div className=\"loggedData font-1\">\r\n            <Avatar src={user?.images[0]?.url} alt={user?.display_name} />\r\n            <span>{user?.display_name}</span>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\nexport default Header;\r\n","import { SET_MY_DEVICES, SET_USER } from '../types';\r\n\r\nexport const setUser = (data) => (dispatch) => {\r\n  dispatch({ type: SET_USER, user: data });\r\n};\r\n","function SkeletonTracks() {\r\n  return (\r\n    <div>\r\n      {Array(10)\r\n        .fill()\r\n        .map((x, i) => (\r\n          <div key={i} className=\"skeleton-t-container\">\r\n            <div className=\"skeleton-p-tracks-pic\">\r\n              <div className=\"track-pic shimmer\"></div>\r\n            </div>\r\n            <div className=\"skeleton-p-tracks-info\">\r\n              <span className=\"skeleton-heading-2 shimmer mb-2\"></span>\r\n              <span className=\"skeleton-text-2 shimmer\"></span>\r\n            </div>\r\n            <div className=\"skeleton-p-tracks-album\">\r\n              <span className=\"skeleton-text-2 shimmer w-50\"></span>\r\n            </div>\r\n            <div className=\"skeleton-p-tracks-btn\">\r\n              <div className=\"skeleton-btn shimmer\"></div>\r\n              <div className=\"skeleton-btn shimmer\"></div>\r\n            </div>\r\n          </div>\r\n        ))}\r\n    </div>\r\n  );\r\n}\r\nexport default SkeletonTracks;\r\n","import PlaylistAddIcon from '@material-ui/icons/PlaylistAdd';\r\nimport QueueMusicIcon from '@material-ui/icons/QueueMusic';\r\nimport LaunchIcon from '@material-ui/icons/Launch';\r\nimport DeleteForeverTwoToneIcon from '@material-ui/icons/DeleteForeverTwoTone';\r\nimport useSpotify from '../hooks/useSpotify';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { setCurrentPlaylist } from '../store/actions/library-actions';\r\nimport {\r\n  setNotibar,\r\n  setTrackToAdd,\r\n  toggleAddToPlaylist,\r\n} from '../store/actions/app-actions';\r\nimport { play } from '../store/actions/spotify-actions';\r\n\r\nfunction TrackDropDown({ item, closeMenu, isUsers, playlistId, setChanges }) {\r\n  const { currentPlaylist } = useSelector((state) => state.library);\r\n  const { token, current, deviceId } = useSelector((state) => state.player);\r\n  const dispatch = useDispatch();\r\n  const spotify = useSpotify();\r\n  const check = item?.album ? item : item?.track ? item.track : item;\r\n  //console.log(check, isUsers, playlistId)\r\n  const addToQueue = (uri) => {\r\n    if (!token) return;\r\n    if (!currentPlaylist) {\r\n      dispatch(play(check));\r\n      dispatch(setNotibar('Added to Queue & Playing :)', true, 7000));\r\n      return;\r\n    }\r\n    spotify\r\n      .addToQueue(uri, { device_id: deviceId })\r\n      .then(() => {\r\n        var list = currentPlaylist;\r\n        dispatch(setNotibar('Added to Queue :)', true, 7000));\r\n        let getIndex = currentPlaylist.findIndex(song => song.uri === current?.uri);\r\n        //Getting images for album tracks\r\n        if (!check?.album?.images) {\r\n          spotify.getTrack(check?.id).then((res) => {\r\n            item.album = res.body.album;\r\n            console.log(res)\r\n            console.log(item)\r\n          }).catch((err) => console.log(err))\r\n        }\r\n        list.splice(getIndex + 1, 0, item);\r\n        closeMenu();\r\n      })\r\n      .catch((err) => console.log(err));\r\n\r\n    /*axios.post({\r\n          method: 'post',\r\n          url: `https://api.spotify.com/v1/me/player/queue?uri=${uri}`,\r\n          headers: { Authorization: `Bearer ${accessToken}` },\r\n        })\r\n          .then((res) => console.log(res.data))\r\n          .catch((err) => console.log(err));*/\r\n  };\r\n\r\n  const openInSpotify = (e) => {\r\n    window.open(\r\n      `https://open.spotify.com/track/${check.id}`,\r\n      '_blank' // <- This is what makes it open in a new window.\r\n    );\r\n    closeMenu();\r\n    e.stopPropagation();\r\n  };\r\n\r\n  const handleAddToPlaylist = (e) => {\r\n    dispatch(setTrackToAdd(check));\r\n    dispatch(toggleAddToPlaylist(true));\r\n    closeMenu();\r\n    e.stopPropagation();\r\n  };\r\n\r\n  const handleRemove = (e) => {\r\n    var track = [{ uri: check?.uri }];\r\n    spotify.removeTracksFromPlaylist(playlistId, track).then(\r\n      function (data) {\r\n        console.log('Track removed from playlist!');\r\n        dispatch(setNotibar('Removed from playlist!', true));\r\n        setChanges((prev) => ({ changes: !prev.changes }));\r\n      },\r\n      function (err) {\r\n        console.log('Something went wrong!', err);\r\n      }\r\n    );\r\n    e.stopPropagation();\r\n    closeMenu();\r\n  };\r\n  return (\r\n    <ul className=\"more-options-list\">\r\n      <li>\r\n        <button\r\n          className=\"more-options-btn\"\r\n          onClick={() => addToQueue(check.uri)}\r\n        >\r\n          <PlaylistAddIcon style={{ color: 'gray' }} fontSize=\"medium\" />\r\n          <span className=\"ms-2\">Add to queue</span>\r\n        </button>\r\n      </li>\r\n      <li>\r\n        <button className=\"more-options-btn\" onClick={handleAddToPlaylist}>\r\n          <QueueMusicIcon style={{ color: 'gray' }} fontSize=\"medium\" />\r\n          <span className=\"ms-2\">Add to Playlist</span>\r\n        </button>\r\n      </li>\r\n      {isUsers && (\r\n        <li>\r\n          <button className=\"more-options-btn\" onClick={handleRemove}>\r\n            <DeleteForeverTwoToneIcon\r\n              style={{ color: 'gray' }}\r\n              fontSize=\"medium\"\r\n            />\r\n            <span className=\"ms-2\">Remove</span>\r\n          </button>\r\n        </li>\r\n      )}\r\n      <li>\r\n        <button className=\"more-options-btn\" onClick={openInSpotify}>\r\n          <LaunchIcon style={{ color: 'gray' }} fontSize=\"medium\" />\r\n          <span className=\"ms-2\">Open in Spotify</span>\r\n        </button>\r\n      </li>\r\n    </ul>\r\n  );\r\n}\r\nexport default TrackDropDown;\r\n","import TrackDropDown from './track-dropdown';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport { useEffect, useRef, useState } from 'react';\r\n\r\nfunction MoreOptions({ item, isUsers, playlistId, setChanges }) {\r\n  const [showDropDown, setShowDropDown] = useState(false);\r\n  const optionsRef = useRef();\r\n  useDetectOutsideClick(optionsRef, closeMenu);\r\n  function closeMenu() {\r\n    setShowDropDown(false);\r\n  }\r\n\r\n  function useDetectOutsideClick(ref, callback) {\r\n    useEffect(() => {\r\n\r\n      function handleClickOutside(event) {\r\n        if (ref.current && !ref.current.contains(event.target)) {\r\n          callback();\r\n        }\r\n      }\r\n      function handleScroll() {\r\n        if (showDropDown) callback();\r\n      }\r\n\r\n      document.addEventListener('mousedown', handleClickOutside);\r\n      document.addEventListener('scroll', handleScroll, true);\r\n      return () => {\r\n        document.removeEventListener('mousedown', handleClickOutside);\r\n        document.removeEventListener('scroll', handleScroll);\r\n      };\r\n    }, [ref, callback]);\r\n  }\r\n\r\n  return (\r\n    <div className=\"more-btn-div\">\r\n      <button\r\n        className=\"more-btn\"\r\n        onClick={() => setShowDropDown(!showDropDown)}\r\n      >\r\n        <MoreVertIcon style={{ color: 'white' }} />\r\n      </button>\r\n\r\n      <div className={'more-options ' + (showDropDown && 'd-block')} ref={optionsRef}>\r\n        <TrackDropDown\r\n          item={item}\r\n          closeMenu={closeMenu}\r\n          isUsers={isUsers}\r\n          playlistId={playlistId}\r\n          setChanges={setChanges}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default MoreOptions;\r\n","import PlayArrowIcon from '@material-ui/icons/PlayArrowTwoTone';\r\nimport PauseIcon from '@material-ui/icons/Pause';\r\n\r\nconst small = { className: 'sm-play-btn t-btn' };\r\nconst medium = { className: 'play-container', color: 'white' };\r\nconst cover = {\r\n  className: 'play-container-cover',\r\n  color: 'white',\r\n};\r\n\r\nexport const Button = (props) => (\r\n  <button type=\"button\" {...props} className={`${props.className}`}>\r\n    {props.children}\r\n  </button>\r\n);\r\n\r\nexport const SmallPlayButton = ({ playing, isCurrent, ...props }) => (\r\n  <Button {...props} className={small.className}>\r\n    {isCurrent && playing ? (\r\n      <PauseIcon\r\n        fontSize=\"large\"\r\n        style={{ color: isCurrent ? 'white' : 'var(--main-theme)' }}\r\n      />\r\n    ) : (\r\n      <PlayArrowIcon\r\n        fontSize=\"large\"\r\n        style={{ color: isCurrent ? 'white' : 'var(--main-theme)' }}\r\n      />\r\n    )}\r\n  </Button>\r\n);\r\n\r\nexport const MediumPlayButton = ({ playing, isCurrent, ...props }) => (\r\n  <Button {...props} className={medium.className}>\r\n    {isCurrent && playing ? (\r\n      <PauseIcon fontSize=\"large\" style={{ color: 'white' }} />\r\n    ) : (\r\n      <PlayArrowIcon fontSize=\"large\" style={{ color: 'white' }} />\r\n    )}\r\n  </Button>\r\n);\r\n\r\nexport const CoverPlayButton = ({ playing, isCurrent, ...props }) => (\r\n  <Button {...props} className={cover.className}>\r\n    {isCurrent && playing ? (\r\n      <PauseIcon fontSize=\"large\" style={{ color: 'white' }} />\r\n    ) : (\r\n      <PlayArrowIcon fontSize=\"large\" style={{ color: 'white' }} />\r\n    )}\r\n  </Button>\r\n);\r\n\r\nexport const LyricsButton = ({ onClick, showLyrics, ...props }) => (\r\n  <button\r\n    {...props}\r\n    className={'lyrics-btn'}\r\n    onClick={onClick}\r\n  >\r\n    <ion-icon name={\"mic\" + (showLyrics ? '' : '-outline')}\r\n      style={{ color: showLyrics ? 'var(--main-theme)' : 'var(--text-primary)' }}\r\n    ></ion-icon>\r\n  </button >\r\n)","import { useEffect, useState } from \"react\";\r\n\r\n\r\nfunction useCheckDevice() {\r\n\r\n    const [width, setWidth] = useState(window.innerWidth);\r\n\r\n    function handleWindowSizeChange() {\r\n        setWidth(window.innerWidth);\r\n    }\r\n    useEffect(() => {\r\n        window.addEventListener('resize', handleWindowSizeChange);\r\n        return () => {\r\n            window.removeEventListener('resize', handleWindowSizeChange);\r\n        }\r\n    }, []);\r\n\r\n    const isMobile = width <= 768;\r\n\r\n    return { isMobile };\r\n\r\n}\r\n\r\nexport default useCheckDevice;","import { getImage, millisToMinutesAndSeconds } from '../utils/helperFunctions';\r\nimport MoreOptions from '../templates/more-options';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {\r\n  handlePlayPause,\r\n  playfromlist,\r\n} from '../store/actions/spotify-actions';\r\nimport { SmallPlayButton } from '../player/buttons';\r\nimport useCheckDevice from '../utils/checkDevice';\r\n\r\nfunction TrackItems({ item, index, list, isUsers, playlistId, setChanges }) {\r\n  const { current } = useSelector((state) => state.player);\r\n  const playing = useSelector((state) => state.player.playing);\r\n  const dispatch = useDispatch();\r\n  const musicItem = item?.track ? item.track : item;\r\n  const isCurrent = current?.id === musicItem.id;\r\n  const { isMobile } = useCheckDevice();\r\n  const handlePlayingSong = () => {\r\n    if (isCurrent) {\r\n      dispatch(handlePlayPause());\r\n    } else {\r\n      dispatch(playfromlist(index, list));\r\n    }\r\n  };\r\n\r\n  const handleClick = (e) => {\r\n    const tagNames = ['svg', 'path', 'button'];\r\n    const parent = ['button', 'more-btn', 'more-options-btn'];\r\n    if (tagNames.includes(e.target.tagName) || parent.includes(e.target.parentNode.className)) return;\r\n    if (!isMobile) return;\r\n    else {\r\n      dispatch(playfromlist(index, list))\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div\r\n      key={index}\r\n      className={'p-t-container' + (isCurrent ? ' themeBG' : '')}\r\n      onClick={(e) => !isCurrent && handleClick(e)}\r\n    >\r\n      <div className=\"p-tracks-pic\">\r\n        <img\r\n          src={getImage(musicItem.album?.images, 'sm')}\r\n          alt=\"music-album\"\r\n          style={{ borderRadius: '10px' }}\r\n        />\r\n      </div>\r\n      <div className='p-tracks-right'>\r\n        <div className=\"p-tracks-info\">\r\n          <span className=\"ps-name\">{musicItem.name}</span>\r\n          <span className=\"text-secondary\">\r\n            {musicItem?.artists.map(\r\n              (item, index) => (index ? ', ' : '') + item.name\r\n            )}\r\n          </span>\r\n        </div>\r\n        <div className=\"p-tracks-album \">\r\n          <span className=\"text-secondary h6\">{musicItem.album?.name}</span>\r\n        </div>\r\n        <div className=\"p-tracks-btn \">\r\n          <MoreOptions\r\n            item={item}\r\n            isUsers={isUsers}\r\n            playlistId={playlistId}\r\n            setChanges={setChanges}\r\n          />\r\n          <span className=\"text-secondary me-5 d-lg-block d-none\">\r\n            {millisToMinutesAndSeconds(musicItem.duration_ms)}\r\n          </span>\r\n          <div className='p-tracks-play-btn'>\r\n            <SmallPlayButton\r\n              playing={playing}\r\n              isCurrent={isCurrent}\r\n              onClick={handlePlayingSong}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default TrackItems;\r\n","import SkeletonTracks from '../skeletons/skeletonTracks';\r\nimport TrackItems from './track-item';\r\n\r\nfunction ListTracks({ list, isUsers, playlistId, setChanges }) {\r\n  return (\r\n    <div className=\" mt-3\">\r\n      {list?.map((item, index) => (\r\n        <TrackItems\r\n          key={index}\r\n          index={index}\r\n          item={item}\r\n          list={list}\r\n          isUsers={isUsers}\r\n          playlistId={playlistId}\r\n          setChanges={setChanges}\r\n        />\r\n      ))}\r\n      {!list && <SkeletonTracks />}\r\n    </div>\r\n  );\r\n}\r\nexport default ListTracks;\r\n","import { useEffect, useRef, useState } from 'react';\r\nimport '../styling/routes.css';\r\nimport { getColor, getImage } from '../utils/helperFunctions';\r\nimport ListTracks from './track-lists';\r\nimport useSpotify from '../hooks/useSpotify';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {\r\n  isFollowingPlaylist,\r\n  handlePlayPause,\r\n  playfromlist,\r\n} from '../store/actions/spotify-actions';\r\nimport { CoverPlayButton } from '../player/buttons';\r\nimport { setCurrentTileId } from '../store/actions/player-actions';\r\nimport { setNotibar } from '../store/actions/app-actions';\r\n\r\nfunction Playlist(props) {\r\n  const [playlist, setPlaylist] = useState();\r\n  const [following, setFollowing] = useState();\r\n  const [changes, setChanges] = useState(false);\r\n  const dispatch = useDispatch();\r\n  const { user } = useSelector((state) => state.user);\r\n  const playing = useSelector((state) => state.player.playing);\r\n  const currentTileId = useSelector((state) => state.player.currentTileId);\r\n  const token = useSelector((state) => state.player.token);\r\n  const spotify = useSpotify();\r\n  const id = props?.match?.params.id;\r\n  const imgRef = useRef();\r\n  const isUsers = playlist?.info.owner.display_name === user?.display_name;\r\n  const isCurrent = id === currentTileId;\r\n  //console.log(playlist?.tracks);\r\n  useEffect(() => {\r\n    if (!id) return;\r\n    spotify\r\n      .getPlaylist(id)\r\n      .then((res) => {\r\n        setPlaylist({ info: res.body, tracks: res.body.tracks.items });\r\n        isFollowingPlaylist(token, res.body.id, user?.id)\r\n          .then((res) => {\r\n            setFollowing(res.data[0]);\r\n          })\r\n          .catch((err) => console.log(err));\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }, [changes, following]);\r\n\r\n  const follow = () => {\r\n    if (following) {\r\n      spotify.unfollowPlaylist(id).then(\r\n        function (data) {\r\n          setFollowing(false);\r\n          dispatch(setNotibar('Unfollowed Playlist!', true, 7000));\r\n        },\r\n        function (err) {\r\n          console.log('Something went wrong!', err);\r\n          dispatch(setNotibar('Error occured..', false, 7000));\r\n        }\r\n      );\r\n    } else {\r\n      spotify\r\n        .followPlaylist(id, {\r\n          public: false,\r\n        })\r\n        .then(\r\n          function (data) {\r\n            dispatch(setNotibar('Started Following!!', true, 7000));\r\n            setFollowing(true);\r\n          },\r\n          function (err) {\r\n            console.log('Something went wrong!', err);\r\n            dispatch(setNotibar('Error occured..', false, 7000));\r\n          }\r\n        );\r\n    }\r\n  };\r\n\r\n  const handlePlayTile = () => {\r\n    if (playing && isCurrent) {\r\n      dispatch(handlePlayPause());\r\n    } else {\r\n      dispatch(setCurrentTileId(id));\r\n      dispatch(playfromlist(0, playlist.tracks));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"display-cut\">\r\n      <div\r\n        className=\"p-info\"\r\n        id={playlist?.info?.id}\r\n        style={{ borderRadius: '15px' }}\r\n      >\r\n        <div className=\"pl p-lg-5 p-2 position-relative\">\r\n          <img\r\n            src={getImage(playlist?.info.images, 'md')}\r\n            ref={imgRef}\r\n            style={{ borderRadius: '0px' }}\r\n            alt={playlist?.info.name}\r\n            crossOrigin=\"anonymous\"\r\n            className=\"w-100\"\r\n            onLoad={() => getColor(id, imgRef, 'playlist')}\r\n          />\r\n\r\n          <CoverPlayButton\r\n            playing={playing}\r\n            isCurrent={isCurrent}\r\n            onClick={handlePlayTile}\r\n          />\r\n        </div>\r\n        <div className=\"pr px-3 font-1 py-4 d-flex flex-column\">\r\n          <span className=\"text-secondary\">PLAYLIST</span>\r\n          <span className=\"display-6 text-light\">{playlist?.info.name}</span>\r\n          <span className=\"h4 text-light\">{playlist?.info.description}</span>\r\n          <div className=\"d-flex font-1 align-items-baseline justify-content-between\">\r\n            <div className=\"font-1\">\r\n              <span\r\n                className=\"h1 me-1 \"\r\n                style={{ color: 'rgba(255,255,255,1)' }}\r\n              >\r\n                {playlist?.info?.followers?.total}\r\n              </span>\r\n              <span className=\"text-light\">followers</span>\r\n            </div>\r\n            <span className=\"text-light h4 my-0\">\r\n              {playlist?.tracks?.length} tracks\r\n            </span>\r\n          </div>\r\n          <div className=\"mt-3\">\r\n            <button\r\n              className=\"outline-none bg-transparent text-light border rounded px-3 py-2\"\r\n              onClick={follow}\r\n            >\r\n              {following ? 'UNFOLLOW' : 'FOLLOW'}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className={\"p-tracks \" + (playlist?.tracks && 'slidefrombottom')}>\r\n        <ListTracks\r\n          list={playlist?.tracks}\r\n          isUsers={isUsers}\r\n          playlistId={playlist?.info.id}\r\n          setChanges={setChanges}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default Playlist;\r\n","import KeyboardArrowRightIcon from '@material-ui/icons/KeyboardArrowRight';\r\nimport KeyboardArrowLeftIcon from '@material-ui/icons/KeyboardArrowLeft';\r\nimport { useState } from 'react';\r\n\r\nfunction ScrollSection(props) {\r\n  const holderRef = props.children.ref;\r\n  const [scrollP, setScrollP] = useState(false);\r\n  const [scrollN, setScrollN] = useState(true);\r\n\r\n  const scroll = (scrollOffset) => {\r\n    let scrollLeft = holderRef.current.scrollLeft;\r\n    let scrollDiff = holderRef.current.scrollWidth - scrollLeft;\r\n    let clientWidth = holderRef.current.clientWidth;\r\n    if (scrollLeft > 0) setScrollP(true);\r\n    else setScrollP(false);\r\n    if (Math.trunc(scrollDiff) < clientWidth) setScrollN(false);\r\n    else setScrollN(true);\r\n\r\n    holderRef.current.scrollLeft += scrollOffset;\r\n  };\r\n\r\n  return (\r\n    <div className=\"position-relative\">\r\n      <button\r\n        className=\"scroll-nxt-btn\"\r\n        onClick={() => scroll(+300)}\r\n        hidden={!scrollN}\r\n      >\r\n        <KeyboardArrowRightIcon style={{ color: 'black' }} />\r\n      </button>\r\n      <button\r\n        className=\"scroll-prev-btn\"\r\n        onClick={() => scroll(-300)}\r\n        hidden={!scrollP}\r\n      >\r\n        <KeyboardArrowLeftIcon style={{ color: 'black' }} />\r\n      </button>\r\n      {props.children}\r\n    </div>\r\n  );\r\n}\r\nexport default ScrollSection;\r\n","import '../styling/templates/album.css';\r\nimport {\r\n  getColorAlbumTemplate,\r\n  getCorrectPath,\r\n  getImage,\r\n} from '../utils/helperFunctions';\r\nimport { useRef } from 'react';\r\nimport ScrollSection from '../utils/scroll-button';\r\nimport { Link, useRouteMatch } from 'react-router-dom';\r\nfunction Album({ list }) {\r\n  const holderRef = useRef();\r\n  const { path } = useRouteMatch();\r\n  const getPath = getCorrectPath(path);\r\n  return (\r\n    <div>\r\n      <h2 className=\"section-heading py-3\">Albums</h2>\r\n      <ScrollSection>\r\n        <div className=\"card-holders\" ref={holderRef}>\r\n          {list?.map((item, index) => (\r\n            <Link\r\n              to={`${getPath}/album/${item.id}`}\r\n              className=\"d-flex flex-column align-items-start me-2 p-2 text-decoration-none\"\r\n              key={item.id}\r\n              id={item.id + index}\r\n              style={{ borderRadius: '15px' }}\r\n            >\r\n              <div className=\"album-cards\">\r\n                <img\r\n                  src={getImage(item?.images, 'md')}\r\n                  alt={item?.name}\r\n                  crossOrigin=\"anonymous\"\r\n                  id={item.id}\r\n                  onLoad={() =>\r\n                    getColorAlbumTemplate({ id: item.id, index: index })\r\n                  }\r\n                />\r\n              </div>\r\n              <span className=\"fp-name mt-2\">{item?.name}</span>\r\n            </Link>\r\n          ))}\r\n        </div>\r\n      </ScrollSection>\r\n    </div>\r\n  );\r\n}\r\nexport default Album;\r\n","import './skeleton.css';\r\nfunction SkeletonArtists() {\r\n  return (\r\n    <div>\r\n      <p className=\"skeleton-heading shimmer mb-0\"></p>\r\n      <div className=\"skeleton-trackholder\">\r\n        {Array(10)\r\n          .fill()\r\n          .map((x, i) => (\r\n            <div key={i} className=\"skeleton-artists shimmer\"></div>\r\n          ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default SkeletonArtists;\r\n","import '../styling/templates/artists.css';\r\nimport {\r\n  getColorArtists,\r\n  getCorrectPath,\r\n  getImage,\r\n} from '../utils/helperFunctions';\r\nimport SkeletonArtists from '../skeletons/skeletonArtists';\r\nimport { useRef } from 'react';\r\nimport ScrollSection from '../utils/scroll-button';\r\nimport { NavLink, useRouteMatch } from 'react-router-dom';\r\n\r\nfunction Artists({ show, listName }) {\r\n  const holderRef = useRef();\r\n  const { path } = useRouteMatch();\r\n  const getPath = getCorrectPath(path);\r\n  return (\r\n    <div>\r\n      {!show && <SkeletonArtists />}\r\n      <p className=\"section-heading mb-0\" hidden={!show}>\r\n        {listName}\r\n      </p>\r\n      <ScrollSection>\r\n        <div className=\"cards-holder\" ref={holderRef}>\r\n          {show?.map((item, index) => (\r\n            <NavLink\r\n              className=\"d-flex flex-column align-items-center text-decoration-none me-3 p-2\"\r\n              key={item.id}\r\n              to={`${getPath}/artist/${item.id}`}\r\n              onClick={() => window.scrollTo({ top: 0, behavior: 'smooth' })}\r\n            >\r\n              <div className=\"artist-cards hover-effect-ac\" id={item.id + index}>\r\n                <img\r\n                  src={getImage(item?.images, 'sm')}\r\n                  alt={item?.name}\r\n                  crossOrigin=\"anonymous\"\r\n                  id={item.id}\r\n                  onLoad={() => getColorArtists(item.id, index)}\r\n                />\r\n              </div>\r\n              <span className=\"bp-name mt-2\">{item?.name}</span>\r\n            </NavLink>\r\n          ))}\r\n        </div>\r\n      </ScrollSection>\r\n    </div>\r\n  );\r\n}\r\nexport default Artists;\r\n","import { useEffect, useRef, useState } from 'react';\r\nimport { getColor, getImage } from '../utils/helperFunctions';\r\nimport '../styling/routes.css';\r\nimport Album from '../templates/album';\r\nimport Artists from '../templates/artists';\r\nimport MusicNoteTwoToneIcon from '@material-ui/icons/MusicNoteTwoTone';\r\nimport SkeletonTracks from '../skeletons/skeletonTracks';\r\nimport TrackItems from './track-item';\r\nimport useSpotify from '../hooks/useSpotify';\r\nimport {\r\n  followArtists,\r\n  getArtist,\r\n  getArtistAlbums,\r\n  getArtistRelatedArtists,\r\n  getArtistTopTracks,\r\n  isFollowingArtists,\r\n  unfollowArtists,\r\n} from '../store/actions/spotify-actions';\r\nimport { setNotibar } from '../store/actions/app-actions';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nfunction Artist(props) {\r\n  const id = props?.match?.params?.id;\r\n  //console.log(props?.match?.params?.id);\r\n  const dispatch = useDispatch();\r\n  const [artist, setArtist] = useState();\r\n  const [albums, setAlbums] = useState();\r\n  const [toptracks, setToptracks] = useState();\r\n  const [related, setRelated] = useState();\r\n  const [following, setFollowing] = useState(false);\r\n  const imgRef = useRef();\r\n\r\n  useEffect(() => {\r\n    // Get an artist\r\n    getArtist(id).then(\r\n      function (data) {\r\n        //console.log('Artist information', data.body);\r\n        setArtist({ ...artist, info: data.body });\r\n      },\r\n      function (err) {\r\n        console.error(err);\r\n      }\r\n    );\r\n    // Get albums by a certain artist\r\n    getArtistAlbums(id).then(\r\n      function (data) {\r\n        //console.log('Artist albums', data.body.items);\r\n        setAlbums(data.body.items);\r\n      },\r\n      function (err) {\r\n        console.error(err);\r\n      }\r\n    );\r\n    // Get an artist's top tracks\r\n    getArtistTopTracks(id).then(\r\n      function (data) {\r\n        //console.log(data.body);\r\n        setToptracks(data.body.tracks);\r\n      },\r\n      function (err) {\r\n        console.log('Something went wrong!', err);\r\n      }\r\n    );\r\n\r\n    // Get artists related to an artist\r\n    getArtistRelatedArtists(id).then(\r\n      function (data) {\r\n        //console.log(data.body);\r\n        setRelated(data.body.artists);\r\n      },\r\n      function (err) {\r\n        console.log(id);\r\n      }\r\n    );\r\n\r\n    /* Check if a user is following an artist */\r\n    let artistsId = [id];\r\n    isFollowingArtists(artistsId).then(\r\n      function (data) {\r\n        setFollowing(data.body?.[0]);\r\n      },\r\n      function (err) {\r\n        console.log('Something went wrong!', err);\r\n      }\r\n    );\r\n  }, [id]);\r\n\r\n  const follow = () => {\r\n    if (following) {\r\n      /* Unfollow an artist */\r\n      unfollowArtists([id]).then(\r\n        function (data) {\r\n          setFollowing(false);\r\n          dispatch(setNotibar(`Unfollowed ${artist?.info?.name?.split(' ')[0]}...`, true, 7000));\r\n        },\r\n        function (err) {\r\n          console.log('Something went wrong!', err);\r\n        }\r\n      );\r\n    } else {\r\n      /* Follow an artist */\r\n      followArtists([id]).then(\r\n        function (data) {\r\n          setFollowing(true);\r\n          dispatch(setNotibar(`Started following ${artist?.info?.name?.split(' ')[0]} !`, true, 7000));\r\n        },\r\n        function (err) {\r\n          console.log('Something went wrong!', err);\r\n        }\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"display-cut\">\r\n      <div\r\n        className=\"a-info\"\r\n        style={{\r\n          background: `url(${getImage(\r\n            artist?.info?.images,\r\n            'lg'\r\n          )}) no-repeat center center / cover`,\r\n          borderRadius: '20px',\r\n        }}\r\n      >\r\n        <div className=\"artist-l\">\r\n          <div className=\"a-data w-100 px-3\" id={id + '3'}>\r\n            <span className=\"artist-name\">{artist?.info?.name}</span>\r\n            <div className=\"d-md-flex d-block justify-content-between\">\r\n              <div className=\"font-1\">\r\n                <span className=\"h3 text-light me-2\">\r\n                  {artist?.info?.followers?.total}\r\n                </span>\r\n                <span className=\"text-light\">followers</span>\r\n              </div>\r\n              <button\r\n                className=\"outline-none bg-transparent text-light border rounded px-3 py-2 mt-2\"\r\n                onClick={follow}\r\n              >\r\n                {following ? 'UNFOLLOW' : 'FOLLOW'}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"artist-r\">\r\n          <img\r\n            src={getImage(artist?.info?.images, 'md')}\r\n            ref={imgRef}\r\n            crossOrigin=\"anonymous\"\r\n            alt={artist?.info?.name}\r\n            onLoad={() => getColor(id, imgRef, 'artistPage')}\r\n            style={{ borderRadius: '15px', width: '100%' }}\r\n          />\r\n        </div>\r\n      </div>\r\n      <div>\r\n        <h2 className=\"section-heading p-3\">Popular</h2>\r\n        {toptracks?.map((item, index) => (\r\n          <TrackItems\r\n            key={index}\r\n            index={index}\r\n            item={item}\r\n            list={toptracks}\r\n            isUsers={null}\r\n            playlistId={null}\r\n          />\r\n        ))}\r\n        {!toptracks && <SkeletonTracks />}\r\n      </div>\r\n      <div>\r\n        <Album list={albums} />\r\n      </div>\r\n      <div className=\"mt-3\">\r\n        <Artists show={related} listName={'Fans also love'} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default Artist;\r\n","import { useEffect, useRef, useState } from 'react';\r\nimport ColorThief from '../../../node_modules/colorthief/dist/color-thief.mjs';\r\nimport { getImage, millisToMinutesAndSeconds } from '../utils/helperFunctions';\r\nimport {\r\n  getAlbum,\r\n  handlePlayPause,\r\n  playfromlist,\r\n} from '../store/actions/spotify-actions.js';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { CoverPlayButton, SmallPlayButton } from '../player/buttons.js';\r\nimport { setCurrentTileId } from '../store/actions/player-actions.js';\r\nimport useCheckDevice from '../utils/checkDevice.js';\r\nimport MoreOptions from '../templates/more-options.js';\r\n\r\nfunction Album(props) {\r\n  const id = props?.match?.params?.id;\r\n  const imgRef = useRef();\r\n  const [album, setAlbum] = useState();\r\n  const dispatch = useDispatch();\r\n  const playing = useSelector((state) => state.player.playing);\r\n  const currentTileId = useSelector((state) => state.player.currentTileId);\r\n  const current = useSelector((state) => state.player.current);\r\n  const isCurrent = id === currentTileId;\r\n  const { isMobile } = useCheckDevice();\r\n\r\n  useEffect(() => {\r\n    getAlbum(id).then(\r\n      function (data) {\r\n        //console.log('Album information', data.body);\r\n        setAlbum({ info: data.body, tracks: data.body.tracks.items });\r\n      },\r\n      function (err) {\r\n        console.error(err);\r\n      }\r\n    );\r\n  }, [id]);\r\n\r\n  const getColor = () => {\r\n    const colorThief = new ColorThief();\r\n    const img = imgRef.current;\r\n    var color;\r\n    if (img.complete) {\r\n      color = colorThief.getColor(img);\r\n    } else {\r\n      img.addEventListener('load', function () {\r\n        color = colorThief.getColor(img);\r\n      });\r\n    }\r\n    document.getElementById(\r\n      'choose1'\r\n    ).style.background = `linear-gradient(360deg, rgb(${color[0]},${color[1]},${color[2]}), transparent)`;\r\n  };\r\n\r\n  const handlePlayTile = () => {\r\n    if (playing && isCurrent) {\r\n      dispatch(handlePlayPause());\r\n    } else {\r\n      dispatch(setCurrentTileId(id));\r\n      dispatch(playfromlist(0, album.tracks));\r\n    }\r\n  };\r\n\r\n  const handlePlayingSong = (index) => {\r\n    if (isCurrent) {\r\n      dispatch(handlePlayPause());\r\n    } else {\r\n      dispatch(playfromlist(index, album.tracks));\r\n    }\r\n  };\r\n\r\n  const handleClick = (e, index) => {\r\n    const tagNames = ['svg', 'path', 'button'];\r\n    const parent = ['button', 'more-btn', 'more-options-btn'];\r\n    if (tagNames.includes(e.target.tagName) || parent.includes(e.target.parentNode.className)) return;\r\n    if (!isMobile) return;\r\n    else {\r\n      handlePlayingSong(index);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"display-cut\">\r\n      <div\r\n        className=\"album-info\"\r\n        style={{\r\n          background: `url(${getImage(\r\n            album?.info?.images,\r\n            'lg'\r\n          )}) no-repeat center center / cover`,\r\n          borderRadius: '20px',\r\n        }}\r\n      >\r\n        <div className=\"album-r\">\r\n          <div className=\"album-data w-100 px-3 font-1\" id=\"choose1\">\r\n            <p className=\"text-light mb-0\">ALBUM</p>\r\n            <span className=\"h1 text-light\">{album?.info?.name}</span>\r\n          </div>\r\n        </div>\r\n        <div className=\"album-l\">\r\n          <img\r\n            src={getImage(album?.info?.images, 'md')}\r\n            ref={imgRef}\r\n            crossOrigin=\"anonymous\"\r\n            alt={album?.info?.name}\r\n            onLoad={getColor}\r\n            style={{ borderRadius: '15px', width: '100%' }}\r\n          />\r\n          <CoverPlayButton\r\n            playing={playing}\r\n            isCurrent={isCurrent}\r\n            onClick={handlePlayTile}\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className=\"mt-3\">\r\n\r\n        {album?.tracks?.map((item, index) => (\r\n          <div\r\n            key={index}\r\n            className={'p-t-container' + (current?.id === item?.id ? ' themeBG' : '')}\r\n            onClick={(e) => !isCurrent && handleClick(e, index)}\r\n          >\r\n            <div className=\"album-tracks-info font-1 ms-2\">\r\n              <span className=\"ps-name\">{item?.name}</span>\r\n              <span className=\"text-secondary\">\r\n                {item?.artists.map(\r\n                  (item, index) => (index ? ', ' : '') + item.name\r\n                )}\r\n              </span>\r\n            </div>\r\n\r\n            <div className=\"album-tracks-btn d-flex justify-content-end align-items-center\">\r\n              <span className=\"text-secondary me-5 d-lg-block d-none\">\r\n                {millisToMinutesAndSeconds(item?.duration_ms)}\r\n              </span>\r\n              <MoreOptions\r\n                item={item}\r\n                isUsers={false}\r\n                playlistId={id}\r\n                setChanges={null}\r\n              />\r\n              <SmallPlayButton\r\n                playing={playing}\r\n                isCurrent={item.name === current?.name}\r\n                onClick={(e) => handlePlayingSong(e, index)}\r\n              />\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div >\r\n  );\r\n}\r\nexport default Album;\r\n","import '../../styling/sidebar.css';\r\nimport { navList } from '../navlist';\r\nimport { NavLink, useLocation, useRouteMatch } from 'react-router-dom';\r\n\r\nfunction Bottombar1() {\r\n    const location = useLocation();\r\n    const activeLink = location.pathname.split('/')[2];\r\n    const forHome = ['artist', 'album', 'playlist', 'category'];\r\n    const activeCheck = forHome.includes(activeLink) ? undefined : activeLink;\r\n    const { url } = useRouteMatch();\r\n\r\n    return (\r\n        <div className=\"bottombar\">\r\n            {navList.map((option, index) => (\r\n                <NavLink\r\n                    key={index}\r\n                    className={\r\n                        'bb-btn ' + (activeCheck === option.pathname ? 'bb-active' : '')\r\n                    }\r\n                    to={{ pathname: `${url}${option.route}` }}\r\n                >\r\n                    <span className=\"bb-icon\">\r\n                        <ion-icon name={option.icon}></ion-icon>\r\n                    </span>\r\n                    {activeLink === option.pathname && <span className=\"dot\"></span>}\r\n                </NavLink>\r\n            ))}\r\n        </div>\r\n    );\r\n}\r\nexport default Bottombar1;\r\n","import React, { useEffect } from \"react\";\r\n\r\n/**\r\n * Hook that alerts clicks outside of the passed ref\r\n */\r\nconst UseOutsideAlerter = React.forwardRef((props, ref) => {\r\n    useEffect(() => {\r\n        /**\r\n         * Alert if clicked on outside of element\r\n         */\r\n        function handleClickOutside(event) {\r\n            if (ref.current && !ref.current.contains(event.target)) {\r\n                props.handleFunc();\r\n            }\r\n        }\r\n        // Bind the event listener\r\n        document.addEventListener(\"mousedown\", handleClickOutside);\r\n        return () => {\r\n            // Unbind the event listener on clean up\r\n            document.removeEventListener(\"mousedown\", handleClickOutside);\r\n        };\r\n    }, [ref]);\r\n    return null;\r\n});\r\n\r\nexport default UseOutsideAlerter;","import '../../styling/sidebar.css';\r\nimport { navList } from '../navlist';\r\nimport { NavLink, useLocation, useRouteMatch } from 'react-router-dom';\r\nimport { useRef, useState } from 'react';\r\nimport Draggable from 'react-draggable';\r\nimport UseOutsideAlerter from '../../utils/useClickedOutside';\r\n\r\nfunction Bottombar2() {\r\n    const location = useLocation();\r\n    const activeLink = location.pathname.split('/')[2];\r\n    const forHome = ['artist', 'album', 'playlist', 'category'];\r\n    const activeCheck = forHome.includes(activeLink) ? undefined : activeLink;\r\n    const { url } = useRouteMatch();\r\n    const barRef = useRef();\r\n    const [toggle, setToggle] = useState(false);\r\n    const [invertToggle, setInvertToggle] = useState(false);\r\n\r\n    const handleToggle = () => {\r\n        setToggle(!toggle);\r\n    }\r\n\r\n    const handleInvertion = () => {\r\n        const playerRect = document.querySelector('.player').getBoundingClientRect();\r\n        const menuRect = document.querySelector('.menu').getBoundingClientRect();\r\n        const left = menuRect.right - playerRect.right / 2;\r\n        if (left < 0) {\r\n            setInvertToggle(false);\r\n        } else {\r\n            setInvertToggle(true);\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <Draggable cancel='a' onDrag={handleInvertion}>\r\n            <div className={\"menu \" + (toggle ? 'active' : '')} onClick={handleToggle} onTouchStart={handleToggle} ref={barRef}>\r\n                <UseOutsideAlerter ref={barRef} handleFunc={() => setToggle(false)} />\r\n                <div className={'mini-2-toggle'}>\r\n                    <ion-icon name={\"ellipse-outline\"}></ion-icon>\r\n                </div>\r\n                {navList.map((option, index) => (\r\n                    <li key={index} style={{ '--i': invertToggle ? option.invIdx : option.idx }}>\r\n                        < NavLink\r\n                            to={{ pathname: `${url}${option.route}` }}\r\n                            style={{ background: (activeCheck === option.pathname ? 'var(--main-theme)' : 'var(--background)') }}\r\n                            onClickCapture={handleToggle}\r\n                        >\r\n                            <ion-icon name={option.icon}\r\n                                style={{ color: (activeCheck === option.pathname ? 'var(--background)' : 'var(--main-theme)') }}\r\n                            ></ion-icon>\r\n                        </NavLink>\r\n                    </li >\r\n\r\n                ))}\r\n            </div >\r\n        </Draggable>\r\n    );\r\n}\r\nexport default Bottombar2;\r\n","import '../styling/sidebar.css';\r\nimport { useSelector } from 'react-redux';\r\nimport Bottombar1 from './bottombar/bottombar1';\r\nimport Bottombar2 from './bottombar/bottombar2';\r\n\r\n\r\nfunction Bottombar() {\r\n  const { sideBartype } = useSelector((state) => state.player);\r\n\r\n  const returnSideBar = () => {\r\n    switch (sideBartype) {\r\n      case 0:\r\n        return (<Bottombar1 />);\r\n      case 1:\r\n        return (<Bottombar2 />);\r\n      default:\r\n        console.log('Error');\r\n        break;\r\n    }\r\n  }\r\n  return (\r\n    <>{returnSideBar()}</>\r\n  );\r\n}\r\n\r\nexport default Bottombar;\r\n","import '../../styling/slider.css';\r\nimport { useState } from 'react';\r\nimport ColorThief from '../../../../node_modules/colorthief/dist/color-thief.mjs';\r\nimport { useHistory, useRouteMatch } from 'react-router-dom';\r\nimport {\r\n    getAlbum,\r\n    handlePlayPause,\r\n    playfromlist,\r\n} from '../../store/actions/spotify-actions';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getCorrectPath } from '../../utils/helperFunctions';\r\n// Import Swiper React components\r\nimport SwiperCore, { Navigation, Autoplay, EffectCoverflow } from \"swiper\";\r\nimport { Swiper, SwiperSlide } from 'swiper/react/swiper-react';\r\nimport 'swiper/swiper.min.css';\r\nimport 'swiper/modules/navigation/navigation.min.css';\r\nimport 'swiper/modules/pagination/pagination.min.css';\r\nimport { MediumPlayButton } from '../../player/buttons';\r\nimport { setCurrentTileId } from '../../store/actions/player-actions';\r\n\r\nSwiperCore.use([Navigation, Autoplay, EffectCoverflow]);\r\n\r\nfunction NewReleasesSlider({ newReleases }) {\r\n    const history = useHistory();\r\n    const dispatch = useDispatch();\r\n    const playing = useSelector((state) => state.player.playing);\r\n    const currentTileId = useSelector((state) => state.player.currentTileId);\r\n    const { autoPlay, autoPlayDelay } = useSelector((state) => state.app.homeSlider);\r\n    const { path } = useRouteMatch();\r\n    const getPath = getCorrectPath(path);\r\n    //console.log(newReleases)\r\n    const handlePlayTile = (id) => {\r\n        if (playing && id === currentTileId) {\r\n            dispatch(handlePlayPause());\r\n        } else {\r\n            getAlbum(id).then(\r\n                function (data) {\r\n                    dispatch(setCurrentTileId(id));\r\n                    dispatch(playfromlist(0, data.body.tracks.items));\r\n                },\r\n                function (err) {\r\n                    console.error(err);\r\n                }\r\n            );\r\n        }\r\n    };\r\n\r\n    const ReturnSlider = ({ children }) => {\r\n        if (autoPlay)\r\n            return (<Swiper\r\n                effect='coverflow'\r\n                grabCursor={true}\r\n                centeredSlides={true}\r\n                slidesPerView={2}\r\n                autoplay={{\r\n                    delay: autoPlayDelay * 1000,\r\n                    disableOnInteraction: false,\r\n                }}\r\n                coverflowEffect={{\r\n                    rotate: 50,\r\n                    stretch: 0,\r\n                    depth: 100,\r\n                    modifier: 1,\r\n                    slideShadows: true,\r\n                }}\r\n                navigation\r\n            >{children}</Swiper>);\r\n        else\r\n            return (<Swiper\r\n                effect='coverflow'\r\n                grabCursor={true}\r\n                centeredSlides={true}\r\n                slidesPerView={2}\r\n                coverflowEffect={{\r\n                    rotate: 50,\r\n                    stretch: 0,\r\n                    depth: 100,\r\n                    modifier: 1,\r\n                    slideShadows: true,\r\n                }}\r\n                navigation\r\n            >{children}</Swiper>);\r\n    }\r\n\r\n\r\n    return (\r\n        <div className='tile-container'>\r\n            <ReturnSlider>\r\n                {newReleases?.map((item, ind) => (\r\n                    <SwiperSlide\r\n                        key={ind}\r\n                        style={{ backgroundImage: `url(${item.images[0]?.url})` }}\r\n                        onClick={() => history.push({ pathname: `${getPath}/album/${item.id}` })}\r\n                    >\r\n                        <div className=\"tiled-left\">\r\n                            <MediumPlayButton\r\n                                playing={playing}\r\n                                isCurrent={item?.id === currentTileId}\r\n                                onClick={() => handlePlayTile(item?.id)}\r\n                            />\r\n                        </div>\r\n                    </SwiperSlide>))}\r\n            </ReturnSlider>\r\n\r\n        </div >\r\n    );\r\n}\r\nexport default NewReleasesSlider;\r\n","import '../../styling/slider.css';\r\nimport { useEffect } from 'react';\r\nimport ColorThief from '../../../../node_modules/colorthief/dist/color-thief.mjs';\r\nimport { useHistory, useRouteMatch } from 'react-router-dom';\r\nimport {\r\n    getAlbum,\r\n    handlePlayPause,\r\n    playfromlist,\r\n} from '../../store/actions/spotify-actions';\r\nimport { setCurrentTileId } from '../../store/actions/player-actions';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { MediumPlayButton } from '../../player/buttons';\r\nimport { getCorrectPath } from '../../utils/helperFunctions';\r\n// Import Swiper React components\r\nimport SwiperCore, { Navigation, Autoplay, EffectCoverflow } from \"swiper\";\r\nimport { Swiper, SwiperSlide } from 'swiper/react/swiper-react';\r\nimport 'swiper/swiper.min.css';\r\nimport 'swiper/modules/navigation/navigation.min.css';\r\nimport 'swiper/modules/pagination/pagination.min.css';\r\nimport useCheckDevice from '../../utils/checkDevice';\r\n\r\nSwiperCore.use([Navigation, Autoplay, EffectCoverflow]);\r\n\r\nfunction NewReleasesSlider2({ newReleases }) {\r\n    const history = useHistory();\r\n    const dispatch = useDispatch();\r\n    const playing = useSelector((state) => state.player.playing);\r\n    const currentTileId = useSelector((state) => state.player.currentTileId);\r\n    const { autoPlay, autoPlayDelay } = useSelector((state) => state.app.homeSlider);\r\n    const { path } = useRouteMatch();\r\n    const getPath = getCorrectPath(path);\r\n    const { isMobile } = useCheckDevice();\r\n\r\n\r\n\r\n    const getColor = () => {\r\n        const colorThief = new ColorThief();\r\n        const img = document.querySelector('.swiper-slide-active .slider2-img');\r\n        var color;\r\n        if (img.complete) {\r\n            color = colorThief.getColor(img);\r\n            if (document.querySelector('.swiper-slide-active')) {\r\n                document.querySelector('.swiper-slide-active').style.background = `rgba(${color?.[0]},${color?.[1]},${color?.[2]},1)`;\r\n            }\r\n            if (document.querySelector('.swiper-slide-next')) {\r\n                document.querySelector('.swiper-slide-next').style.background = ``;\r\n            }\r\n            if (document.querySelector('.swiper-slide-prev')) {\r\n                document.querySelector('.swiper-slide-prev').style.background = ``;\r\n            }\r\n        } else {\r\n            img.addEventListener('load', function () {\r\n                color = colorThief.getColor(img);\r\n            });\r\n        }\r\n    };\r\n    const handlePlayTile = (id) => {\r\n        if (playing && id === currentTileId) {\r\n            dispatch(handlePlayPause());\r\n        } else {\r\n            getAlbum(id).then(\r\n                function (data) {\r\n                    dispatch(setCurrentTileId(id));\r\n                    dispatch(playfromlist(0, data.body.tracks.items));\r\n                },\r\n                function (err) {\r\n                    console.error(err);\r\n                }\r\n            );\r\n        }\r\n    };\r\n\r\n    const ReturnSlider = ({ children }) => {\r\n        useEffect(() => {\r\n            const nextButton = document.querySelector('.swiper-button-next');\r\n            const prevButton = document.querySelector('.swiper-button-prev');\r\n\r\n            nextButton.addEventListener('click', getColor);\r\n            prevButton.addEventListener('click', getColor);\r\n\r\n            return () => {\r\n                nextButton.removeEventListener('click', getColor);\r\n                prevButton.removeEventListener('click', getColor);\r\n            }\r\n        }, [])\r\n        if (autoPlay && isMobile)\r\n            return (\r\n                <Swiper\r\n                    effect='coverflow'\r\n                    grabCursor={true}\r\n                    centeredSlides={true}\r\n                    slidesPerView={2}\r\n                    autoplay={{\r\n                        delay: autoPlayDelay * 1000,\r\n                        disableOnInteraction: false,\r\n                    }}\r\n                    coverflowEffect={{\r\n                        rotate: 0,\r\n                        stretch: isMobile ? 130 : 300,\r\n                        depth: 200,\r\n                        modifier: 1,\r\n                        slideShadows: true,\r\n                    }}\r\n                    navigation\r\n                    onTouchEnd={getColor}\r\n                >{children}</Swiper>);\r\n        else\r\n            return (<Swiper\r\n                effect='coverflow'\r\n                grabCursor={true}\r\n                centeredSlides={true}\r\n                slidesPerView={2}\r\n                coverflowEffect={{\r\n                    rotate: 0,\r\n                    stretch: isMobile ? 130 : 300,\r\n                    depth: 200,\r\n                    modifier: 1,\r\n                    slideShadows: true,\r\n                }}\r\n                navigation\r\n                onTouchEnd={getColor}\r\n\r\n            >{children}</Swiper>);\r\n    }\r\n\r\n    return (\r\n        <div className='tile-container-2'>\r\n            <ReturnSlider>\r\n                {newReleases?.map((item, ind) => (\r\n                    <SwiperSlide\r\n                        key={ind}\r\n                        onClick={() => history.push({ pathname: `${getPath}/album/${item.id}` })}\r\n                    >\r\n                        <img className='slider2-img'\r\n                            crossOrigin=\"anonymous\"\r\n                            src={item.images[0]?.url}\r\n                            alt={item?.name}\r\n                            onLoad={getColor}\r\n                        />\r\n                        <div className=\"tiled-left\">\r\n                            <MediumPlayButton\r\n                                playing={playing}\r\n                                isCurrent={item?.id === currentTileId}\r\n                                onClick={() => handlePlayTile(item?.id)}\r\n                            />\r\n                            <div className=\"al-info\">\r\n                                <span className=\"al\">{item?.type}</span>\r\n                                <span className=\"aln\">{item?.name}</span>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"tiled-right\">\r\n                            <span className=\"ar\">\r\n                                {item?.artists?.[0]?.type}\r\n                            </span>\r\n                            {item?.artists?.map((x, index) => (\r\n                                <span key={index} className=\"arn\">\r\n                                    {x.name}\r\n                                </span>\r\n                            ))}\r\n                        </div>\r\n                    </SwiperSlide>))}\r\n            </ReturnSlider>\r\n\r\n        </div >\r\n    );\r\n}\r\nexport default NewReleasesSlider2;\r\n","import { useSelector } from \"react-redux\";\r\nimport NewReleasesSlider from \"./newReleasesSlider\";\r\nimport NewReleasesSlider2 from \"./newReleasesSlider2\";\r\nimport '../../styling/slider.css';\r\nimport '../../styling/homeComponents/newreleases.css';\r\n\r\n\r\nfunction NewReleases({ newReleases }) {\r\n    const { sliderType } = useSelector((state) => state.app.homeSlider);\r\n    const returnSlider = () => {\r\n        switch (sliderType) {\r\n            case 0:\r\n                return (<NewReleasesSlider newReleases={newReleases} />);\r\n            case 1:\r\n                return (<NewReleasesSlider2 newReleases={newReleases} />);\r\n            default:\r\n                console.log(\"Error NewReleases Type\");\r\n                break;\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {newReleases && returnSlider()}\r\n        </div>\r\n    )\r\n\r\n};\r\n\r\nexport default NewReleases;","import { getColorSongTemplate, getImage } from '../utils/helperFunctions';\r\nimport { useRef } from 'react';\r\nimport MoreOptions from './more-options';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { handlePlayPause, play } from '../store/actions/spotify-actions';\r\nimport { MediumPlayButton } from '../player/buttons';\r\nfunction SongCards({ item, id, index }) {\r\n  const imgRef = useRef();\r\n  const trackItemRef = useRef();\r\n  const dispatch = useDispatch();\r\n  const current = useSelector((state) => state.player.current);\r\n  const playing = useSelector((state) => state.player.playing);\r\n  const isCurrent = item?.uri === current?.uri;\r\n\r\n  const handlePlayingSong = (e) => {\r\n    if (isCurrent) {\r\n      dispatch(handlePlayPause());\r\n    } else {\r\n      dispatch(play(item));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div key={id} className=\"cards hover-effect\" ref={trackItemRef}>\r\n      <img\r\n        src={getImage(item.album?.images, 'md')}\r\n        alt={item.album?.album_type}\r\n        crossOrigin=\"anonymous\"\r\n        id={id}\r\n        ref={imgRef}\r\n        onLoad={() => getColorSongTemplate(id, index, imgRef)}\r\n      />\r\n      <div className=\"song-more-options font-1\">\r\n        <MoreOptions\r\n          trackItemRef={trackItemRef}\r\n          item={item}\r\n          isUsers={null}\r\n          playlistId={null}\r\n        />\r\n      </div>\r\n      <div id={id + index} className=\"cards-info\">\r\n        <div className=\"cards-left\">\r\n          <span className=\"sn\">{item.name}</span>\r\n\r\n          <span key={index} className=\"an\">\r\n            {item?.artists.map(\r\n              (artist, index) => (index ? ', ' : '') + artist.name\r\n            )}\r\n          </span>\r\n        </div>\r\n        <div className=\"cards-right\">\r\n          <MediumPlayButton\r\n            onClick={handlePlayingSong}\r\n            playing={playing}\r\n            isCurrent={isCurrent}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default SongCards;\r\n","import './skeleton.css';\r\nfunction SkeletonSongs() {\r\n  return (\r\n    <div>\r\n      <p className=\"skeleton-heading shimmer mb-0\"></p>\r\n      <div className=\"skeleton-trackholder\">\r\n        {Array(10)\r\n          .fill()\r\n          .map((x, i) => (\r\n            <div key={i} className=\"skeleton-cards shimmer\"></div>\r\n          ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default SkeletonSongs;\r\n","import '../styling/templates/trackholders.css';\r\nimport SongCards from './song-cards';\r\nimport SkeletonSongs from '../skeletons/skeletonSongs';\r\nimport { useRef } from 'react';\r\nimport ScrollSection from '../utils/scroll-button';\r\n\r\nfunction TrackHolders({ show, listName }) {\r\n  const holderRef = useRef();\r\n\r\n  return (\r\n    <div>\r\n      {!show && <SkeletonSongs />}\r\n      <p className=\"section-heading mb-0\" hidden={!show}>\r\n        {listName}\r\n      </p>\r\n      <ScrollSection>\r\n        <div className=\"trackholder\" ref={holderRef}>\r\n          {show?.map((item, index) => (\r\n            <SongCards\r\n              key={item?.track ? item.track?.id : item.id}\r\n              id={item?.track ? item.track?.id : item.id}\r\n              item={item.track ? item.track : item}\r\n              index={index}\r\n            />\r\n          ))}\r\n        </div>\r\n      </ScrollSection>\r\n    </div>\r\n  );\r\n}\r\nexport default TrackHolders;\r\n","import './skeleton.css';\r\nfunction SkeletonPlaylist() {\r\n  return (\r\n    <div className=\"d-flex flex-column\">\r\n      <p className=\"skeleton-heading shimmer mb-0\"></p>\r\n      <span className=\"skeleton-text shimmer\"></span>\r\n      <div className=\"skeleton-trackholder\">\r\n        {Array(10)\r\n          .fill()\r\n          .map((x, i) => (\r\n            <div\r\n              key={i}\r\n              className=\"d-flex flex-column align-items-start me-2 p-2\"\r\n            >\r\n              <div className=\"skeleton-playlist shimmer\"></div>\r\n              <span className=\"skeleton-text shimmer\"></span>\r\n            </div>\r\n          ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default SkeletonPlaylist;\r\n","\r\nimport { isFollowingPlaylist } from '../../store/actions/spotify-actions';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport useSpotify from '../../hooks/useSpotify';\r\nimport { setNotibar } from '../../store/actions/app-actions';\r\nimport ColorThief from '../../../../node_modules/colorthief/dist/color-thief.mjs';\r\nimport { setPlaylist } from '../../store/actions/library-actions';\r\nimport { useEffect, useState } from 'react';\r\nimport { getCorrectPath } from '../../utils/helperFunctions';\r\nimport { NavLink, useRouteMatch } from 'react-router-dom';\r\n\r\nfunction PlaylistCard({ item, index }) {\r\n\r\n    const spotify = useSpotify();\r\n    const dispatch = useDispatch();\r\n    const { user } = useSelector((state) => state.user);\r\n    const token = useSelector((state) => state.player.token);\r\n    const [following, setFollowing] = useState();\r\n\r\n    const { path } = useRouteMatch();\r\n    const getPath = getCorrectPath(path);\r\n\r\n    const id = item?.id;\r\n\r\n    const getColor = ({ id, index }) => {\r\n        const colorThief = new ColorThief();\r\n        const img = document.getElementById(id);\r\n        var color;\r\n        if (img.complete) {\r\n            color = colorThief.getColor(img);\r\n        } else {\r\n            img.addEventListener('load', function () {\r\n                color = colorThief.getColor(img);\r\n            });\r\n        }\r\n        document.getElementById(\r\n            id\r\n        ).style.boxShadow = `0 4px 5px rgb(${color[0]},${color[1]},${color[2]})`;\r\n\r\n        document.getElementById(id + index).style.background = `\r\n          rgba(${color[0]},${color[1]},${color[2]},1)\r\n        `;\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (!id || !spotify) return;\r\n        spotify\r\n            .getPlaylist(id)\r\n            .then((res) => {\r\n                setPlaylist({ info: res.body, tracks: res.body.tracks.items });\r\n                isFollowingPlaylist(token, res.body.id, user?.id)\r\n                    .then((res) => {\r\n                        setFollowing(res.data[0]);\r\n                    })\r\n                    .catch((err) => console.log(err));\r\n            })\r\n            .catch((err) => console.log(err));\r\n    }, [following]);\r\n\r\n    const follow = () => {\r\n        if (following) {\r\n            spotify.unfollowPlaylist(id).then(\r\n                function (data) {\r\n                    console.log('Playlist successfully unfollowed!');\r\n                    setFollowing(false);\r\n                    dispatch(setNotibar('Unfollowed Playlist!', true, 7000));\r\n                },\r\n                function (err) {\r\n                    console.log('Something went wrong!', err);\r\n                    dispatch(setNotibar('Error occured..', false, 7000));\r\n                }\r\n            );\r\n        } else {\r\n            spotify\r\n                .followPlaylist(id, {\r\n                    public: false,\r\n                })\r\n                .then(\r\n                    function (data) {\r\n                        dispatch(setNotibar('Started Following!!', true, 7000));\r\n                        setFollowing(true);\r\n                    },\r\n                    function (err) {\r\n                        console.log('Something went wrong!', err);\r\n                        dispatch(setNotibar('Error occured..', false, 7000));\r\n                    }\r\n                );\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"d-flex flex-column align-items-start me-4 p-2 text-decoration-none\">\r\n            <div className=\"playlist-cards\">\r\n                <NavLink\r\n                    to={{\r\n                        pathname: `${getPath}/playlist/${item.id}`,\r\n                    }}\r\n                    key={item.id}\r\n                >\r\n                    <img\r\n                        src={item?.images[0]?.url}\r\n                        alt={item?.name}\r\n                        crossOrigin=\"anonymous\"\r\n                        id={item.id}\r\n                        onLoad={() => getColor({ id: item.id, index: index })}\r\n                    />\r\n                    <span className=\"bp-name mt-2\">{item?.name}</span>\r\n                </NavLink>\r\n                <button className='playlist-follow-btn t-btn' onClick={follow}>\r\n                    {following ? <ion-icon id={item.id + index} name=\"checkmark-done-circle\" style={{ color: 'var(--background)' }}></ion-icon> : <ion-icon id={item.id + index} name=\"add-circle\" className='add-btn'></ion-icon>}\r\n                </button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default PlaylistCard;","import '../../styling/homeComponents/featuredPlaylist.css';\r\nimport SkeletonPlaylist from '../../skeletons/skeletonPlaylist';\r\nimport { useRef } from 'react';\r\nimport ScrollSection from '../../utils/scroll-button';\r\nimport PlaylistCard from './playlistCard';\r\nfunction FeaturedPlaylists({ show }) {\r\n  const holderRef = useRef();\r\n\r\n  return (\r\n    <div>\r\n      {!show && <SkeletonPlaylist />}\r\n      <p className=\"section-heading mb-0\">Featured Playlists</p>\r\n      <span style={{ color: 'var(--bp-name)', fontSize: '12px' }}>\r\n        {show?.message}\r\n      </span>\r\n      <ScrollSection>\r\n        <div className=\"cards-holder\" ref={holderRef}>\r\n          {show?.playlists?.items?.map((item, index) => (\r\n            <PlaylistCard key={index} item={item} index={index} />\r\n          ))}\r\n        </div>\r\n      </ScrollSection >\r\n    </div >\r\n  );\r\n}\r\nexport default FeaturedPlaylists;\r\n","import { NavLink, useLocation } from 'react-router-dom';\r\nimport '../../styling/homeComponents/categories.css';\r\nimport { useRef } from 'react';\r\nimport ScrollSection from '../../utils/scroll-button';\r\n\r\nfunction Categories({ categories }) {\r\n  const location = useLocation();\r\n  const routeTo = location.pathname === '/' ? '' : location.pathname;\r\n  const holderRef = useRef();\r\n\r\n  return (\r\n    <div>\r\n      <p className=\"section-heading mb-0\">Categories</p>\r\n      <ScrollSection>\r\n        <div className=\"cards-holder\" ref={holderRef}>\r\n          {categories?.items?.map((item, index) => (\r\n            <NavLink\r\n              to={{\r\n                pathname: `${routeTo}/category/${item?.id}`,\r\n              }}\r\n              className=\"d-flex flex-column align-items-center me-3 p-2 text-decoration-none hover-effect-cc\"\r\n              key={item.id}\r\n            >\r\n              <div className=\"category-cards\" id={item.id + index}>\r\n                <img\r\n                  src={item?.icons[0]?.url}\r\n                  alt={item?.name}\r\n                  crossOrigin=\"anonymous\"\r\n                  id={item.id}\r\n                //onLoad={() => getColor({ id: item.id, index: index })}\r\n                />\r\n              </div>\r\n              <span className=\"bp-name mt-2\">{item?.name}</span>\r\n            </NavLink>\r\n          ))}\r\n        </div>\r\n      </ScrollSection>\r\n    </div>\r\n  );\r\n}\r\nexport default Categories;\r\n","import NewReleases from '../templates/homeComponents/newReleasesLayout';\r\nimport TrackHolders from '../templates/trackholders';\r\nimport FeaturedPlaylists from '../templates/homeComponents/featuredPlaylist';\r\nimport Categories from '../templates/homeComponents/categories';\r\nimport { useEffect } from 'react';\r\nimport Artists from '../templates/artists';\r\nimport { getHome } from '../store/actions/spotify-actions';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nfunction Home() {\r\n  const {\r\n    mytoptracks,\r\n    myTopArtists,\r\n    featuredPlaylists,\r\n    categories,\r\n    bollywoodHits,\r\n    bollywoodNew,\r\n    newReleases,\r\n  } = useSelector((state) => state.library);\r\n  const token = useSelector((state) => state.player.token);\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    if (!token) return;\r\n    dispatch(getHome(token));\r\n  }, [token]);\r\n\r\n  return (\r\n    <div className=\"display-cut font-1\">\r\n      <NewReleases newReleases={newReleases} />\r\n      <TrackHolders show={mytoptracks} listName=\"My top tracks\" />\r\n      <Artists show={myTopArtists} listName=\"Top Artists\" />\r\n      <FeaturedPlaylists show={featuredPlaylists} />\r\n      {categories && <Categories categories={categories} />}\r\n      <TrackHolders show={bollywoodHits} listName={'Bollywood Hits'} />\r\n      <TrackHolders show={bollywoodNew} listName={'New Releases Bollywood'} />\r\n    </div>\r\n  );\r\n}\r\nexport default Home;\r\n","import '../styling/templates/playlist.css';\r\nimport ColorThief from '../../../node_modules/colorthief/dist/color-thief.mjs';\r\nimport { NavLink, useLocation } from 'react-router-dom';\r\nimport { useRef } from 'react';\r\nimport ScrollSection from '../utils/scroll-button';\r\nimport { getCorrectPath } from '../utils/helperFunctions';\r\nimport PlaylistCard from './homeComponents/playlistCard';\r\n\r\nfunction Playlists({ show, listName }) {\r\n  const location = useLocation();\r\n  const holderRef = useRef();\r\n\r\n  return (\r\n    <div>\r\n      <p className=\"section-heading mb-0\">{listName}</p>\r\n      <ScrollSection>\r\n        <div className=\"cards-holder\" ref={holderRef}>\r\n          {show?.map((item, index) => (\r\n            <PlaylistCard item={item} index={index} />\r\n          ))}\r\n        </div>\r\n      </ScrollSection>\r\n    </div>\r\n  );\r\n}\r\nexport default Playlists;\r\n","import { useEffect, useState } from 'react';\r\nimport Artists from '../templates/artists';\r\nimport Playlists from '../templates/playlist';\r\nimport TrackHolders from '../templates/trackholders';\r\nimport Album from '../templates/album';\r\nimport {\r\n  searchTracksByArtist,\r\n  spotifySearch,\r\n} from '../store/actions/spotify-actions';\r\n\r\nfunction SearchPage() {\r\n  const [searchstr, setSearchstr] = useState(\r\n    window.localStorage.getItem('searchstr')\r\n  );\r\n  const [sartist, setSartist] = useState();\r\n  const [salbums, setSAlbums] = useState();\r\n  const [stracks, setStracks] = useState();\r\n  const [splaylist, setSplaylist] = useState();\r\n  const [strackoartist, setStrackoartist] = useState();\r\n\r\n  function handleSearch(e) {\r\n    setSearchstr(e.target.value);\r\n    window.localStorage.setItem('searchstr', e.target.value);\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (searchstr) {\r\n      spotifySearch(searchstr)\r\n        .then((res) => {\r\n          const { albums, artists, playlists, tracks } = res.body;\r\n          setSAlbums(albums.items);\r\n          setStracks(tracks.items);\r\n          setSartist(artists.items);\r\n          setSplaylist(playlists.items);\r\n        })\r\n        .catch((err) => console.log(err));\r\n\r\n      // Search tracks whose artist's name contains searchstr\r\n      searchTracksByArtist(searchstr).then(\r\n        function (data) {\r\n          let songs = data.body.tracks.items;\r\n          setStrackoartist(songs);\r\n        },\r\n        function (err) {\r\n          console.log('Something went wrong!', err);\r\n        }\r\n      );\r\n    }\r\n  }, [searchstr]);\r\n\r\n  return (\r\n    <div className=\"display-cut\">\r\n      <div className=\"d-flex align-items-center justify-content-center py-4\">\r\n        <div className=\"search\">\r\n          <ion-icon name=\"search-outline\"></ion-icon>\r\n          <input\r\n            type=\"text\"\r\n            className=\"escapeEvent ms-2\"\r\n            value={searchstr}\r\n            onChange={(e) => handleSearch(e)}\r\n            placeholder=\"Artists, songs, playlists\"\r\n          />\r\n        </div>\r\n      </div>\r\n      {stracks && <TrackHolders show={stracks} listName={'Tracks'} />}\r\n      {salbums && <Album list={salbums} />}\r\n      {sartist && <Artists show={sartist} listName={'Artists'} />}\r\n      {splaylist && <Playlists show={splaylist} listName={'Playlist'} />}\r\n\r\n      {strackoartist && (\r\n        <TrackHolders\r\n          show={strackoartist}\r\n          listName={'Tracks by artists name'}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\nexport default SearchPage;\r\n","import { Route, Switch, useRouteMatch } from 'react-router';\r\nimport Artist from '../routes/artist';\r\nimport Playlist from '../routes/playlist';\r\nimport Album from '../routes/album';\r\nimport SearchPage from './search-page';\r\n\r\nfunction SearchRouter() {\r\n  let { path } = useRouteMatch();\r\n\r\n  return (\r\n    <>\r\n      <Switch>\r\n        <Route exact path={`${path}`}>\r\n          <SearchPage />\r\n        </Route>\r\n        <Route exact path=\"/app/search/artist/:id\" component={Artist} />\r\n        <Route\r\n          exact\r\n          path=\"/app/search/playlist/:id\"\r\n          component={Playlist}\r\n        ></Route>\r\n        <Route exact path=\"/app/search/album/:id\" component={Album}></Route>\r\n      </Switch>\r\n    </>\r\n  );\r\n}\r\nexport default SearchRouter;\r\n","import './skeleton.css';\r\n\r\nfunction SkeletonSPlaylist() {\r\n  return (\r\n    <div>\r\n      <p className=\"skeleton-heading shimmer mb-0\"></p>\r\n      <div className=\"library-cards-holder\">\r\n        {Array(12)\r\n          .fill()\r\n          .map((item, i) => (\r\n            <div\r\n              className=\"d-flex flex-column align-items-center me-2 p-2 text-decoration-none\"\r\n              key={i}\r\n            >\r\n              <div className=\"skeleton-library-playlist-cards shimmer\"></div>\r\n              <span className=\"skeleton-text w-100 shimmer\"></span>\r\n            </div>\r\n          ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default SkeletonSPlaylist;\r\n","import '../styling/templates/playlist.css';\r\nimport { NavLink, useLocation } from 'react-router-dom';\r\nimport SkeletonSPlaylist from '../skeletons/skeletonSPlaylist';\r\nimport { getImage } from '../utils/helperFunctions';\r\nfunction LibraryPlaylists({ show, listName }) {\r\n  const location = useLocation();\r\n  const routeTo = location.pathname;\r\n\r\n  return (\r\n    <div>\r\n      {!show && <SkeletonSPlaylist />}\r\n      <p className=\"section-heading mb-3\" hidden={!show}>\r\n        {listName}\r\n      </p>\r\n      <div className=\"library-cards-holder slidefrombottom\">\r\n        {show?.map((item, index) => (\r\n          <NavLink\r\n            to={{\r\n              pathname: `${routeTo}/playlist/${item.id}`,\r\n            }}\r\n            className=\"d-flex flex-column align-items-center me-2 p-2 text-decoration-none hover-effect-lc\"\r\n            key={item.id}\r\n          >\r\n            <div className=\"library-playlist-cards\" id={item.id + index}>\r\n              <img\r\n                src={getImage(item?.images, 'md')}\r\n                alt={item?.name}\r\n                crossOrigin=\"anonymous\"\r\n                id={item.id}\r\n              />\r\n            </div>\r\n            <span className=\"lp-name mt-2\">{item?.name}</span>\r\n          </NavLink>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default LibraryPlaylists;\r\n","import { Switch } from '@material-ui/core';\r\nimport { useState, useEffect, useRef } from 'react';\r\nimport AddCircleTwoToneIcon from '@material-ui/icons/AddCircleTwoTone';\r\nimport RemoveCircleTwoToneIcon from '@material-ui/icons/RemoveCircleTwoTone';\r\nimport useSpotify from '../hooks/useSpotify';\r\nimport { setNotibar } from '../store/actions/app-actions';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nfunction NewPlaylistForm({ setShowModal, setChanges }) {\r\n  const dispatch = useDispatch();\r\n  const spotify = useSpotify();\r\n  const [form, setForm] = useState({ pname: '', desc: '', public: true });\r\n  const [file, setFile] = useState(null);\r\n  const [preview, setPreview] = useState(null);\r\n  const [base64file, setBase64File] = useState(null);\r\n  const fileInputRef = useRef();\r\n\r\n  const fileType = ['image/png', 'image/jpeg'];\r\n  const handleFile = (e) => {\r\n    let pic = e.target.files[0];\r\n    if (pic && fileType.includes(pic.type) && pic.size < 263168) {\r\n      setFile(pic);\r\n      getBase64(pic, (result) => {\r\n        setBase64File(result);\r\n      });\r\n    } else {\r\n      setFile(null);\r\n    }\r\n  };\r\n\r\n  const getBase64 = (file, cb) => {\r\n    let reader = new FileReader();\r\n    reader.readAsDataURL(file);\r\n    reader.onload = function () {\r\n      cb(reader.result.split(',')[1]);\r\n    };\r\n    reader.onerror = function (error) {\r\n      console.log('Error: ', error);\r\n    };\r\n  };\r\n\r\n  const removeImage = () => {\r\n    setFile(null);\r\n    setPreview(null);\r\n  };\r\n\r\n  //console.log(base64file);\r\n\r\n  const createPlaylist = () => {\r\n    if (form.pname) {\r\n      // Create a private playlist\r\n      spotify\r\n        .createPlaylist(form.pname, {\r\n          description: form.desc,\r\n          public: form.public,\r\n        })\r\n        .then(\r\n          function (data) {\r\n            console.log('Created playlist!');\r\n            const playlistId = data.body.id;\r\n            if (base64file) {\r\n              // Upload a custom playlist cover image\r\n              spotify\r\n                .uploadCustomPlaylistCoverImage(playlistId, base64file)\r\n                .then(\r\n                  function (data) {\r\n                    console.log('Playlist cover image uploaded!');\r\n                    setShowModal(false);\r\n                  },\r\n                  function (err) {\r\n                    console.log('Something went wrong!', err);\r\n                  }\r\n                );\r\n            } else {\r\n              setShowModal(false);\r\n            }\r\n            dispatch(setNotibar('Playlist created! :)', true, 7000));\r\n            setChanges((prev) => ({ changes: !prev.changes }));\r\n          },\r\n          function (err) {\r\n            console.log('Something went wrong!', err);\r\n          }\r\n        );\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!file) {\r\n      setPreview(undefined);\r\n      return;\r\n    }\r\n    const objectUrl = URL.createObjectURL(file);\r\n    setPreview(objectUrl);\r\n    // free memory when ever this component is unmounted\r\n    return () => URL.revokeObjectURL(objectUrl);\r\n  }, [file]);\r\n\r\n  return (\r\n    <div className=\"playlist-form\">\r\n      <div className=\"pl-form-outer\">\r\n        <div className=\"upload-img-div\">\r\n          <input ref={fileInputRef} type=\"file\" onChange={handleFile} hidden />\r\n          <button\r\n            className=\"t-btn w-100\"\r\n            onClick={() => fileInputRef.current.click()}\r\n          >\r\n            <AddCircleTwoToneIcon fontSize=\"large\" />\r\n          </button>\r\n          {file && (\r\n            <div>\r\n              <img src={preview} className=\"uploaded-img\" alt=\"art-pic\" />\r\n            </div>\r\n          )}\r\n          {file && (\r\n            <button className=\"remove-img-btn\" onClick={removeImage}>\r\n              <RemoveCircleTwoToneIcon style={{ color: 'var(--main-theme)' }} />\r\n            </button>\r\n          )}\r\n        </div>\r\n        <div>\r\n          <div className=\"mb-2 d-flex justify-content-between\">\r\n            <label className=\"me-2\">Name:</label>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Playlist Name\"\r\n              className=\"escapeEvent\"\r\n              value={form.pname}\r\n              onChange={(e) => setForm({ ...form, pname: e.target.value })}\r\n            />\r\n          </div>\r\n          <div className=\"d-flex justify-content-between\">\r\n            <label>Description:</label>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Small description\"\r\n              className=\"escapeEvent\"\r\n              value={form.desc}\r\n              onChange={(e) => setForm({ ...form, desc: e.target.value })}\r\n            />\r\n          </div>\r\n          <div className=\"d-flex align-items-center mt-2\">\r\n            <label>Public:</label>\r\n            <Switch\r\n              checked={form.public}\r\n              onChange={() => setForm({ ...form, public: !form.public })}\r\n              color=\"secondary\"\r\n              size=\"small\"\r\n            />\r\n          </div>\r\n          <div className=\"d-flex justify-content-end mt-3\">\r\n            <button className=\"create-btn\" onClick={createPlaylist}>\r\n              CREATE\r\n            </button>\r\n            <button className=\"cancel-btn\" onClick={() => setShowModal(false)}>\r\n              CANCEL\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default NewPlaylistForm;\r\n","import axios from 'axios';\r\nimport { useEffect, useState } from 'react';\r\nimport ControlPointIcon from '@material-ui/icons/ControlPoint';\r\nimport LibraryPlaylists from '../templates/library-playlist';\r\nimport NewPlaylistForm from './new-playlist-form';\r\nimport { useSelector } from 'react-redux';\r\nimport { getMyPlaylists } from '../store/actions/spotify-actions';\r\n\r\nfunction LibraryPage() {\r\n  const [myplaylists, setMyplaylists] = useState();\r\n  const { token } = useSelector((state) => state.player);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [changes, setChanges] = useState(false);\r\n\r\n  useEffect(() => {\r\n    getMyPlaylists(token)\r\n      .then((res) => {\r\n        //console.log(res.data);\r\n        setMyplaylists(res.data.items);\r\n      })\r\n      .catch((err) => console.log(err));\r\n    axios\r\n      .get('https://api.spotify.com/v1/me/albums', {\r\n        headers: {\r\n          Authorization: 'Bearer ' + token,\r\n        },\r\n      })\r\n      .then((res) => {\r\n        //console.log(res.data);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }, [token, changes]);\r\n\r\n  return (\r\n    <div className=\"display-cut\">\r\n      <div className=\"d-flex justify-content-end\">\r\n        <button className=\"create-pl-btn\" onClick={() => setShowModal(true)}>\r\n          <ControlPointIcon />\r\n          <span className=\"mx-1 font-1\">Create Playlist</span>\r\n        </button>\r\n      </div>\r\n      {showModal && (\r\n        <NewPlaylistForm setShowModal={setShowModal} setChanges={setChanges} />\r\n      )}\r\n      <LibraryPlaylists show={myplaylists} listName={'My playlists'} />\r\n    </div>\r\n  );\r\n}\r\nexport default LibraryPage;\r\n","import Artist from '../routes/artist';\r\nimport Playlist from '../routes/playlist';\r\nimport Album from '../routes/album';\r\nimport { Route, Switch, useRouteMatch } from 'react-router';\r\nimport LibraryPage from './library-page';\r\n\r\nfunction LibraryRouter() {\r\n  let { path } = useRouteMatch();\r\n  return (\r\n    <>\r\n      <Switch>\r\n        <Route exact path={`${path}`}>\r\n          <LibraryPage />\r\n        </Route>\r\n        <Route\r\n          exact\r\n          path={`${path}/playlist/:id`}\r\n          render={(props) => <Playlist {...props} />}\r\n        />\r\n        <Route path={`${path}/artist/:id`} component={Artist}></Route>\r\n        <Route path={`${path}/album/:id`} component={Album}></Route>\r\n      </Switch>\r\n    </>\r\n  );\r\n}\r\nexport default LibraryRouter;\r\n","const min = {\r\n  type0: {\r\n    color: 'rgba(0, 255, 127, 1)',\r\n    background: 'rgba(0, 255, 127, 0.3)',\r\n    width: '25',\r\n    name: 'Standard',\r\n  },\r\n  type1: {\r\n    color: 'rgba(0, 255, 127, 1)',\r\n    background: 'rgba(59, 250, 118,0.5)',\r\n    width: '50',\r\n    name: 'Classic',\r\n  },\r\n  type2: {\r\n    color: 'rgba(0, 255, 127, 1)',\r\n    background: 'rgba(34, 249, 93, 0.7)',\r\n    width: '75',\r\n    name: 'Flying Arc',\r\n  },\r\n  type3: {\r\n    color: 'rgba(0, 255, 127, 1)',\r\n    background: 'rgba(34, 249, 93, 0.7)',\r\n    width: '100',\r\n    name: 'Island',\r\n  },\r\n};\r\nconst max = {\r\n  type0: {\r\n    color: 'rgba(0, 255, 255,1)',\r\n    background: 'rgba(0, 255, 255,0.2)',\r\n    width: '25',\r\n    name: 'Standard',\r\n  },\r\n  type1: {\r\n    color: 'rgba(0, 255, 255,1)',\r\n    background: 'rgba(0, 255, 255,0.4)',\r\n    width: '50',\r\n    name: 'Classic',\r\n  },\r\n  type2: {\r\n    color: 'rgba(0, 200, 255,1)',\r\n    background: 'rgba(0, 200, 255,0.6)',\r\n    width: '75',\r\n    name: 'The Loop',\r\n  },\r\n  type3: {\r\n    color: 'rgba(0, 200, 255,1)',\r\n    background: 'rgba(0, 200, 255,0.8)',\r\n    width: '100',\r\n    name: 'Standard Arcs',\r\n  },\r\n};\r\nconst themes = [\r\n  {\r\n    color: 'rgba(0, 255, 127, 1)',\r\n    theme: 'rgba(0, 255, 127,0.9)',\r\n    themeBG: 'rgba(0, 255, 127,0.75)',\r\n    themeBGLite: 'rgba(0, 255, 127,0.1)',\r\n    width: '33',\r\n    name: '#00FF7F',\r\n  },\r\n  {\r\n    color: 'rgba(21, 244, 238, 1)',\r\n    theme: 'rgba(21, 244, 238,0.9)',\r\n    themeBG: 'rgba(21, 244, 238,0.75)',\r\n    themeBGLite: 'rgba(21, 244, 238,0.1)',\r\n    width: '100',\r\n    name: '#15F4EE',\r\n  },\r\n];\r\nconst sideBar = {\r\n  type0: {\r\n    color: 'rgba(227, 115, 131, 1)',\r\n    background: 'rgba(227, 115, 131, 0.2)',\r\n    width: '50',\r\n    name: 'Standard',\r\n  },\r\n  type1: {\r\n    color: 'rgba(252, 137, 172, 1)',\r\n    background: 'rgba(252, 137, 172, 0.4)',\r\n    width: '100',\r\n    name: 'Classic',\r\n  },\r\n}\r\nconst cp = [\r\n  { type: 'Black/dark', cp: false },\r\n  { type: 'colorpalette', cp: true },\r\n];\r\n\r\nconst islandConstants = [{ value: 'Play/Pause', use: 'playPause' },\r\n{ value: 'Play Next', use: 'skipNext' },\r\n{ value: 'Play Previous', use: 'skipPrevious' }\r\n];\r\nconst islandLongPressConstant = [\r\n  { value: 'YouTube', use: 'handleSwitch' },\r\n  { value: 'Maximise Player', use: 'maxPlayer' },\r\n];\r\nconst islandPositionSettings = [{ value: 'Top Mid', class: 'island-tm' },\r\n{ value: 'Bottom Mid', class: 'island-bm' }];\r\n\r\nconst homeSliderConstants = [{ value: 'Coverflow' },\r\n{ value: 'Cards' },\r\n];\r\n\r\nconst notibarSettings = [{ value: 'Torch' }, { value: 'Standard' }];\r\nconst notibarPositionSettings = [{ value: 'Top Mid', class: 'notibar-tm' },\r\n{ value: 'Top Left', class: 'notibar-tl' },\r\n{ value: 'Top Right', class: 'notibar-tr' },\r\n{ value: 'Bottom Mid', class: 'notibar-bm' },\r\n{ value: 'Bottom Left', class: 'notibar-bl' },\r\n{ value: 'Bottom Right', class: 'notibar-br' }];\r\n\r\nexport {\r\n  min,\r\n  max,\r\n  sideBar,\r\n  themes,\r\n  cp,\r\n  islandConstants,\r\n  islandLongPressConstant,\r\n  homeSliderConstants,\r\n  islandPositionSettings,\r\n  notibarSettings,\r\n  notibarPositionSettings,\r\n};\r\n","import { FormControlLabel, styled, Switch } from \"@material-ui/core\";\r\n\r\nconst Custom = styled((props) => (\r\n    <Switch focusVisibleClassName=\".Mui-focusVisible\" disableRipple {...props} />\r\n))(({ theme }) => ({\r\n    width: 42,\r\n    height: 26,\r\n    padding: 0,\r\n    '& .MuiSwitch-switchBase': {\r\n        padding: 0,\r\n        margin: 2,\r\n        transitionDuration: '300ms',\r\n        '&.Mui-checked': {\r\n            transform: 'translateX(16px)',\r\n            color: '#fff',\r\n            '& + .MuiSwitch-track': {\r\n                backgroundColor: 'var(--main-theme)',\r\n                opacity: 1,\r\n                border: 0,\r\n            },\r\n            '&.Mui-disabled + .MuiSwitch-track': {\r\n                opacity: 0.5,\r\n            },\r\n        },\r\n        '&.Mui-focusVisible .MuiSwitch-thumb': {\r\n            color: '#33cf4d',\r\n            border: '6px solid #fff',\r\n        },\r\n        '&.Mui-disabled .MuiSwitch-thumb': {\r\n            color:\r\n                theme.palette.mode === 'light'\r\n                    ? theme.palette.grey[100]\r\n                    : theme.palette.grey[600],\r\n        },\r\n        '&.Mui-disabled + .MuiSwitch-track': {\r\n            opacity: theme.palette.mode === 'light' ? 0.7 : 0.3,\r\n        },\r\n    },\r\n    '& .MuiSwitch-thumb': {\r\n        boxSizing: 'border-box',\r\n        width: 22,\r\n        height: 22,\r\n    },\r\n    '& .MuiSwitch-track': {\r\n        borderRadius: 26 / 2,\r\n        backgroundColor: theme.palette.mode === 'light' ? '#E9E9EA' : '#39393D',\r\n        opacity: 1,\r\n        transition: theme.transitions.create(['background-color'], {\r\n            duration: 500,\r\n        }),\r\n    },\r\n}));\r\nfunction CustomSwitch({ currentValue, handleChange }) {\r\n    return (\r\n        <FormControlLabel\r\n            control={<Custom sx={{ m: 1 }} checked={currentValue ? currentValue : false} onClick={handleChange} />}\r\n        />\r\n    )\r\n}\r\n\r\nexport default CustomSwitch;","import { useState } from 'react';\r\nimport '../../styling/settings.css';\r\nimport { setVCLang } from '../../store/actions/player-actions';\r\nimport { setAlbumBG, toggleDarkMode } from '../../store/actions/app-actions';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport CustomSwitch from '../../utils/CustomSwitch';\r\n\r\nfunction OtherSettings() {\r\n  const dispatch = useDispatch();\r\n  const vcLang = useSelector((state) => state.player.vcLang);\r\n  const albumBackground = useSelector((state) => state.app.albumBackground);\r\n  const darkMode = useSelector((state) => state.app.darkMode);\r\n  const [lang, setLang] = useState(vcLang);\r\n\r\n  const languages = [\r\n    'en-IN/(English India)',\r\n    'en-US/(English US)',\r\n    'en-GB/(English UK)',\r\n    'en-IE/(English Ireland)',\r\n  ];\r\n\r\n  const handleChange = (event) => {\r\n    setLang(event.target.value);\r\n    const getLang = event.target.value.split('/')[0];\r\n    dispatch(setVCLang(getLang));\r\n  };\r\n\r\n  const handleAlbumBG = () => {\r\n    dispatch(setAlbumBG(!albumBackground));\r\n  };\r\n  return (\r\n    <div className='other-setting-outer'>\r\n      <div className='m-auto'>\r\n        <div className=\"other-settings vc-settings d-none\">\r\n          <label className=\"section-heading mb-2 me-3\" htmlFor=\"vc-lang\">\r\n            Voice command language\r\n          </label>\r\n          <div className=\"custom-select-2\">\r\n            <select name=\"vc-lang\" value={lang} onChange={handleChange}>\r\n              {languages.map((lang, i) => (\r\n                <option value={lang} key={i}>\r\n                  {lang}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n        </div>\r\n        <div className=\"other-settings\">\r\n          <span className=\"section-heading mb-2 me-3\">\r\n            Current song background\r\n          </span>\r\n          <CustomSwitch currentValue={albumBackground} handleChange={handleAlbumBG} />\r\n\r\n        </div>\r\n        <div className=\"other-settings\">\r\n          <span className=\"section-heading mb-2 me-3\">Dark Mode</span>\r\n          <CustomSwitch currentValue={darkMode} handleChange={() => dispatch(toggleDarkMode())} />\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default OtherSettings;\r\n","function CustomDigitInput({ id, handleOp, min, max, step, value }) {\r\n    const handleChange = (e) => {\r\n        let input = document.getElementById(id);\r\n        let minimum = input.getAttribute(\"min\");\r\n        let maximum = input.getAttribute(\"max\");\r\n        let step = parseFloat(input.getAttribute(\"step\"));\r\n        let val = parseFloat(input.getAttribute(\"value\"));\r\n\r\n        if (e.target.className === 'increment') {\r\n            let newValue = val + step;\r\n            if (newValue >= minimum && newValue <= maximum)\r\n                handleOp(newValue);\r\n        } else if (e.target.className === 'decrement') {\r\n            let newValue = val - step;\r\n            if (newValue >= minimum && newValue <= maximum)\r\n                handleOp(newValue);\r\n        }\r\n    }\r\n    return (\r\n        <div className='digit-input-container'>\r\n            <button className=\"decrement\" onClick={handleChange}> - </button>\r\n            <input className='digit-input' type=\"number\" min={min} max={max} step={step} value={value || 0} id={id} readOnly />\r\n            <button className=\"increment\" onClick={handleChange}> + </button>\r\n        </div>\r\n    )\r\n}\r\nexport default CustomDigitInput;","import { useDispatch, useSelector } from \"react-redux\";\r\nimport { setAppBackground, setAppBackgroundBlur, setNotibar } from \"../../store/actions/app-actions\";\r\nimport DoneIcon from '@material-ui/icons/Done';\r\nimport OtherSettings from \"./otherSettings\";\r\nimport CustomDigitInput from \"../../utils/CustomDigitInput\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport { deleteUserBackground, getUserBackgrounds, uploadFileAppBackground } from \"../../firebase/handlers\";\r\n\r\nfunction AppBackground() {\r\n    const dispatch = useDispatch();\r\n    const [userBackgounds, setUserBackgrounds] = useState(null);\r\n    const [progress, setProgress] = useState(0);\r\n    const fileInputRef = useRef();\r\n    const { user } = useSelector((state) => state.user);\r\n    const { darkMode, appBackground, appBackgroundBlur } = useSelector((state) => state.app);\r\n    const bgType = darkMode ? 'bgd' : 'bgl';\r\n\r\n    const handleBlur = (blur) => {\r\n        dispatch(setAppBackgroundBlur(blur));\r\n    }\r\n\r\n    const showNotibar = (message, result) => {\r\n        dispatch(setNotibar(message, result, 7000));\r\n        setProgress(0);\r\n        getUserBackgrounds({ userId: user.id, setData: setUserBackgrounds });\r\n    }\r\n\r\n    const handleFile = (e) => {\r\n        let file = (e.target.files[0]);\r\n        if (file && user) {\r\n            uploadFileAppBackground(file, user.id, showNotibar, setProgress);\r\n        }\r\n    }\r\n    const handleDelete = (item, index) => {\r\n        if (!user) return;\r\n        if (appBackground === item.link)\r\n            dispatch(setAppBackground(''));\r\n        deleteUserBackground(item, user.id, showNotibar);\r\n        userBackgounds.splice(index, 1);\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (!user) return;\r\n        getUserBackgrounds({ userId: user.id, setData: setUserBackgrounds });\r\n    }, [user])\r\n\r\n    return (\r\n        <div className='inner-sets' style={{ flexDirection: 'column' }}>\r\n            <div className=\"bg-p-outer\">\r\n                <input ref={fileInputRef} type=\"file\" onChange={handleFile} hidden />\r\n                <div className=\"bg-circle-add\"\r\n                    onClick={() => !progress && fileInputRef.current.click()}\r\n                >\r\n                    <svg width=\"60\" height=\"60\" viewBox=\"0 0 60 60\">\r\n                        <circle\r\n                            cx=\"30\"\r\n                            cy=\"30\"\r\n                            r=\"30\"\r\n                            style={{\r\n                                strokeDasharray: 6.2831 * 30,\r\n                                strokeDashoffset: 6.2831 * 30 * (1 - progress),\r\n                            }}\r\n                        ></circle>\r\n                    </svg>\r\n                    {progress ? <ion-icon style={{ color: 'var(--main-theme)', width: '50%', height: '50%' }} name=\"cloud-upload-outline\"></ion-icon> : <ion-icon name=\"add-circle\"></ion-icon>}\r\n\r\n                </div>\r\n                <div\r\n                    className=\"bg-circle\"\r\n                    onClick={() => dispatch(setAppBackground(darkMode ? `` : '/abstract.jpg'))}\r\n                    style={{ background: darkMode ? `black` : 'white', backgroundImage: !darkMode && `url(/abstract.jpg)` }}\r\n                >\r\n                    <DoneIcon\r\n                        style={{\r\n                            display: (darkMode ? appBackground !== '' : appBackground !== '/abstract.jpg') && 'none',\r\n                            color: 'var(--main-theme)',\r\n                            background: 'black',\r\n                            borderRadius: '50%'\r\n                        }}\r\n                        fontSize=\"small\"\r\n                    />\r\n                </div>\r\n                {userBackgounds?.map((pic, i) => (\r\n                    <div className=\"bg-circle-outer\"\r\n                    >\r\n                        <div\r\n                            className=\"bg-circle\"\r\n                            onClick={() => dispatch(setAppBackground(pic.link))}\r\n                            key={i}\r\n                            style={{\r\n                                backgroundImage: `url(${pic.link})`,\r\n                                width: appBackground === pic.link ? '80px' : '',\r\n                                height: appBackground === pic.link ? '80px' : '',\r\n                                minWidth: appBackground === pic.link ? '80px' : '',\r\n                            }}\r\n                        >\r\n                            <DoneIcon\r\n                                style={{\r\n                                    display: appBackground !== pic.link && 'none',\r\n                                    color: 'var(--main-theme)',\r\n                                    background: 'black',\r\n                                    borderRadius: '50%',\r\n                                }}\r\n                                fontSize=\"small\"\r\n                            />\r\n                        </div>\r\n                        <button className=\"delete-bg-btn t-btn\" onClick={() => handleDelete(pic, i)}>\r\n                            <ion-icon name=\"remove-circle\"></ion-icon>\r\n                        </button>\r\n                    </div>\r\n                ))}\r\n                {Array(darkMode ? 25 : 7)\r\n                    .fill()\r\n                    .map((c, i) => (\r\n                        <div\r\n                            className=\"bg-circle\"\r\n                            onClick={() => dispatch(setAppBackground(`/${bgType}${i + 1}.jpg`))}\r\n                            key={i}\r\n                            style={{\r\n                                backgroundImage: `url(/${bgType}${i + 1}.jpg)`,\r\n                                width: appBackground === `/${bgType}${i + 1}.jpg` ? '80px' : '',\r\n                                height: appBackground === `/${bgType}${i + 1}.jpg` ? '80px' : '',\r\n                                minWidth: appBackground === `/${bgType}${i + 1}.jpg` ? '80px' : '',\r\n                            }}\r\n                        >\r\n                            <DoneIcon\r\n                                style={{\r\n                                    display: appBackground !== `/${bgType}${i + 1}.jpg` && 'none',\r\n                                    color: 'var(--main-theme)',\r\n                                    background: 'black',\r\n                                    borderRadius: '50%',\r\n                                }}\r\n                                fontSize=\"small\"\r\n                            />\r\n                        </div>\r\n                    ))}\r\n            </div>\r\n            <OtherSettings />\r\n            <div className=\"inner-sets-outer\">\r\n                <div className=\"inner-sets mt-3\">\r\n                    <p className=\"section-heading\">\r\n                        Background Blur\r\n                    </p>\r\n                    <CustomDigitInput id=\"digit-input-blur\" handleOp={handleBlur} min={0} max={10} step={1} value={appBackgroundBlur} />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AppBackground;","import RadioTwoToneIcon from '@material-ui/icons/RadioTwoTone';\r\nimport LibraryMusicTwoToneIcon from '@material-ui/icons/LibraryMusicTwoTone';\r\nimport Apps from '@material-ui/icons/Apps';\r\nimport CheckCircleOutline from '@material-ui/icons/CheckCircleOutline';\r\nimport DoneIcon from '@material-ui/icons/Done';\r\nimport PaletteTwoToneIcon from '@material-ui/icons/PaletteTwoTone';\r\nimport { min, max, sideBar, themes, cp } from './settingConstants';\r\nimport { useRef, useState } from 'react';\r\nimport '../../styling/settings.css';\r\nimport {\r\n  setSideBarType,\r\n  setMaxType,\r\n  setMinType,\r\n  setTheme,\r\n} from '../../store/actions/player-actions';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { toggleColorPalette } from '../../store/actions/app-actions';\r\nimport { handleThemeChange } from '../../utils/helperFunctions';\r\nimport AppBackground from './appBackground';\r\n\r\nfunction Appearance() {\r\n  const dispatch = useDispatch();\r\n  const { minplayertype, maxplayertype, sideBartype, theme } = useSelector(\r\n    (state) => state.player\r\n  );\r\n  const { darkMode, colorpalette } = useSelector((state) => state.app);\r\n  const [customColor, setCustomColor] = useState(\r\n    JSON.parse(window.localStorage.getItem('customtheme'))\r\n  );\r\n  const pickerRef = useRef();\r\n\r\n  const handleSelection = (type, setts, op) => {\r\n    var inSetts = (type + op) % Object.keys(setts).length === 0 ? 0 : type + op;\r\n    inSetts = inSetts < 0 ? 0 : inSetts;\r\n    switch (setts) {\r\n      case min:\r\n        dispatch(setMinType(inSetts));\r\n        break;\r\n      case max:\r\n        dispatch(setMaxType(inSetts));\r\n        break;\r\n      case sideBar:\r\n        dispatch(setSideBarType(inSetts));\r\n        break;\r\n      default:\r\n        console.log('Selection error');\r\n        break;\r\n    }\r\n    inSetts = 0;\r\n  }\r\n\r\n  function handleTheme(hex) {\r\n    handleThemeChange(hex);\r\n    dispatch(setTheme(hex));\r\n  }\r\n  const handleCustomTheme = (hex) => {\r\n    handleTheme(hex);\r\n    setCustomColor(hex);\r\n    window.localStorage.setItem('customtheme', JSON.stringify(hex));\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        <hr />\r\n        <p className=\"section-heading mb-0\">Appearance</p>\r\n        <hr />\r\n        <div className=\"btn-settings-holder\">\r\n          <div className=\"btn-settings\">\r\n            <span\r\n              style={{\r\n                color: darkMode ? min['type' + minplayertype].color : 'black',\r\n              }}\r\n            >\r\n              <RadioTwoToneIcon className=\"me-2\" />\r\n              Mini Player\r\n            </span>\r\n            <span style={{ color: 'var(--text-primary)' }}>\r\n              {min['type' + minplayertype].name}\r\n            </span>\r\n            <div\r\n              className=\"btn-settings-slider\"\r\n              style={{\r\n                background: `linear-gradient(to right,${min['type' + minplayertype].background} ${min['type' + minplayertype].width}%, transparent ${100 - min['type' + minplayertype].width}%)`\r\n              }}\r\n            >\r\n              <button\r\n                onClick={() => handleSelection(minplayertype, min, -1)}\r\n              ><ion-icon name=\"chevron-back-outline\" style={{ color: min['type' + minplayertype].color }}></ion-icon></button>\r\n              <button\r\n                onClick={() => handleSelection(minplayertype, min, +1)}\r\n              ><ion-icon name=\"chevron-forward-outline\" style={{ color: min['type' + minplayertype].color }}></ion-icon></button>\r\n            </div>\r\n          </div>\r\n          <div className=\"btn-settings\">\r\n            <span\r\n              style={{\r\n                color: darkMode ? max['type' + maxplayertype].color : 'black',\r\n              }}\r\n            >\r\n              <LibraryMusicTwoToneIcon className=\"me-2\" />\r\n              Max Player\r\n            </span>\r\n            <span style={{ color: 'var(--text-primary)' }}>\r\n              {max['type' + maxplayertype].name}\r\n            </span>\r\n            <div\r\n              className=\"btn-settings-slider\"\r\n              style={{\r\n                background: `linear-gradient(to right,${max['type' + maxplayertype].background} ${max['type' + maxplayertype].width}%, transparent ${100 - max['type' + maxplayertype].width}%)`\r\n\r\n              }}\r\n            >\r\n              <button\r\n                onClick={() => handleSelection(maxplayertype, max, -1)}\r\n              ><ion-icon name=\"chevron-back-outline\" style={{ color: max['type' + maxplayertype].color }}></ion-icon></button>\r\n              <button\r\n                onClick={() => handleSelection(maxplayertype, max, +1)}\r\n              ><ion-icon name=\"chevron-forward-outline\" style={{ color: max['type' + maxplayertype].color }}></ion-icon></button>\r\n            </div>\r\n          </div>\r\n          <div className=\"btn-settings\">\r\n            <span\r\n              style={{\r\n                color: darkMode ? sideBar['type' + sideBartype].color : 'black',\r\n              }}\r\n            >\r\n              <Apps className=\"me-2\" />\r\n              App Bar\r\n            </span>\r\n            <span style={{ color: 'var(--text-primary)' }}>\r\n              {sideBar['type' + sideBartype].name}\r\n            </span>\r\n            <div\r\n              className=\"btn-settings-slider\"\r\n              style={{\r\n                background: `linear-gradient(to right,${sideBar['type' + sideBartype].background} ${sideBar['type' + sideBartype].width}%, transparent ${100 - sideBar['type' + sideBartype].width}%)`\r\n              }}\r\n            >\r\n              <button\r\n                onClick={() => handleSelection(sideBartype, sideBar, -1)}\r\n              ><ion-icon name=\"chevron-back-outline\" style={{ color: sideBar['type' + sideBartype].color }}></ion-icon></button>\r\n              <button\r\n                onClick={() => handleSelection(sideBartype, sideBar, +1)}\r\n              ><ion-icon name=\"chevron-forward-outline\" style={{ color: sideBar['type' + sideBartype].color }}></ion-icon></button>\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n\r\n      <div\r\n        className=\"btn-settings themer\"\r\n        style={{\r\n          border: 'none',\r\n        }}\r\n      >\r\n        <span className=\"section-heading my-2\">\r\n          <PaletteTwoToneIcon className=\"me-2\" />\r\n          Theme\r\n        </span>\r\n        <div><span className='color-info'>{customColor ? customColor : theme}</span><CheckCircleOutline style={{ color: theme }} /></div>\r\n        <div className=\"custom-radio mt-1\">\r\n          {themes.map((inside, index) => (\r\n            <div\r\n              className={'fake-radio'}\r\n              style={{\r\n                background: themes[index].color,\r\n              }}\r\n              key={index}\r\n              onClick={() => handleTheme(themes[index].name)}\r\n            >\r\n              <DoneIcon\r\n                style={{\r\n                  color:\r\n                    theme === themes[index].name\r\n                      ? 'var(--background)'\r\n                      : 'transparent',\r\n                }}\r\n                fontSize=\"small\"\r\n              />\r\n            </div>\r\n          ))}\r\n          <div\r\n            className={(customColor ? '' : 'mix-colors') + ' fake-radio'}\r\n            style={{ background: customColor }}\r\n            onClick={() => pickerRef.current.click()}\r\n          >\r\n            <input\r\n              type=\"color\"\r\n              ref={pickerRef}\r\n              onChange={(e) => handleCustomTheme(e.target.value)}\r\n              value={customColor || 'undefined'}\r\n              hidden\r\n            />\r\n            <DoneIcon\r\n              style={{\r\n                color:\r\n                  customColor === theme ? 'var(--background)' : 'transparent',\r\n              }}\r\n              fontSize=\"small\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div>\r\n        <hr />\r\n        <p className=\"section-heading mb-0\">App Background</p>\r\n        <hr />\r\n        <AppBackground />\r\n      </div>\r\n      <div>\r\n        <hr />\r\n        <p className=\"section-heading mb-0\">Color pallete</p>\r\n        <hr />\r\n        <div className=\"color-p-outer\">\r\n          {cp.map((c, i) => (\r\n            <div\r\n              className=\"cp-circle\"\r\n              onClick={() => dispatch(toggleColorPalette(cp[i].cp))}\r\n              key={i}\r\n            >\r\n              <DoneIcon\r\n                style={{\r\n                  display: colorpalette !== cp[i].cp && 'none',\r\n                }}\r\n                fontSize=\"small\"\r\n              />\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default Appearance;\r\n","import { useDispatch, useSelector } from 'react-redux';\r\nimport { setFont } from '../../store/actions/player-actions';\r\nimport '../../styling/settings.css';\r\n\r\nfunction SelectFont() {\r\n  const dispatch = useDispatch();\r\n  const appFont = useSelector((state) => state.player.font);\r\n  const fonts = [\r\n    \"'Shadows Into Light', cursive\",\r\n    \"'Poppins', sans-serif\",\r\n    \"'Cookie', cursive\",\r\n    \"'Poiret One', cursive\",\r\n    \" 'Raleway', sans-serif\",\r\n    \"'Roboto', sans-serif\",\r\n  ];\r\n  const styles = getComputedStyle(document.documentElement);\r\n\r\n  const handleChange = (font) => {\r\n    dispatch(setFont(font));\r\n  };\r\n  const equalFonts = (font) => {\r\n    return appFont === font;\r\n  };\r\n  return (\r\n    <>\r\n      <hr />\r\n      <p className=\"section-heading mb-0\">Font</p>\r\n      <hr />\r\n      <div className='inner-sets'>\r\n        <div className=\"font-container mt-3\">\r\n          {fonts.map((font, i) => (\r\n            <div\r\n              className=\"font-select\"\r\n              key={i}\r\n              style={{\r\n                border: equalFonts(font)\r\n                  ? '2px solid var(--main-theme)'\r\n                  : '1px solid grey',\r\n                color: equalFonts(font) ? 'var(--main-theme)' : 'grey',\r\n              }}\r\n              onClick={() => handleChange(font)}\r\n            >\r\n              <span style={{ fontFamily: font }}>Aa</span>\r\n              <span style={{ fontFamily: font }}>abc</span>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\nexport default SelectFont;\r\n","import { useDispatch, useSelector } from \"react-redux\";\r\nimport { setHeaderInvert, setHeaderPos, setHeaderHide, setHeaderCollapse } from \"../../store/actions/app-actions\";\r\nimport CustomSwitch from \"../../utils/CustomSwitch\";\r\n\r\nfunction HeaderSettings() {\r\n    const dispatch = useDispatch();\r\n    const { headerPos, headerInvert, headerHide, headerCollapse } = useSelector((state) => state.app);\r\n\r\n    return (\r\n        <>\r\n            <hr />\r\n            <p className=\"section-heading mb-0\">Header Settings</p>\r\n            <hr />\r\n            <div className=\"inner-sets-outer\">\r\n                <div>\r\n                    <div className=\"inner-sets mt-3\">\r\n                        <p className=\"section-heading\">\r\n                            Invert Header icons\r\n                        </p>\r\n                        <CustomSwitch currentValue={headerInvert} handleChange={() => dispatch(setHeaderInvert(!headerInvert))} />\r\n                    </div>\r\n                    <div className=\"inner-sets mt-3\">\r\n                        <p className=\"section-heading\">\r\n                            Hide Header\r\n                        </p>\r\n                        <CustomSwitch currentValue={headerHide} handleChange={() => dispatch(setHeaderHide(!headerHide))} />\r\n                    </div>\r\n                    <div className=\"inner-sets mt-3\">\r\n                        <p className=\"section-heading\">\r\n                            Collapse on Scroll\r\n                        </p>\r\n                        <CustomSwitch currentValue={headerCollapse} handleChange={() => dispatch(setHeaderCollapse(!headerCollapse))} />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\nexport default HeaderSettings;","import { FormControl, makeStyles, MenuItem, Select } from \"@material-ui/core\";\r\n\r\n\r\n\r\nconst useStyles = makeStyles(() => ({\r\n    formControl: {\r\n        \"& .MuiInputBase-root\": {\r\n            color: \"var(--main-theme)\",\r\n            borderColor: \"rgba(191, 191, 191,0.2)\",\r\n            border: 0,\r\n            borderWidth: \"1px\",\r\n            borderStyle: \"solid\",\r\n            borderRadius: \"5px\",\r\n            minWidth: \"170px\",\r\n            justifyContent: \"center\"\r\n        },\r\n        \"& .MuiSelect-select.MuiSelect-select\": {\r\n            paddingRight: \"0px\"\r\n        }\r\n    },\r\n    select: {\r\n        width: \"auto\",\r\n        fontFamily: 'var(--font)',\r\n        fontWeight: 'bolder',\r\n        letterSpacing: '1px',\r\n        fontSize: \"12px\",\r\n        \"&:focus\": {\r\n            backgroundColor: \"transparent\"\r\n        }\r\n    },\r\n    selectIcon: {\r\n        color: \"var(--main-theme)\",\r\n    },\r\n    paper: {\r\n        borderRadius: 2,\r\n        marginTop: 4,\r\n        background: 'rgb(24,24,24)',\r\n        color: 'white'\r\n    },\r\n    list: {\r\n        paddingTop: 0,\r\n        paddingBottom: 0,\r\n        \"& li\": {\r\n            fontWeight: 200,\r\n            paddingTop: 4,\r\n            paddingBottom: 4,\r\n            fontSize: \"12px\",\r\n            fontFamily: 'var(--font)',\r\n            fontWeight: 'bolder',\r\n            letterSpacing: '1px',\r\n            minWidth: \"170px\",\r\n        },\r\n        \"& li.Mui-selected\": {\r\n            color: \"var(--background)\",\r\n            background: \"var(--main-theme)\"\r\n        },\r\n        \"& li.Mui-selected:hover\": {\r\n            color: 'white',\r\n            background: 'grey'\r\n        }\r\n    }\r\n}));\r\n\r\n\r\nfunction CustomDropDown({ settName, settConstants, currentValue, handleChange }) {\r\n\r\n    const classes = useStyles();\r\n    const menuProps = {\r\n        classes: {\r\n            list: classes.list,\r\n            paper: classes.paper\r\n        },\r\n        anchorOrigin: {\r\n            vertical: \"bottom\",\r\n            horizontal: \"center\"\r\n        },\r\n        transformOrigin: {\r\n            vertical: \"top\",\r\n            horizontal: \"center\"\r\n        },\r\n        getContentAnchorEl: null\r\n    };\r\n    return (\r\n        <FormControl variant=\"standard\" className={classes.formControl}>\r\n            <Select\r\n                value={settConstants[currentValue]?.value}\r\n                name={settName}\r\n                onChange={handleChange}\r\n                classes={{\r\n                    select: classes.select,\r\n                    icon: classes.selectIcon\r\n                }}\r\n                MenuProps={menuProps}\r\n            >\r\n                {settConstants.map((item, index) => (\r\n                    <MenuItem key={index} value={item.value}>{item.value}</MenuItem>\r\n                ))}\r\n            </Select>\r\n        </FormControl>\r\n    )\r\n}\r\nexport default CustomDropDown;","import { useDispatch, useSelector } from 'react-redux';\r\nimport '../../styling/settings.css';\r\nimport { homeSliderConstants } from './settingConstants';\r\nimport { setHomeSliderAutoplay, setHomeSliderDelay, setHomeSliderType } from '../../store/actions/app-actions';\r\nimport useCheckDevice from '../../utils/checkDevice';\r\nimport CustomDropDown from '../../utils/CustomDropDown';\r\nimport CustomSwitch from '../../utils/CustomSwitch';\r\nimport CustomDigitInput from '../../utils/CustomDigitInput';\r\n\r\nfunction ImageSlider() {\r\n    const dispatch = useDispatch();\r\n    const { sliderType, autoPlay, autoPlayDelay } = useSelector((state) => state.app.homeSlider);\r\n    const { isMobile } = useCheckDevice();\r\n\r\n    const handleChange = (e) => {\r\n        switch (e.target.name) {\r\n            case 'Image Slider':\r\n                dispatch(setHomeSliderType(homeSliderConstants.findIndex(item => item.value === e.target.value)));\r\n                break;\r\n            default:\r\n                console.log('Label Error');\r\n                break;\r\n        }\r\n    }\r\n    const handleAutoplay = () => {\r\n        dispatch(setHomeSliderAutoplay(!autoPlay));\r\n    }\r\n\r\n    const handleDelay = (delay) => {\r\n        dispatch(setHomeSliderDelay(delay));\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <hr />\r\n            <p className=\"section-heading mb-0\">Home Image Slider</p>\r\n            <hr />\r\n            <div className=\"inner-sets-outer\">\r\n                <div>\r\n                    <div className=\"inner-sets\">\r\n                        <p className=\"section-heading\">\r\n                            Slider Type\r\n                        </p>\r\n                        <CustomDropDown settName=\"Image Slider\" settConstants={homeSliderConstants} currentValue={sliderType} handleChange={handleChange} />\r\n                    </div>\r\n                    <div className=\"inner-sets mt-3\" hidden={!isMobile && (homeSliderConstants[sliderType]?.value == 'Cards')}>\r\n                        <p className=\"section-heading me-5\">\r\n                            Autoplay\r\n                        </p>\r\n                        <CustomSwitch currentValue={autoPlay} handleChange={handleAutoplay} />\r\n                    </div>\r\n                    <div className=\"inner-sets mt-3\">\r\n                        <p className=\"section-heading\">\r\n                            Autoplay Delay (sec)\r\n                        </p>\r\n                        <CustomDigitInput id=\"digit-input-1\" handleOp={handleDelay} min={0} max={10} step={0.5} value={autoPlayDelay} />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n};\r\nexport default ImageSlider;","import { useDispatch, useSelector } from \"react-redux\";\r\nimport { setIslandDouble, setIslandLongPress, setIslandPos, setIslandSwipeLeft, setIslandSwipeRight } from \"../../store/actions/player-actions\";\r\nimport CustomDropDown from \"../../utils/CustomDropDown\";\r\nimport { islandConstants, islandLongPressConstant, islandPositionSettings } from \"./settingConstants\";\r\n\r\nfunction IslandSettings() {\r\n    const dispatch = useDispatch();\r\n    const { islandDouble, islandPos, islandSwipeLeft, islandSwipeRight, islandLongPress } = useSelector((state) => state.player);\r\n\r\n    const handleChange = (e) => {\r\n        switch (e.target.name) {\r\n            case 'Double Tap':\r\n                dispatch(setIslandDouble(islandConstants.findIndex(item => item.value === e.target.value)));\r\n                break;\r\n            case 'Island Position':\r\n                dispatch(setIslandPos(islandPositionSettings.findIndex(item => item.value === e.target.value)));\r\n                break;\r\n            case 'Swipe Left':\r\n                dispatch(setIslandSwipeLeft(islandConstants.findIndex(item => item.value === e.target.value)));\r\n                break;\r\n            case 'Swipe Right':\r\n                dispatch(setIslandSwipeRight(islandConstants.findIndex(item => item.value === e.target.value)));\r\n                break;\r\n            case 'Long Press':\r\n                dispatch(setIslandLongPress(islandLongPressConstant.findIndex(item => item.value === e.target.value)));\r\n                break;\r\n            default:\r\n                console.log('Label Error');\r\n                break;\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <hr />\r\n            <p className=\"section-heading mb-0\">Island Settings</p>\r\n            <hr />\r\n            <div className=\"inner-sets-outer\">\r\n                <div>\r\n                    <div className=\"inner-sets\">\r\n                        <p className=\"section-heading\">\r\n                            Double Tap\r\n                        </p>\r\n                        <CustomDropDown settName=\"Double Tap\" settConstants={islandConstants} currentValue={islandDouble} handleChange={handleChange} />\r\n                    </div>\r\n                    <div className=\"inner-sets mt-3\">\r\n                        <p className=\"section-heading\">\r\n                            Swipe Left\r\n                        </p>\r\n                        <CustomDropDown settName=\"Swipe Left\" settConstants={islandConstants} currentValue={islandSwipeLeft} handleChange={handleChange} />\r\n                    </div>\r\n                    <div className=\"inner-sets mt-3\">\r\n                        <p className=\"section-heading\">\r\n                            Swipe Right\r\n                        </p>\r\n                        <CustomDropDown settName=\"Swipe Right\" settConstants={islandConstants} currentValue={islandSwipeRight} handleChange={handleChange} />\r\n                    </div>\r\n                    <div className=\"inner-sets mt-3\">\r\n                        <p className=\"section-heading\">\r\n                            Album Long Press\r\n                        </p>\r\n                        <CustomDropDown settName=\"Long Press\" settConstants={islandLongPressConstant} currentValue={islandLongPress} handleChange={handleChange} />\r\n                    </div>\r\n                    <div className=\"inner-sets mt-3\">\r\n                        <p className=\"section-heading\">\r\n                            Island Position\r\n                        </p>\r\n                        <CustomDropDown settName=\"Island Position\" settConstants={islandPositionSettings} currentValue={islandPos} handleChange={handleChange} />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default IslandSettings;","import { FormControl, makeStyles, MenuItem, Select } from \"@material-ui/core\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { setNotibarPos, setNotibarType } from \"../../store/actions/app-actions\";\r\nimport { notibarPositionSettings, notibarSettings } from \"./settingConstants\";\r\n\r\n\r\nconst useStyles = makeStyles(() => ({\r\n    formControl: {\r\n        \"& .MuiInputBase-root\": {\r\n            color: \"var(--main-theme)\",\r\n            borderColor: \"rgba(191, 191, 191,0.2)\",\r\n            border: 0,\r\n            borderWidth: \"1px\",\r\n            borderStyle: \"solid\",\r\n            borderRadius: \"5px\",\r\n            minWidth: \"170px\",\r\n            justifyContent: \"center\"\r\n        },\r\n        \"& .MuiSelect-select.MuiSelect-select\": {\r\n            paddingRight: \"0px\"\r\n        }\r\n    },\r\n    select: {\r\n        width: \"auto\",\r\n        fontFamily: 'var(--font)',\r\n        fontWeight: 'bolder',\r\n        letterSpacing: '1px',\r\n        fontSize: \"12px\",\r\n        \"&:focus\": {\r\n            backgroundColor: \"transparent\"\r\n        }\r\n    },\r\n    selectIcon: {\r\n        color: \"var(--main-theme)\",\r\n    },\r\n    paper: {\r\n        borderRadius: 2,\r\n        marginTop: 4,\r\n        background: 'rgb(24,24,24)',\r\n        color: 'white'\r\n    },\r\n    list: {\r\n        paddingTop: 0,\r\n        paddingBottom: 0,\r\n        \"& li\": {\r\n            fontWeight: 200,\r\n            paddingTop: 4,\r\n            paddingBottom: 4,\r\n            fontSize: \"12px\",\r\n            fontFamily: 'var(--font)',\r\n            fontWeight: 'bolder',\r\n            letterSpacing: '1px',\r\n            minWidth: \"170px\",\r\n        },\r\n        \"& li.Mui-selected\": {\r\n            color: \"var(--background)\",\r\n            background: \"var(--main-theme)\"\r\n        },\r\n        \"& li.Mui-selected:hover\": {\r\n            color: 'white',\r\n            background: 'grey'\r\n        }\r\n    }\r\n}));\r\n\r\nfunction NotibarSettings() {\r\n    const classes = useStyles();\r\n    const dispatch = useDispatch();\r\n    const { notibarType, notibarPos } = useSelector((state) => state.app);\r\n\r\n    const menuProps = {\r\n        classes: {\r\n            list: classes.list,\r\n            paper: classes.paper\r\n        },\r\n        anchorOrigin: {\r\n            vertical: \"bottom\",\r\n            horizontal: \"center\"\r\n        },\r\n        transformOrigin: {\r\n            vertical: \"top\",\r\n            horizontal: \"center\"\r\n        },\r\n        getContentAnchorEl: null\r\n    };\r\n\r\n    const handleChange = (e) => {\r\n        switch (e.target.name) {\r\n            case 'Notibar Type':\r\n                dispatch(setNotibarType(notibarSettings.findIndex(item => item.value === e.target.value)));\r\n                break;\r\n            case \"Notibar Position\":\r\n                dispatch(setNotibarPos(notibarPositionSettings.findIndex(item => item.value === e.target.value)));\r\n                break;\r\n            default:\r\n                console.log('Label Error');\r\n                break;\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            <hr />\r\n            <p className=\"section-heading mb-0\">Notification Bar Settings</p>\r\n            <hr />\r\n            <div className=\"inner-sets-outer\">\r\n                <div>\r\n                    <div className=\"inner-sets\">\r\n                        <p className=\"section-heading\">\r\n                            Notification Type\r\n                        </p>\r\n                        <FormControl variant=\"standard\" className={classes.formControl}>\r\n                            <Select\r\n                                value={notibarSettings[notibarType]?.value}\r\n                                name=\"Notibar Type\"\r\n                                onChange={handleChange}\r\n                                classes={{\r\n                                    select: classes.select,\r\n                                    icon: classes.selectIcon\r\n                                }}\r\n                                MenuProps={menuProps}\r\n                            >\r\n                                {notibarSettings.map((item, index) => (\r\n                                    <MenuItem key={index} value={item.value}>{item.value}</MenuItem>\r\n                                ))}\r\n                            </Select>\r\n                        </FormControl>\r\n                    </div>\r\n                    <div className=\"inner-sets mt-3\">\r\n                        <p className=\"section-heading\">\r\n                            Notification Position\r\n                        </p>\r\n                        <FormControl variant=\"standard\" className={classes.formControl}>\r\n                            <Select\r\n                                value={notibarPositionSettings[notibarPos]?.value}\r\n                                name=\"Notibar Position\"\r\n                                onChange={handleChange}\r\n                                classes={{\r\n                                    select: classes.select,\r\n                                    icon: classes.selectIcon\r\n                                }}\r\n                                MenuProps={menuProps}\r\n                            >\r\n                                {notibarPositionSettings.map((item, index) => (\r\n                                    <MenuItem key={index} value={item.value}>{item.value}</MenuItem>\r\n                                ))}\r\n                            </Select>\r\n                        </FormControl>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n\r\n}\r\nexport default NotibarSettings;","import { useSelector } from 'react-redux';\r\nimport { endParty } from '../../firebase/handlers';\r\nimport { logOut } from '../../utils/helperFunctions';\r\nfunction UserData() {\r\n  const { user } = useSelector((state) => state.user);\r\n  const { partyMode, partyId } = useSelector((state) => state.player);\r\n  const userPic = user?.images?.[0]\r\n    ? user?.images?.[0]?.url\r\n    : '/nullavatar.jpg';\r\n\r\n  const handleLogout = () => {\r\n    if (!partyMode)\r\n      endParty(partyId);\r\n    logOut();\r\n  }\r\n\r\n  return (\r\n    <div className=\"account-info\">\r\n      <div className=\"user-pic-outer\">\r\n        <img src={userPic} className=\"user-pic\" />\r\n        <div className=\"s-logo\">\r\n          <img src={'/spotify.png'} />\r\n        </div>\r\n      </div>\r\n      <span className=\"user-name my-2\">{user?.display_name}</span>\r\n      <div className=\"sts-container\">\r\n        <div className=\"user-sts\">\r\n          <span>{user?.followers?.total}</span>\r\n          <p>FOLLOWERS</p>\r\n        </div>\r\n        <div className=\"user-sts\">\r\n          <span>{user?.following}</span>\r\n          <p>FOLLOWING</p>\r\n        </div>\r\n        <div className=\"user-sts\">\r\n          <span>{user?.playlists}</span>\r\n          <p>PLAYLISTS</p>\r\n        </div>\r\n      </div>\r\n      <button className=\"sign-out-btn\" onClick={handleLogout}>\r\n        Log Out\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\nexport default UserData;\r\n","import Appearance from './settings/appearance';\r\nimport SelectFont from './settings/font';\r\nimport HeaderSettings from './settings/headerSettings';\r\nimport ImageSlider from './settings/imageSlider';\r\nimport IslandSettings from './settings/islandSettings';\r\nimport NotibarSettings from './settings/notibarSettings';\r\nimport UserData from './settings/user';\r\n\r\nfunction Settings() {\r\n  return (\r\n    <div className=\"display-cut\">\r\n      <div className=\"settings\">\r\n        <UserData />\r\n        <Appearance />\r\n        <ImageSlider />\r\n        <HeaderSettings />\r\n        <IslandSettings />\r\n        <NotibarSettings />\r\n        <SelectFont />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default Settings;\r\n","import CloseIcon from '@material-ui/icons/Close';\r\nimport CheckCircleTwoToneIcon from '@material-ui/icons/CheckCircleTwoTone';\r\nimport { useEffect, useRef, useState } from 'react';\r\nimport useSpotify from '../hooks/useSpotify';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { setNotibar, toggleAddToPlaylist } from '../store/actions/app-actions';\r\nimport { getMyPlaylists, getTrack } from '../store/actions/spotify-actions';\r\n\r\nfunction AddToPlaylist() {\r\n  const dispatch = useDispatch();\r\n  const atpRef = useRef();\r\n  const user = useSelector((state) => state.user.user);\r\n  const settings = useSelector((state) => state.app.settings);\r\n  const token = useSelector((state) => state.player.token);\r\n  const spotify = useSpotify();\r\n\r\n  const [myplaylists, setMyplaylists] = useState();\r\n  const [checkedPlaylists, setCheckedPlaylists] = useState();\r\n  const [track, setTrack] = useState();\r\n\r\n  useEffect(() => {\r\n    if (!token || !settings?.trackToAdd?.id) return;\r\n    getTrack(settings?.trackToAdd?.id)\r\n      .then((res) => {\r\n        //console.log(res.body);\r\n        setTrack(res.body);\r\n        getMyPlaylists(token)\r\n          .then((res) => {\r\n            //console.log(res.data);\r\n            let lists = [];\r\n            res.data.items.map((item, index) => {\r\n              if (user?.display_name === item?.owner?.display_name) {\r\n                lists.push(item);\r\n              }\r\n              return lists;\r\n            });\r\n            setMyplaylists(lists);\r\n            setCheckedPlaylists(initCheckboxes(lists));\r\n          })\r\n          .catch((err) => console.log(err));\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }, [settings.isAddToPlaylistOpen, token]);\r\n\r\n  useEffect(() => {\r\n    atpRef.current.style.display = settings.isAddToPlaylistOpen\r\n      ? 'flex'\r\n      : 'none';\r\n  }, [settings.isAddToPlaylistOpen]);\r\n\r\n  function closeModal() {\r\n    dispatch(toggleAddToPlaylist(false));\r\n  }\r\n  function initCheckboxes(playlists, value = false) {\r\n    const object = {};\r\n\r\n    playlists.forEach((playlist) => {\r\n      object[playlist.id] = value;\r\n    });\r\n\r\n    return object;\r\n  }\r\n\r\n  const toggleCheckedPlaylist = (playlistId) => {\r\n    setCheckedPlaylists({\r\n      ...checkedPlaylists,\r\n      [playlistId]: !checkedPlaylists[playlistId],\r\n    });\r\n  };\r\n\r\n  function handleSubmit(e) {\r\n    const playlistIds = Object.keys(checkedPlaylists).filter(\r\n      (playlistId) => checkedPlaylists[playlistId]\r\n    );\r\n    for (let i = 0; i < playlistIds.length; i++) {\r\n      spotify.addTracksToPlaylist(playlistIds[i], [track?.uri]).then(\r\n        function (data) {\r\n          console.log('Added track(s) to playlist!');\r\n          dispatch(setNotibar('Tracks Added :)', true, 7000));\r\n          closeModal();\r\n        },\r\n        function (err) {\r\n          console.log('Something went wrong!', err);\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  function FormCheckBox({ index, item, isChecked }) {\r\n    return (\r\n      <>\r\n        <input\r\n          type=\"checkbox\"\r\n          value={isChecked}\r\n          id={item.id}\r\n          onChange={() => toggleCheckedPlaylist(item.id)}\r\n          hidden\r\n        />\r\n        <label htmlFor={item.id} key={index} className=\"atp-p-info py-2\">\r\n          <div className=\"atp-p-check\">\r\n            {isChecked && (\r\n              <CheckCircleTwoToneIcon style={{ color: 'var(--main-theme)' }} />\r\n            )}\r\n          </div>\r\n          <div className=\"atp-p-name font-1-s\">\r\n            <span style={{ color: isChecked ? 'var(--main-theme)' : 'white' }}>\r\n              {item.name}\r\n            </span>\r\n          </div>\r\n          <div className=\"atp-p-count font-1-s\">\r\n            <span style={{ color: isChecked ? 'var(--main-theme)' : 'white' }}>\r\n              {item.tracks.total + ' tracks'}\r\n            </span>\r\n          </div>\r\n        </label>\r\n      </>\r\n    );\r\n  }\r\n  return (\r\n    <div ref={atpRef} className=\"atp-outer\" style={{ zIndex: '50' }}>\r\n      <div className=\"atp\">\r\n        <div className=\"atp-header font-1-s \">\r\n          <span className=\"text-light h4 p-1\">Add to Playlist</span>\r\n          <button className=\"t-btn q-close\" onClick={closeModal}>\r\n            <CloseIcon fontSize=\"large\" style={{ color: 'white' }} />\r\n          </button>\r\n        </div>\r\n        <div className=\"atp-inner \">\r\n          <div className=\"atp-t-info font-1-s\">\r\n            <img\r\n              src={track?.album?.images[1]?.url}\r\n              alt=\"track-to-add\"\r\n              width=\"250\"\r\n            />\r\n\r\n            <span className=\"text-light\">{track?.name}</span>\r\n            <span style={{ color: 'wheat' }}>\r\n              {track?.artists.map(\r\n                (item, index) => (index ? ', ' : '') + item.name\r\n              )}\r\n            </span>\r\n          </div>\r\n          <div className=\"font-1-s px-3 py-2 mb-5 text-light\">\r\n            <span className=\"px-2 h5\">Select playlists to add to</span>\r\n            <hr />\r\n            {myplaylists?.map((item, index) => (\r\n              <FormCheckBox\r\n                key={index}\r\n                index={index}\r\n                item={item}\r\n                isChecked={checkedPlaylists?.[item.id]}\r\n              />\r\n            ))}\r\n          </div>\r\n        </div>\r\n        <div className=\"atp-footer\">\r\n          <button className=\"cancel-btn\" onClick={closeModal}>\r\n            Cancel\r\n          </button>\r\n          <button className=\"add-btn\" onClick={handleSubmit}>\r\n            Add\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default AddToPlaylist;\r\n","import CloseIcon from '@material-ui/icons/Close';\r\nimport { useEffect, useRef } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { toggleKeyboard } from '../store/actions/app-actions';\r\n\r\nfunction KeyboardShortcuts() {\r\n  const atpRef = useRef();\r\n  const dispatch = useDispatch();\r\n  const isKeyboard = useSelector((state) => state.app.settings.isKeyboard);\r\n  const data = [\r\n    { name: 'Play/Pause', key: 'P' },\r\n    { name: 'Mute/Unmute', key: 'M' },\r\n    { name: 'Next Song', key: 'X' },\r\n    { name: 'Previous Song', key: 'Z' },\r\n    { name: 'Volume Up', key: '↑' },\r\n    { name: 'Volume Down', key: '↓' },\r\n    { name: 'Open Player', key: 'B' },\r\n    { name: 'Show/Hide Controls', key: 'H' },\r\n    { name: 'Show/Hide Queue', key: 'Q' },\r\n    { name: 'Full Screen', key: 'F' },\r\n    {\r\n      name: 'Voice Command (hold button)',\r\n      key: 'V',\r\n    },\r\n  ];\r\n\r\n  useEffect(() => {\r\n    atpRef.current.style.display = isKeyboard ? 'flex' : 'none';\r\n  }, [isKeyboard]);\r\n\r\n  function closeModal() {\r\n    dispatch(toggleKeyboard(false));\r\n  }\r\n  return (\r\n    <div ref={atpRef} className=\"atp-outer\">\r\n      <div className=\"atp\">\r\n        <div className=\"atp-header font-1-s \">\r\n          <span className=\"text-light h4 p-1\">Keyboard Shortcuts :)</span>\r\n          <button className=\"t-btn\" onClick={closeModal}>\r\n            <CloseIcon fontSize=\"large\" style={{ color: 'white' }} />\r\n          </button>\r\n        </div>\r\n        <div className=\"atp-inner px-4\">\r\n          {data.map((item, index) => (\r\n            <div key={index} className=\"key-info font-1\">\r\n              <span className=\"key-name\">{item.name}</span>\r\n              <span className=\"key-btn\">{item.key}</span>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default KeyboardShortcuts;\r\n","import '../styling/notibar.css';\r\nimport { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { setNotibar } from '../store/actions/app-actions';\r\n\r\nfunction PlayerStatus() {\r\n  const dispatch = useDispatch();\r\n  const { playerReady, isPremium } = useSelector((state) => state.player);\r\n  useEffect(() => {\r\n    if (playerReady) {\r\n      dispatch(setNotibar('(^◡^) Player is ready!!', true, 7000));\r\n    } else {\r\n      if (isPremium) {\r\n        dispatch(setNotibar(\"(ㆆ_ㆆ) Player isn't ready...\", false, 70000));\r\n      } else {\r\n        dispatch(setNotibar('(ㆆ_ㆆ) Not a premium user!', false, 600000));\r\n      }\r\n    }\r\n  }, [playerReady, isPremium])\r\n\r\n  return null;\r\n}\r\nexport default PlayerStatus;\r\n","import { useEffect, useRef } from 'react';\r\nimport { getImage, millisToMinutesAndSeconds } from '../utils/helperFunctions';\r\nimport MoreOptions from '../templates/more-options';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { SmallPlayButton } from '../player/buttons';\r\nimport {\r\n  handlePlayPause,\r\n  playfromlist,\r\n} from '../store/actions/spotify-actions';\r\n\r\nfunction CurrentPlaylist({ item, index, list, isUsers, playlistId, maximise }) {\r\n  const dispatch = useDispatch();\r\n  const { current } = useSelector((state) => state.player);\r\n  const isQueue = useSelector((state) => state.app.settings.isQueue);\r\n  const playing = useSelector((state) => state.player.playing);\r\n  const trackItemRef = useRef();\r\n  const musicItem = item?.album ? item : item.track ? item.track : item;\r\n  const isCurrent = current?.id === musicItem?.id;\r\n  useEffect(() => {\r\n    if (trackItemRef.current.classList.contains('themeBG')) {\r\n      trackItemRef.current.scrollIntoView({ block: 'center' });\r\n    }\r\n  }, [!isQueue]);\r\n\r\n  const handlePlayingSong = () => {\r\n    if (isCurrent) {\r\n      dispatch(handlePlayPause());\r\n    } else {\r\n      dispatch(playfromlist(index, list));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      key={index}\r\n      className={'cp-t-container' + (isCurrent ? ' themeBG' : '')}\r\n      ref={trackItemRef}\r\n    >\r\n      <div className=\"cp-tracks-pic\">\r\n        <img\r\n          src={getImage(musicItem?.album?.images, 'sm')}\r\n          style={{ borderRadius: '10px' }}\r\n        />\r\n      </div>\r\n      <div className=\"cp-tracks-info font-1 ps-2\">\r\n        <span className=\"text-light h5 mb-0\">{musicItem.name}</span>\r\n        <span className=\"text-secondary\">\r\n          {musicItem.artists.map(\r\n            (item, index) => (index ? ', ' : '') + item.name\r\n          )}\r\n        </span>\r\n      </div>\r\n\r\n      <div className=\"cp-tracks-btn \">\r\n        <MoreOptions\r\n          trackItemRef={trackItemRef}\r\n          item={item}\r\n          isUsers={isUsers}\r\n          playlistId={playlistId}\r\n        />\r\n        <span className=\"text-secondary d-lg-block d-none\">\r\n          {millisToMinutesAndSeconds(musicItem.duration_ms)}\r\n        </span>\r\n        <SmallPlayButton\r\n          playing={playing}\r\n          isCurrent={isCurrent}\r\n          onClick={handlePlayingSong}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default CurrentPlaylist;\r\n","import CloseIcon from '@material-ui/icons/Close';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { toggleQueue } from '../store/actions/app-actions';\r\nimport CurrentPlaylist from '../templates/current-playlist';\r\nimport { useRef, useEffect } from 'react';\r\n\r\nfunction Queue() {\r\n  const atpRef = useRef();\r\n  const dispatch = useDispatch();\r\n  const { currentPlaylist } = useSelector((state) => state.library);\r\n  const isQueue = useSelector((state) => state.app.settings.isQueue);\r\n\r\n  function closeModal() {\r\n    dispatch(toggleQueue(false));\r\n  }\r\n\r\n  useEffect(() => {\r\n    atpRef.current.style.display = isQueue ? 'flex' : 'none';\r\n  }, [isQueue]);\r\n  return (\r\n    <div ref={atpRef} className=\"atp-outer\">\r\n      <div className=\"atp\">\r\n        <div className=\"atp-header font-1-s \">\r\n          <span className=\"text-light h4 p-1\">Current Playlist</span>\r\n          <button className=\"t-btn q-close\" onClick={closeModal}>\r\n            <CloseIcon fontSize=\"large\" style={{ color: 'white' }} />\r\n          </button>\r\n        </div>\r\n        <div className=\"atp-inner px-1\">\r\n          {currentPlaylist?.map((item, index) => (\r\n            <CurrentPlaylist\r\n              key={index}\r\n              index={index}\r\n              item={item}\r\n              list={currentPlaylist}\r\n              isUsers={null}\r\n              playlistId={null}\r\n            />\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default Queue;\r\n","import { Link, useRouteMatch } from 'react-router-dom';\r\nimport SkeletonSPlaylist from '../skeletons/skeletonSPlaylist';\r\nimport { getCorrectPath } from '../utils/helperFunctions';\r\nimport '../styling/templates/playlist.css';\r\n\r\nfunction CategoryPlaylists({ show }) {\r\n  const { path } = useRouteMatch();\r\n  const getPath = getCorrectPath(path);\r\n  return (\r\n    <div>\r\n      {!show && <SkeletonSPlaylist />}\r\n      <p className=\"section-heading mb-0\"></p>\r\n      <div className=\"library-cards-holder\">\r\n        {show?.map((item, index) => (\r\n          <Link\r\n            to={`${getPath}/playlist/${item.id}`}\r\n            className=\"d-flex flex-column align-items-center me-2 p-2 text-decoration-none hover-effect-lc\"\r\n            key={item.id + index}\r\n          >\r\n            <div className=\"library-playlist-cards\" id={item.id + index}>\r\n              <img\r\n                src={item?.images[0]?.url}\r\n                alt={item?.name}\r\n                crossOrigin=\"anonymous\"\r\n                id={item.id}\r\n              />\r\n            </div>\r\n            <span className=\"lp-name mt-2\">{item?.name}</span>\r\n          </Link>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default CategoryPlaylists;\r\n","import { useEffect, useState } from 'react';\r\nimport useSpotify from '../hooks/useSpotify';\r\nimport CategoryPlaylists from '../templates/category-playlist';\r\n\r\nfunction CategoryPage(props) {\r\n  const id = props?.match?.params.id;\r\n  const [myplaylists, setMyplaylists] = useState();\r\n\r\n  const spotify = useSpotify();\r\n  useEffect(() => {\r\n    if (spotify) {\r\n      spotify\r\n        .getPlaylistsForCategory(id, {\r\n          country: 'IN',\r\n          limit: 50,\r\n          offset: 0,\r\n        })\r\n        .then(\r\n          function (data) {\r\n            const { items } = data.body.playlists;\r\n            setMyplaylists(items);\r\n          },\r\n          function (err) {\r\n            console.log('Something went wrong!', err);\r\n          }\r\n        );\r\n    }\r\n  }, [spotify]);\r\n  return (\r\n    <div className=\"display-cut\">\r\n      <CategoryPlaylists show={myplaylists} />\r\n    </div>\r\n  );\r\n}\r\nexport default CategoryPage;\r\n","import { useEffect, useRef } from 'react';\r\nimport axios from 'axios';\r\nimport { getImage } from '../utils/helperFunctions';\r\nimport dotenv from 'dotenv';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {\r\n  handleStateChange,\r\n  setDevice,\r\n  setIsPremium,\r\n  setLyrics,\r\n  setPlayerReady,\r\n} from '../store/actions/player-actions';\r\nimport { getNewAccessToken } from '../store/actions/spotify-actions';\r\ndotenv.config();\r\nconst { REACT_APP_API_ENDPOINT } = process.env;\r\n\r\nconst UseSpotifyPlayer = () => {\r\n  const dispatch = useDispatch();\r\n  const { current, token } = useSelector((state) => state.player);\r\n  const API_ENDPOINT = REACT_APP_API_ENDPOINT || '';\r\n\r\n  const player = useRef(null);\r\n\r\n  useSpotifyWebPlaybackSdkScript();\r\n\r\n  function useSpotifyWebPlaybackSdkScript() {\r\n    useEffect(() => {\r\n      if (!window.Spotify) {\r\n        appendSpotifySdkScriptToDOM();\r\n      }\r\n    }, [navigator.onLine]);\r\n  }\r\n\r\n  function appendSpotifySdkScriptToDOM() {\r\n    const spotifyScript = document.createElement('script');\r\n    spotifyScript.id = 'spotify-script';\r\n    spotifyScript.src = 'https://sdk.scdn.co/spotify-player.js';\r\n    document.head.appendChild(spotifyScript);\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (!current) return;\r\n    const track = current?.name,\r\n      artist = current?.artists[0].name;\r\n    document.title = current ? `Fizzbee | ${track}` : `Fizzbee`;\r\n    axios\r\n      .get(`${API_ENDPOINT}/lyrics`, {\r\n        params: {\r\n          track: track,\r\n          artist: artist,\r\n        },\r\n      })\r\n      .then((res) => {\r\n        dispatch(setLyrics(res.data.lyrics));\r\n      })\r\n      .catch(() => console.log('error catching lyrics'));\r\n  }, [current?.name]);\r\n\r\n  useEffect(() => {\r\n    window.onSpotifyWebPlaybackSDKReady = () => {\r\n      const fetchToken = () => {\r\n        return dispatch(getNewAccessToken());\r\n      };\r\n      if (token) {\r\n        player.current = new window.Spotify.Player({\r\n          name: 'fizzbee player',\r\n          getOAuthToken: (cb) => {\r\n            cb(fetchToken());\r\n          },\r\n          volume: 1\r\n        });\r\n\r\n        // Error handling\r\n        player.current.addListener('initialization_error', ({ message }) => {\r\n          console.error(message);\r\n        });\r\n        player.current.addListener('authentication_error', ({ message }) => {\r\n          console.error(message);\r\n        });\r\n        player.current.addListener('account_error', ({ message }) => {\r\n          if (message) {\r\n            dispatch(setIsPremium(false));\r\n          }\r\n        });\r\n        player.current.addListener('playback_error', ({ message }) => {\r\n          console.error(message);\r\n        });\r\n\r\n        // Playback status updates\r\n        player.current.addListener('player_state_changed', (state) => {\r\n          //console.log(state);\r\n          dispatch(handleStateChange(state));\r\n        });\r\n\r\n        // Ready\r\n        player.current.addListener('ready', ({ device_id }) => {\r\n          console.log('Ready with Device ID', device_id);\r\n          dispatch(setDevice(device_id));\r\n\r\n          window.localStorage.setItem('deviceId', device_id);\r\n          dispatch(setPlayerReady(true));\r\n        });\r\n\r\n        // Not Ready\r\n        player.current.addListener('not_ready', ({ device_id }) => {\r\n          console.log('Device ID has gone offline', device_id);\r\n        });\r\n\r\n        // Connect to the player!\r\n        player.current.connect().then((success) => {\r\n          if (success) {\r\n            console.log(\r\n              'The Web Playback SDK successfully connected to Spotify!'\r\n            );\r\n          }\r\n        });\r\n      }\r\n    };\r\n    return () => {\r\n      player.current.disconnect();\r\n    }\r\n  }, []);\r\n\r\n  return null;\r\n};\r\nexport default UseSpotifyPlayer;\r\n","import axios from 'axios';\r\nimport dotenv from 'dotenv';\r\ndotenv.config();\r\n\r\nconst { REACT_APP_YT_KEY } = process.env;\r\n\r\nexport default axios.create({\r\n  baseURL: 'https://www.googleapis.com/youtube/v3/',\r\n  params: {\r\n    part: 'snippet',\r\n    maxResults: 5,\r\n    key: REACT_APP_YT_KEY,\r\n  },\r\n});\r\n","import React from 'react';\r\nimport '../style/video.css';\r\n\r\nconst VideoItem = ({ video, handleVideoSelect }) => {\r\n  return (\r\n    <div onClick={() => handleVideoSelect(video)} className=\"video-container\">\r\n      <img\r\n        src={video.snippet.thumbnails.medium.url}\r\n        alt={video.snippet.description}\r\n      />\r\n\r\n      <span className=\"video-title \">{video.snippet.title}</span>\r\n    </div>\r\n  );\r\n};\r\nexport default VideoItem;\r\n","import React from 'react';\r\nimport VideoItem from './VideoItem';\r\n\r\nconst VideoList = ({ videos, handleVideoSelect }) => {\r\n  const renderedVideos = videos?.map((video) => {\r\n    return (\r\n      <VideoItem\r\n        key={video.id.videoId}\r\n        video={video}\r\n        handleVideoSelect={handleVideoSelect}\r\n      />\r\n    );\r\n    // console.log(video.id);\r\n  });\r\n\r\n  return <div className=\"video-list\">{renderedVideos}</div>;\r\n};\r\nexport default VideoList;\r\n","import React from 'react';\r\n\r\nconst VideoDetail = ({ video, results }) => {\r\n  if (!video) {\r\n    return (\r\n      <div>\r\n        <h1 className=\"np-video-title\">Please select a video to play.</h1>\r\n        <h4 className=\"np-video-title\" hidden={results}>\r\n          Try again later if there are no results.\r\n        </h4>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const videoSrc = `https://www.youtube.com/embed/${video.id.videoId}`;\r\n\r\n  return (\r\n    <div className=\"video-details\">\r\n      <iframe\r\n        src={videoSrc}\r\n        className=\"utube-iframe\"\r\n        allowFullScreen\r\n        title=\"Video player\"\r\n      />\r\n\r\n      <h5 className=\"np-video-title\">{video.snippet.title}</h5>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VideoDetail;\r\n","import MusicVideoTwoToneIcon from '@material-ui/icons/MusicVideoTwoTone';\r\nimport MusicNoteTwoToneIcon from '@material-ui/icons/MusicNoteTwoTone';\r\nfunction SwitchPlatform({ utubeMode, handleSwitch }) {\r\n  return (\r\n    <div\r\n      className=\"platform-toggle\"\r\n      style={{\r\n        border: utubeMode ? '2px solid red' : '2px solid green',\r\n        background: utubeMode ? 'rgba(255,0,0,0.3)' : 'rgba(30,215,96,0.3)',\r\n      }}\r\n      onClick={handleSwitch}\r\n    >\r\n      {utubeMode ? (\r\n        <MusicVideoTwoToneIcon\r\n          style={{ width: '30px', color: 'rgba(255,0,0,0.8)' }}\r\n        />\r\n      ) : (\r\n        <img src=\"/spotify2.png\" width=\"30\" height=\"30\" alt=\"spotify icon\" />\r\n      )}\r\n\r\n      {!utubeMode ? (\r\n        <MusicNoteTwoToneIcon\r\n          style={{ width: '30px', color: 'rgba(30,215,96,0.8)' }}\r\n        />\r\n      ) : (\r\n        <img src=\"/youtube.png\" width=\"30\" height=\"20\" alt=\"youtube icon\" />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\nexport default SwitchPlatform;\r\n","import React, { useEffect } from 'react';\r\nimport youtube from '../youtube';\r\nimport VideoList from './VideoList';\r\nimport VideoDetail from './VideoDetail';\r\nimport { useState } from 'react';\r\nimport '../style/utube.css';\r\nimport SwitchPlatform from '../youtube-switch';\r\nimport { useSelector } from 'react-redux';\r\nfunction UtubeApp({ utubeMode, handleSwitch }) {\r\n  const current = useSelector((state) => state.player.current);\r\n  const [videos, setVideos] = useState();\r\n  const [selectedVideo, setSelectedVideo] = useState();\r\n  useEffect(() => {\r\n    if (!current) return;\r\n    fetchMyData();\r\n  }, [current?.name]);\r\n\r\n  async function fetchMyData() {\r\n    const response = await youtube.get('/search', {\r\n      params: {\r\n        q: current.name,\r\n      },\r\n    });\r\n    setVideos(response.data.items);\r\n  }\r\n\r\n  const handleVideoSelect = (video) => {\r\n    setSelectedVideo(video);\r\n  };\r\n\r\n  return (\r\n    <div className=\"utube-container\">\r\n      <div className=\"d-flex justify-content-end\">\r\n        <SwitchPlatform utubeMode={utubeMode} handleSwitch={handleSwitch} />\r\n      </div>\r\n\r\n      <div className=\"utube-results mt-3\">\r\n        <div className=\"w-100\">\r\n          <VideoDetail video={selectedVideo} results={videos} />\r\n        </div>\r\n        <div>\r\n          <VideoList handleVideoSelect={handleVideoSelect} videos={videos} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default UtubeApp;\r\n","import PlayArrowIcon from '@material-ui/icons/PlayArrow';\r\nimport PauseIcon from '@material-ui/icons/Pause';\r\nimport {\r\n  getImage,\r\n  getColorOnly,\r\n  getArtistNames,\r\n} from '../../utils/helperFunctions';\r\nimport { useSelector } from 'react-redux';\r\nimport { useRef, useEffect, useState } from 'react';\r\n\r\nconst MinPlayer1 = ({ handlePlayPause, sideBartype }) => {\r\n  const { current, playing } = useSelector((state) => state.player);\r\n  const position_ms = useSelector((state) => state.player.position_ms);\r\n  const [instance, setInstance] = useState(0);\r\n  const [pos, setPos] = useState(0);\r\n  const albumPic = getImage(current?.album?.images, 'md');\r\n  const imgRef = useRef();\r\n  const artistNames = getArtistNames(current?.artists);\r\n\r\n  useEffect(() => {\r\n    if (!current) return;\r\n    setInstance(pos / current.duration_ms);\r\n  }, [pos]);\r\n  useEffect(() => {\r\n    setPos(position_ms);\r\n  }, [position_ms]);\r\n\r\n  useEffect(() => {\r\n    let interval = null;\r\n    if (playing) {\r\n      interval = setInterval(() => {\r\n        setPos((pos) => pos + 1000);\r\n      }, 1000);\r\n    } else {\r\n      clearInterval(interval);\r\n    }\r\n    return () => clearInterval(interval);\r\n  }, [playing]);\r\n\r\n  return (\r\n    <div className={\"minimised-player \" + (sideBartype && 'min-pos')}>\r\n      <div className=\"min-left\">\r\n        <div className=\"mini-circle\">\r\n          <img\r\n            src={albumPic ? albumPic : '/bg3.png'}\r\n            alt=\"album-art-mini\"\r\n            className={\"mini-album-art \" + (playing && 'mini-circle-animation')}\r\n            ref={imgRef}\r\n            crossOrigin=\"anonymous\"\r\n            onLoad={() => {\r\n              let col = getColorOnly(imgRef);\r\n              document.documentElement.style.setProperty(\r\n                '--col-thief',\r\n                `rgb(${col[0]},${col[1]},${col[2]})`\r\n              );\r\n            }}\r\n          />\r\n          <svg width=\"80\" height=\"80\" viewBox=\"0 0 80 80\">\r\n            <circle\r\n              cx=\"40\"\r\n              cy=\"40\"\r\n              r=\"39\"\r\n              style={{\r\n                strokeDasharray: 6.2831 * 43,\r\n                strokeDashoffset: 6.2831 * 43 * (1 - instance),\r\n              }}\r\n            ></circle>\r\n          </svg>\r\n        </div>\r\n      </div>\r\n      <div className={'min-mid '}>\r\n        <span\r\n          className={\r\n            'np-name-min ' + (current?.name.length > 30 && 'text-anim')\r\n          }\r\n        >\r\n          {' '}\r\n          {current ? current.name : 'Music track'}\r\n        </span>\r\n        <div className=\"np-by-outer\">\r\n          <span\r\n            className={'np-by-min ' + (artistNames?.length > 30 && 'text-anim')}\r\n          >\r\n            {current ? artistNames : 'by..'}\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <div className=\"min-right\">\r\n        <div className=\"pp-mini\">\r\n          <button className=\"mini-play-container\" onClick={handlePlayPause}>\r\n            {playing ? (\r\n              <PauseIcon fontSize=\"large\" />\r\n            ) : (\r\n              <PlayArrowIcon fontSize=\"large\" />\r\n            )}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default MinPlayer1;\r\n","import PlayArrowTwoToneIcon from '@material-ui/icons/PlayArrowTwoTone';\r\nimport PauseTwoToneIcon from '@material-ui/icons/PauseTwoTone';\r\nimport SkipPreviousTwoToneIcon from '@material-ui/icons/SkipPreviousTwoTone';\r\nimport SkipNextTwoToneIcon from '@material-ui/icons/SkipNextTwoTone';\r\nimport {\r\n  getColor,\r\n  getImage,\r\n  getArtistNames,\r\n} from '../../utils/helperFunctions';\r\nimport { useRef } from 'react';\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst MinPlayer2 = ({ handlePlayPause, skipNext, skipPrevious, sideBartype }) => {\r\n  const { current, playing } = useSelector((state) => state.player);\r\n  const { darkMode, colorpalette } = useSelector((state) => state.app);\r\n  const imgRef = useRef();\r\n  const albumSM = getImage(current?.album?.images, 'md');\r\n  const artistNames = getArtistNames(current?.artists);\r\n\r\n  const getColorpalette = (id, ref, type) => {\r\n    if (colorpalette) {\r\n      getColor(id, ref, type);\r\n    } else {\r\n      document.querySelector('.minimised-player-2').style.background =\r\n        'var(--max-player-1-bg)';\r\n    }\r\n  };\r\n  return (\r\n    <div className={\"minimised-player-2 \" + (sideBartype && 'min-pos')} id={current?.id + '3'}>\r\n      <div className=\"min-2-left\">\r\n        <img\r\n          src={albumSM ? albumSM : '/bg3.png'}\r\n          alt=\"album-art-mini\"\r\n          className=\"mini-album-art-2\"\r\n          ref={imgRef}\r\n          crossOrigin=\"anonymous\"\r\n          onLoad={() => getColorpalette(current?.id, imgRef, 'player')}\r\n        />\r\n      </div>\r\n      <div className={'min-2-mid'}>\r\n        <span\r\n          className={\r\n            'np-name-min ' + (current?.name.length > 30 && 'text-anim')\r\n          }\r\n          style={{\r\n            color: darkMode || colorpalette ? 'white' : 'var(--text-primary)',\r\n          }}\r\n        >\r\n          {current ? current.name : 'Music track'}\r\n        </span>\r\n        <div className=\"np-by-outer\">\r\n          <span\r\n            className={'np-by-min ' + (artistNames?.length > 30 && 'text-anim')}\r\n          >\r\n            {current ? artistNames : 'by..'}\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <div className=\"min-2-right\">\r\n        <button className=\"t-btn\" onClick={skipPrevious}>\r\n          <SkipPreviousTwoToneIcon\r\n            fontSize=\"large\"\r\n            style={{\r\n              color: darkMode || colorpalette ? 'white' : 'var(--text-primary)',\r\n            }}\r\n          />\r\n        </button>\r\n        <button className=\"t-btn\" onClick={handlePlayPause}>\r\n          {playing ? (\r\n            <PauseTwoToneIcon\r\n              fontSize=\"large\"\r\n              style={{\r\n                color:\r\n                  darkMode || colorpalette ? 'white' : 'var(--text-primary)',\r\n              }}\r\n            />\r\n          ) : (\r\n            <PlayArrowTwoToneIcon\r\n              fontSize=\"large\"\r\n              style={{\r\n                color:\r\n                  darkMode || colorpalette ? 'white' : 'var(--text-primary)',\r\n              }}\r\n            />\r\n          )}\r\n        </button>\r\n        <button className=\"t-btn\" onClick={skipNext}>\r\n          <SkipNextTwoToneIcon\r\n            fontSize=\"large\"\r\n            style={{\r\n              color: darkMode || colorpalette ? 'white' : 'var(--text-primary)',\r\n            }}\r\n          />\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default MinPlayer2;\r\n","import { useState } from \"react\";\r\n\r\nfunction DrawArc({ x, y, radius, startAngle, endAngle, outerWidth, outerHeight, svgWidth, svgHeight, svgViewBox, className, arcWidth, arcColor }) {\r\n    const defaultProps = {\r\n        tintColor: 'white',\r\n        lineCap: 'round',\r\n    };\r\n    const pathD = circlePath(x, y, radius, startAngle, endAngle);\r\n    const [dragging, setDragging] = useState(false);\r\n    const [instance, setInstance] = useState(1);\r\n\r\n    let angleDifference = endAngle - startAngle;\r\n\r\n    return (\r\n        <div className={className} style={{ width: outerWidth, height: outerHeight }}>\r\n            <svg width={svgWidth} height={svgHeight} viewBox={svgViewBox}>\r\n                <g>\r\n                    <path\r\n                        d={pathD}\r\n                        stroke={arcColor}\r\n                        strokeWidth={arcWidth}\r\n                        strokeDasharray={(angleDifference / 180) * Math.PI * radius}\r\n                        strokeDashoffset={(-(angleDifference / 180) * Math.PI * radius) * (1 - instance)}\r\n                        strokeLinecap={defaultProps.lineCap}\r\n                        fill=\"transparent\"\r\n                    />\r\n                </g>\r\n            </svg>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction circlePath(x, y, radius, startAngle, endAngle) {\r\n    var start = polarToCartesian(x, y, radius, endAngle * 0.9999);\r\n    var end = polarToCartesian(x, y, radius, startAngle);\r\n    var largeArcFlag = endAngle - startAngle <= 180 ? '0' : '1';\r\n    var d = ['M', start.x, start.y, 'A', radius, radius, 0, largeArcFlag, 0, end.x, end.y];\r\n    return d.join(' ');\r\n}\r\nfunction polarToCartesian(centerX, centerY, radius, angleInDegrees) {\r\n    var angleInRadians = ((angleInDegrees - 90) * Math.PI) / 180.0;\r\n    return {\r\n        x: centerX + radius * Math.cos(angleInRadians),\r\n        y: centerY + radius * Math.sin(angleInRadians),\r\n    };\r\n}\r\nexport default DrawArc;","import RepeatOne from '@material-ui/icons/RepeatOne';\r\nimport RepeatIcon from '@material-ui/icons/Repeat';\r\nimport useSpotify from '../hooks/useSpotify';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { setRepeat } from '../store/actions/player-actions';\r\nimport { playerRepeat } from '../store/actions/spotify-actions';\r\n\r\nfunction RepeatBtn({ color }) {\r\n  const dispatch = useDispatch();\r\n  const { repeatMode } = useSelector((state) => state.player);\r\n  const spotify = useSpotify();\r\n\r\n  const repeatType = ['off', 'context', 'track'];\r\n\r\n  function repeatIt() {\r\n    //console.log(repeatMode, repeatType[repeatMode]);\r\n    let type = repeatMode;\r\n    if (type < 2) {\r\n      type = repeatMode + 1;\r\n    } else {\r\n      type = 0;\r\n    }\r\n    dispatch(playerRepeat(repeatType[type], type))\r\n  }\r\n\r\n  function renderSwitch(repeatMode) {\r\n    switch (repeatMode) {\r\n      case 0:\r\n        return (\r\n          <RepeatIcon\r\n            style={{\r\n              color: color ? color : 'white',\r\n            }}\r\n          />\r\n        );\r\n      case 1:\r\n        return (\r\n          <>\r\n            <RepeatIcon style={{ color: 'var(--main-theme)' }} />\r\n            <span className=\"repeat-type\">∞</span>\r\n          </>\r\n        );\r\n      case 2:\r\n        return <RepeatOne style={{ color: 'var(--main-theme)' }} />;\r\n\r\n      default:\r\n        console.log('Switch error');\r\n        break;\r\n    }\r\n  }\r\n\r\n  return (\r\n    <button\r\n      className={\r\n        't-btn position-relative ' +\r\n        (repeatMode !== 0 ? 'text-light' : 'text-secondary')\r\n      }\r\n      onClick={repeatIt}\r\n    >\r\n      {renderSwitch(repeatMode)}\r\n    </button>\r\n  );\r\n}\r\nexport default RepeatBtn;\r\n","import PlayArrowIcon from '@material-ui/icons/PlayArrowTwoTone';\r\nimport PauseIcon from '@material-ui/icons/Pause';\r\nimport SkipPreviousTwoToneIcon from '@material-ui/icons/SkipPreviousTwoTone';\r\nimport SkipNextTwoToneIcon from '@material-ui/icons/SkipNextTwoTone';\r\nimport { getColor, getImage } from '../../utils/helperFunctions';\r\nimport { useRef } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport DrawArc from '../../utils/drawArc';\r\nimport RepeatBtn from '../../utils/repeat';\r\n\r\nconst MinPlayer3 = ({ handlePlayPause, skipNext, skipPrevious, sideBartype }) => {\r\n  const { current, playing } = useSelector((state) => state.player);\r\n  const { darkMode, colorpalette } = useSelector((state) => state.app);\r\n  const imgRef = useRef();\r\n  const albumSM = getImage(current?.album?.images, 'sm');\r\n\r\n  return (\r\n    <div className={\"minimised-player-3 \" + (sideBartype && 'min-pos')} id={current?.id + '3'}>\r\n      <DrawArc\r\n        x={150}\r\n        y={150}\r\n        radius={150}\r\n        startAngle={300}\r\n        endAngle={60}\r\n        svgWidth=\"300\"\r\n        svgHeight=\"300\"\r\n        svgViewBox=\"0 0 300 300\"\r\n        outerWidth='100%'\r\n        outerHeight='100%'\r\n        className={\"mini-player-3-arc\"}\r\n        arcWidth={15}\r\n        arcColor={\"var(--min-player-3-bg-lite)\"}\r\n      />\r\n      <div className=\"min-3-left\">\r\n        <img\r\n          src={albumSM ? albumSM : '/bg3.png'}\r\n          alt=\"album-art-mini\"\r\n          className=\"mini-album-art-3\"\r\n          ref={imgRef}\r\n          crossOrigin=\"anonymous\"\r\n        />\r\n      </div>\r\n      <div className=\"min-3-mid\">\r\n        <div className=\"\">\r\n          <button className=\"t-btn\" onClick={skipPrevious}>\r\n            <SkipPreviousTwoToneIcon\r\n              fontSize=\"large\"\r\n              style={{\r\n                color:\r\n                  darkMode || colorpalette ? 'white' : 'var(--text-primary)',\r\n              }}\r\n            />\r\n          </button>\r\n          <button className=\"t-btn\" onClick={skipNext}>\r\n            <SkipNextTwoToneIcon\r\n              fontSize=\"large\"\r\n              style={{\r\n                color:\r\n                  darkMode || colorpalette ? 'white' : 'var(--text-primary)',\r\n              }}\r\n            />\r\n          </button>\r\n          <button className={\"main-play-container \" + (playing && 'pulse-outer')} onClick={handlePlayPause}>\r\n            {playing ? (\r\n              <PauseIcon\r\n                fontSize=\"large\"\r\n                style={{\r\n                  color:\r\n                    darkMode || colorpalette\r\n                      ? 'white'\r\n                      : 'var(--text-primary)',\r\n                }}\r\n              />\r\n            ) : (\r\n              <PlayArrowIcon\r\n                fontSize=\"large\"\r\n                style={{\r\n                  color:\r\n                    darkMode || colorpalette\r\n                      ? 'white'\r\n                      : 'var(--text-primary)',\r\n                }}\r\n              />\r\n            )}\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div className=\"min-3-right\">\r\n        <RepeatBtn />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default MinPlayer3;\r\n","import React, { useRef, useState } from \"react\"\r\nimport useCheckDevice from \"./checkDevice\";\r\n\r\nconst MultipleActions = React.forwardRef((props, ref) => {\r\n    const { isMobile } = useCheckDevice();\r\n    const [waitingClick, setWaitingClick] = useState(null);\r\n    const [lastClick, setLastClick] = useState(0);\r\n    //Double click check for mobiles (Screen size < 768px)\r\n    const processClick = (e) => {\r\n        if (lastClick && e.timeStamp - lastClick < 250 &&\r\n            waitingClick) {\r\n            setLastClick(0);\r\n            clearTimeout(waitingClick);\r\n            setWaitingClick(null);\r\n            props.onDoubleClick();  //Double click code\r\n        }\r\n        else {\r\n            setLastClick(e.timeStamp);\r\n            setWaitingClick(setTimeout(() => {\r\n                setWaitingClick(null);\r\n                props.onClick();    //Single click code\r\n            }, 251))\r\n\r\n        }\r\n    }\r\n\r\n    //Double click check for Desktops (Screen size > 768px)\r\n    const timer = useRef();\r\n    const onClickHandler = e => {\r\n        clearTimeout(timer.current);\r\n        if (e.detail === 1) {\r\n            timer.current = setTimeout(props.onClick, 200)\r\n        } else if (e.detail === 2) {\r\n            props.onDoubleClick();\r\n        }\r\n    }\r\n\r\n    // Swipe logic for smartphones----------------------------------------------------\r\n    const [touchStart, setTouchStart] = useState(null);\r\n    const [touchEnd, setTouchEnd] = useState(null);\r\n\r\n    // the required distance between touchStart and touchEnd to be detected as a swipe\r\n    const minSwipeDistance = 20;\r\n\r\n    //avoid these targets\r\n    const target = ['range'];\r\n\r\n    const onTouchStart = (e) => {\r\n        if (target.includes(e.target.type)) return;\r\n        setTouchEnd(null); // otherwise the swipe is fired even with usual touch events\r\n        setTouchStart(e.targetTouches[0].clientX);\r\n    }\r\n\r\n    const onTouchMove = (e) => {\r\n        if (target.includes(e.target.type)) return;\r\n        setTouchEnd(e.targetTouches[0].clientX);\r\n    }\r\n\r\n    const onTouchEnd = (e) => {\r\n        if (!touchStart || !touchEnd) return;\r\n        if (!props.current || target.includes(e.target.type)) return;\r\n        const distance = touchStart - touchEnd;\r\n        const isLeftSwipe = distance > minSwipeDistance;\r\n        const isRightSwipe = distance < -minSwipeDistance;\r\n        if (isLeftSwipe || isRightSwipe) isLeftSwipe ? props.handleSwipeLeft() : props.handleSwipeRight();\r\n    }\r\n\r\n    // Swipe Logic for desktops-------------------------------------------------------\r\n    const [mouseDown, setMouseDown] = useState(null);\r\n    const [mouseUp, setMouseUp] = useState(null);\r\n\r\n    const onMouseDown = (e) => {\r\n        if (target.includes(e.target.type)) return;\r\n        setMouseDown(null); // otherwise the swipe is fired even with usual touch events\r\n        setMouseDown(e.clientX);\r\n    }\r\n    const onMouseMove = (e) => {\r\n        if (target.includes(e.target.type)) return;\r\n        setMouseUp(e.clientX);\r\n    }\r\n\r\n    const onMouseUp = (e) => {\r\n        if (!mouseDown || !mouseUp) return;\r\n        if (!props.current || target.includes(e.target.type)) return;\r\n        const distance = mouseDown - mouseUp;\r\n        const isLeftSwipe = distance > minSwipeDistance;\r\n        const isRightSwipe = distance < -minSwipeDistance;\r\n        if (isLeftSwipe || isRightSwipe) isLeftSwipe ? props.handleSwipeLeft() : props.handleSwipeRight();\r\n    }\r\n\r\n    return (\r\n        <div\r\n            className={props.className}\r\n            onClick={(e) => isMobile ? processClick(e) : onClickHandler(e)}\r\n            onTouchStart={onTouchStart}\r\n            onTouchMove={onTouchMove}\r\n            onTouchEnd={onTouchEnd}\r\n            onMouseDown={onMouseDown}\r\n            onMouseUp={onMouseUp}\r\n            onMouseMove={onMouseMove}\r\n            style={props.style}\r\n            ref={ref}\r\n        >\r\n            {props.children}\r\n        </div>\r\n    )\r\n});\r\n\r\nexport default MultipleActions;","import { useEffect, useState } from 'react';\r\nimport { millisToMinutesAndSeconds } from '../../utils/helperFunctions';\r\nimport '../../styling/playerSlider.css';\r\nimport useSpotify from '../../hooks/useSpotify';\r\nimport { useSelector } from 'react-redux';\r\n\r\nfunction MinSlider1() {\r\n    const { current, position_ms, playing } = useSelector(\r\n        (state) => state.player\r\n    );\r\n    const spotify = useSpotify();\r\n\r\n    const [instance, setInstance] = useState(0);\r\n    const [pos, setPos] = useState(0);\r\n\r\n    useEffect(() => {\r\n        if (!current) return;\r\n        setInstance((pos / current.duration_ms) * 100);\r\n    }, [pos]);\r\n    useEffect(() => {\r\n        setPos(position_ms);\r\n    }, [position_ms]);\r\n\r\n    useEffect(() => {\r\n        let interval = null;\r\n        if (playing) {\r\n            interval = setInterval(() => {\r\n                setPos((pos) => pos + 1000);\r\n            }, 1000);\r\n        } else {\r\n            clearInterval(interval);\r\n        }\r\n        return () => clearInterval(interval);\r\n    }, [playing]);\r\n\r\n    const handleSeeker = () => {\r\n        var seekms = ((instance * current?.duration_ms) / 100).toFixed(0);\r\n        spotify\r\n            .seek(seekms)\r\n            .then(function () {\r\n                //console.log('Seek to ' + instance);\r\n            })\r\n            .catch(function (err) {\r\n                //if the user making the request is non-premium, a 403 FORBIDDEN response code will be returned\r\n                console.log('Something went wrong!', err);\r\n            });\r\n    };\r\n\r\n    return (\r\n        <div className=\"justify-content-center align-items-center d-flex\">\r\n            <div className=\"playerSlider w-100\">\r\n                <div className='text-timer-outer mb-0 mt-1'>\r\n                    <p className=\"min-2-text-timer\">\r\n                        {current\r\n                            ? millisToMinutesAndSeconds(\r\n                                ((instance * current.duration_ms) / 100).toFixed(0)\r\n                            )\r\n                            : '00:00'}\r\n                    </p>\r\n                    <p className=\"min-2-text-timer\">\r\n                        {current ? millisToMinutesAndSeconds(current.duration_ms) : '00:00'}\r\n                    </p>\r\n                </div>\r\n                <input\r\n                    type=\"range\"\r\n                    className=\"min-range-2 mx-2\"\r\n                    min=\"0\"\r\n                    max=\"100\"\r\n                    value={instance}\r\n                    style={{\r\n                        background: `linear-gradient(90deg, var(--main-theme) ${instance}%, #fff 60%)`,\r\n                    }}\r\n                    onChange={(e) => setInstance(e.target.value)}\r\n                    onMouseUp={handleSeeker}\r\n                    onKeyUp={handleSeeker}\r\n                    onTouchEnd={handleSeeker}\r\n                />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\nexport default MinSlider1;\r\n","import { useCallback, useRef, useState } from \"react\";\r\n\r\nconst useLongPress = (\r\n    onLongPress,\r\n    onClick,\r\n    { shouldPreventDefault = false, delay = 300 } = {}\r\n) => {\r\n    const [longPressTriggered, setLongPressTriggered] = useState(false);\r\n    const timeout = useRef();\r\n    const target = useRef();\r\n\r\n    const start = useCallback(\r\n        event => {\r\n            if (shouldPreventDefault && event.target) {\r\n                event.target.addEventListener(\"touchend\", preventDefault, {\r\n                    passive: false\r\n                });\r\n                target.current = event.target;\r\n            }\r\n            timeout.current = setTimeout(() => {\r\n                onLongPress(event);\r\n                setLongPressTriggered(true);\r\n            }, delay);\r\n        },\r\n        [onLongPress, delay, shouldPreventDefault]\r\n    );\r\n\r\n    const clear = useCallback(\r\n        (event, shouldTriggerClick = true) => {\r\n            timeout.current && clearTimeout(timeout.current);\r\n            //shouldTriggerClick && !longPressTriggered && onClick();\r\n            setLongPressTriggered(false);\r\n            if (shouldPreventDefault && target.current) {\r\n                target.current.removeEventListener(\"touchend\", preventDefault);\r\n            }\r\n        },\r\n        [shouldPreventDefault, onClick, longPressTriggered]\r\n    );\r\n\r\n    return {\r\n        onMouseDown: e => start(e),\r\n        onTouchStart: e => start(e),\r\n        onMouseUp: e => clear(e),\r\n        onMouseLeave: e => clear(e, false),\r\n        onTouchEnd: e => clear(e)\r\n    };\r\n};\r\n\r\nconst isTouchEvent = event => {\r\n    return \"touches\" in event;\r\n};\r\n\r\nconst preventDefault = event => {\r\n    if (!isTouchEvent(event)) return;\r\n\r\n    if (event.touches.length < 2 && event.preventDefault) {\r\n        event.preventDefault();\r\n    }\r\n};\r\n\r\nexport default useLongPress;","import PlayArrowIcon from '@material-ui/icons/PlayArrowTwoTone';\r\nimport PauseIcon from '@material-ui/icons/Pause';\r\nimport FastRewindRoundedIcon from '@material-ui/icons/FastRewindRounded';\r\nimport FastForwardRoundedIcon from '@material-ui/icons/FastForwardRounded';\r\nimport { getColorOnly, getImage } from '../../utils/helperFunctions';\r\nimport { useEffect, useRef, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport MultipleActions from '../../utils/MultipleActions';\r\nimport { handlePlayPause } from '../../store/actions/spotify-actions';\r\nimport MinSlider1 from '../nowPlayingSlider/mini-slider-1';\r\nimport RepeatBtn from '../../utils/repeat';\r\nimport UseOutsideAlerter from '../../utils/useClickedOutside';\r\nimport { islandConstants, islandLongPressConstant, islandPositionSettings } from '../settings/settingConstants';\r\nimport useLongPress from '../../utils/useLongPress';\r\n\r\nconst MinPlayer4 = ({ skipNext, skipPrevious, maxPlayer, handleSwitch }) => {\r\n    const dispatch = useDispatch();\r\n    const [island, setIsland] = useState(true);\r\n    const { current, playing, islandDouble, islandPos, islandSwipeLeft, islandSwipeRight, islandLongPress } = useSelector((state) => state.player);\r\n    const { darkMode, colorpalette } = useSelector((state) => state.app);\r\n    const imgRef = useRef();\r\n    const miniRef = useRef();\r\n\r\n    const albumSM = getImage(current?.album?.images, 'sm');\r\n    const songName = document.querySelector('.island-np-name');\r\n\r\n    const getColorpalette = (ref) => {\r\n        if (colorpalette) {\r\n            let col = getColorOnly(ref);\r\n            document.querySelector('.dynamic-island').style.background = `rgba(${col[0]},${col[1]},${col[2]},1)`;\r\n        } else {\r\n            document.querySelector('.dynamic-island').style.background = 'var(--max-player-1-bg)';\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        document.querySelector('.dynamic-island').style.maxWidth = ``;\r\n        if (!island) {\r\n            songName.classList.remove('active');\r\n            document.querySelector('.dynamic-island').classList.remove('expand');\r\n        }\r\n    }, [island])\r\n\r\n\r\n    const showSong = () => {\r\n        if (!songName) return;\r\n        if (island) {\r\n            document.querySelector('.dynamic-island').classList.add('expand');\r\n            songName.classList.add('active');\r\n        }\r\n        if (songName.classList.contains('active')) {\r\n            const timeout = setTimeout(() => {\r\n                songName.classList.remove('active');\r\n                document.querySelector('.dynamic-island').classList.remove('expand');\r\n            }, 10000);\r\n            return () => {\r\n                clearTimeout(timeout);\r\n            };\r\n        }\r\n    }\r\n\r\n\r\n    const handlePlay = () => {\r\n        dispatch(handlePlayPause());\r\n    };\r\n    const handleIsland = () => {\r\n        setIsland(!island);\r\n    }\r\n    const shutIsland = () => {\r\n        setIsland(true);\r\n    }\r\n    const handleDoubleCLick = () => {\r\n        switch (islandConstants[islandDouble]?.use) {\r\n            case 'playPause':\r\n                handlePlay();\r\n                break;\r\n\r\n            case 'skipNext':\r\n                skipNext();\r\n                break;\r\n            case 'skipPrevious':\r\n                skipPrevious();\r\n                break;\r\n            default:\r\n                console.log('please add this func to constant entries');\r\n                break;\r\n        }\r\n    }\r\n\r\n    const handleSwipeLeft = () => {\r\n        switch (islandConstants[islandSwipeLeft]?.use) {\r\n            case 'playPause':\r\n                handlePlay();\r\n                break;\r\n\r\n            case 'skipNext':\r\n                skipNext();\r\n                break;\r\n            case 'skipPrevious':\r\n                skipPrevious();\r\n                break;\r\n            default:\r\n                console.log('please add this func to constant entries');\r\n                break;\r\n        }\r\n    }\r\n\r\n    const handleSwipeRight = () => {\r\n        switch (islandConstants[islandSwipeRight]?.use) {\r\n            case 'playPause':\r\n                handlePlay();\r\n                break;\r\n\r\n            case 'skipNext':\r\n                skipNext();\r\n                break;\r\n            case 'skipPrevious':\r\n                skipPrevious();\r\n                break;\r\n            default:\r\n                console.log('please add this func to constant entries');\r\n                break;\r\n        }\r\n    }\r\n\r\n    const handleLongPress = (e) => {\r\n        switch (islandLongPressConstant[islandLongPress]?.use) {\r\n            case 'handleSwitch':\r\n                handleSwitch();\r\n                break;\r\n\r\n            case 'maxPlayer':\r\n                maxPlayer(e);\r\n                break;\r\n            default:\r\n                console.log('please add this func to constant entries');\r\n                break;\r\n        }\r\n    }\r\n    const defaultOptions = {\r\n        shouldPreventDefault: true,\r\n        delay: 500,\r\n    };\r\n    const longPress = useLongPress(handleLongPress, defaultOptions);\r\n\r\n\r\n    return (\r\n        <MultipleActions\r\n            onDoubleClick={handleDoubleCLick}\r\n            onClick={handleIsland}\r\n            handleSwipeLeft={handleSwipeLeft}\r\n            handleSwipeRight={handleSwipeRight}\r\n            current={current}\r\n            className={\"dynamic-island \" + (islandPositionSettings[islandPos]?.class) + (island ? '' : ' active')}\r\n            ref={miniRef}>\r\n            <div className=\"island\">\r\n                <UseOutsideAlerter ref={miniRef} handleFunc={shutIsland} />\r\n                <div className='mini-island'>\r\n                    <img\r\n                        src={albumSM ? albumSM : '/bg3.png'}\r\n                        alt=\"album-art-mini\"\r\n                        ref={imgRef}\r\n                        crossOrigin=\"anonymous\"\r\n                        onLoad={() => { getColorpalette(imgRef); showSong() }}\r\n                        {...longPress}\r\n                    />\r\n                    <span className='island-np-name' style={{ textAlign: (current?.name.length < 25) ? 'center' : 'left' }}>{current?.name}</span>\r\n                    <div className=\"island-s-info\" hidden={island}>\r\n                        <span\r\n                            className=\"np-name\"\r\n                            style={{\r\n                                color: darkMode || colorpalette ? 'white' : 'var(--text-primary)',\r\n                            }}\r\n                        >\r\n                            {current ? current.name : 'Music track'}\r\n                        </span>\r\n                        <span\r\n                            className=\"bp-name\"\r\n                            style={{\r\n                                color: 'var(--bp-name)',\r\n                            }}\r\n                        >\r\n                            {current\r\n                                ? current?.artists?.map(\r\n                                    (item, index) => (index ? ', ' : '') + item.name\r\n                                )\r\n                                : 'by..'}\r\n                        </span>\r\n                    </div>\r\n                    <div className='loader'>\r\n                        {Array(5)\r\n                            .fill()\r\n                            .map((x, i) => (\r\n                                <span key={i} className=\"stroke\" style={{ background: current?.name ? '' : 'black', animationPlayState: playing ? '' : 'paused' }}></span>\r\n                            ))}\r\n                    </div>\r\n                </div>\r\n                <div className=\"island-controls\" hidden={island}>\r\n                    <div className='controls-slider'>\r\n                        <MinSlider1 />\r\n                    </div>\r\n                    <div className='controls-btn'>\r\n                        <button className=\"t-btn\" onClick={maxPlayer}>\r\n                            <ion-icon name=\"open-outline\"></ion-icon>\r\n                        </button>\r\n                        <button className=\"t-btn\" onClick={skipPrevious}>\r\n                            <FastRewindRoundedIcon\r\n                                fontSize=\"large\"\r\n                                style={{\r\n                                    color:\r\n                                        darkMode || colorpalette ? 'white' : 'var(--text-primary)',\r\n                                }}\r\n                            />\r\n                        </button>\r\n                        <button className=\"t-btn\" onClick={handlePlay}>\r\n                            {playing ? (\r\n                                <PauseIcon\r\n                                    fontSize=\"large\"\r\n                                    style={{\r\n                                        color:\r\n                                            darkMode || colorpalette\r\n                                                ? 'white'\r\n                                                : 'var(--text-primary)',\r\n                                    }}\r\n                                />\r\n                            ) : (\r\n                                <PlayArrowIcon\r\n                                    fontSize=\"large\"\r\n                                    style={{\r\n                                        color:\r\n                                            darkMode || colorpalette\r\n                                                ? 'white'\r\n                                                : 'var(--text-primary)',\r\n                                    }}\r\n                                />\r\n                            )}\r\n                        </button>\r\n                        <button className=\"t-btn\" onClick={skipNext}>\r\n                            <FastForwardRoundedIcon\r\n                                fontSize=\"large\"\r\n                                style={{\r\n                                    color:\r\n                                        darkMode || colorpalette ? 'white' : 'var(--text-primary)',\r\n                                }}\r\n                            />\r\n                        </button>\r\n                        <RepeatBtn color='grey' />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div></div>\r\n        </MultipleActions>\r\n    );\r\n};\r\nexport default MinPlayer4;\r\n","import '../styling/player.css';\r\nimport MinPlayer1 from './minplayerTypes/player1';\r\nimport MinPlayer2 from './minplayerTypes/player2';\r\nimport MinPlayer3 from './minplayerTypes/player3';\r\nimport { useSelector } from 'react-redux';\r\nimport MinPlayer4 from './minplayerTypes/player4';\r\nfunction MinPlayer({\r\n  maxPlayer,\r\n  handlePlayPause,\r\n  minPlayer,\r\n  skipNext,\r\n  skipPrevious,\r\n  sideBartype,\r\n  handleSwitch\r\n}) {\r\n  const { minplayertype } = useSelector((state) => state.player);\r\n  //console.log(minplayertype);\r\n  function minType() {\r\n    switch (minplayertype) {\r\n      case 0:\r\n        return (\r\n          <div onClick={maxPlayer} hidden={!minPlayer}>\r\n            <MinPlayer1 handlePlayPause={handlePlayPause} sideBartype={sideBartype} />\r\n          </div>\r\n        );\r\n\r\n      case 1:\r\n        return (\r\n          <div onClick={maxPlayer} hidden={!minPlayer}>\r\n            <MinPlayer2\r\n              handlePlayPause={handlePlayPause}\r\n              skipNext={skipNext}\r\n              skipPrevious={skipPrevious}\r\n              sideBartype={sideBartype}\r\n            />\r\n          </div>\r\n        );\r\n\r\n      case 2:\r\n        return (\r\n          <div onClick={maxPlayer} hidden={!minPlayer}>\r\n            <MinPlayer3\r\n              handlePlayPause={handlePlayPause}\r\n              skipNext={skipNext}\r\n              skipPrevious={skipPrevious}\r\n              sideBartype={sideBartype}\r\n            />\r\n          </div>\r\n        );\r\n      case 3:\r\n        return (\r\n          <MinPlayer4\r\n            skipNext={skipNext}\r\n            skipPrevious={skipPrevious}\r\n            maxPlayer={maxPlayer}\r\n            handleSwitch={handleSwitch}\r\n          />\r\n        );\r\n      default:\r\n        console.log('Error');\r\n        break;\r\n    }\r\n  }\r\n  return (\r\n    <>\r\n      {minType()}\r\n    </>\r\n  );\r\n}\r\nexport default MinPlayer;\r\n","import ShuffleIcon from '@material-ui/icons/Shuffle';\r\nimport { useSelector } from 'react-redux';\r\nimport useSpotify from '../hooks/useSpotify';\r\n\r\nfunction ShuffleBtn() {\r\n  const { isShuffle } = useSelector((state) => state.player);\r\n  const { colorpalette } = useSelector((state) => state.app);\r\n  const spotify = useSpotify();\r\n\r\n  function shuffleIt() {\r\n    spotify.setShuffle(!isShuffle).then(\r\n      function () {\r\n        //console.log('Shuffle is ' + !shuffle);\r\n      },\r\n      function (err) {\r\n        //if the user making the request is non-premium, a 403 FORBIDDEN response code will be returned\r\n        console.log('Something went wrong!', err);\r\n      }\r\n    );\r\n  }\r\n  return (\r\n    <button className={'t-btn '} onClick={shuffleIt}>\r\n      <ShuffleIcon\r\n        style={{\r\n          color: isShuffle\r\n            ? 'var(--main-theme)'\r\n            : 'white',\r\n        }}\r\n      />\r\n    </button>\r\n  );\r\n}\r\nexport default ShuffleBtn;\r\n","import ComputerIcon from '@material-ui/icons/Computer';\r\nimport PhoneIphoneIcon from '@material-ui/icons/PhoneIphone';\r\nimport Devices from '@material-ui/icons/Devices';\r\nimport SurroundSoundIcon from '@material-ui/icons/SurroundSound';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { toggleMyDevices } from '../store/actions/app-actions';\r\nimport { getMyDevices, transferMyPlayback } from '../store/actions/spotify-actions';\r\nimport { useEffect } from 'react';\r\n\r\nfunction MyDevices({ handedness }) {\r\n  const dispatch = useDispatch();\r\n  const { deviceId, playerReady } = useSelector((state) => state.player);\r\n  const { settings } = useSelector((state) => state.app);\r\n  const { mydevices } = useSelector((state) => state.user);\r\n  let hside;\r\n  if (typeof handedness === 'boolean') {\r\n    hside = handedness ? 'right' : 'left';\r\n  }\r\n\r\n  useEffect(() => {\r\n    dispatch(getMyDevices());\r\n  }, [settings?.isDevices])\r\n\r\n  const showDevices = () => {\r\n    dispatch(toggleMyDevices(!settings.isDevices));\r\n  };\r\n\r\n  function deviceType(type, check) {\r\n    switch (type) {\r\n      case 'Computer':\r\n        return (\r\n          <ComputerIcon\r\n            fontSize=\"medium\"\r\n            style={{\r\n              color: check ? 'var(--main-theme)' : 'var(--text-secondary)',\r\n            }}\r\n          />\r\n        );\r\n      case 'Smartphone':\r\n        return (\r\n          <PhoneIphoneIcon\r\n            fontSize=\"medium\"\r\n            style={{\r\n              color: check ? 'var(--main-theme)' : 'var(--text-secondary)',\r\n            }}\r\n          />\r\n        );\r\n      default:\r\n        return (\r\n          <PhoneIphoneIcon\r\n            fontSize=\"medium\"\r\n            style={{\r\n              color: check ? 'var(--main-theme)' : 'var(--text-secondary)',\r\n            }}\r\n          />\r\n        );\r\n    }\r\n  }\r\n  function setDevice(device) {\r\n    if (!device?.id) return;\r\n    dispatch(transferMyPlayback(device));\r\n  }\r\n\r\n  function DevicesLayout({ device }) {\r\n    const check = deviceId === device?.id && playerReady;\r\n    return (\r\n      <div className=\"device-list\" onClick={() => setDevice(device)}>\r\n        {deviceType(device.type, check)}\r\n        <div className=\"device-info font-1-s\">\r\n          <span\r\n            className=\"device-name\"\r\n            style={{ color: check ? 'var(--main-theme)' : 'white' }}\r\n          >\r\n            {device.name}\r\n          </span>\r\n          <span\r\n            className=\"device-desc\"\r\n            style={{ color: check ? 'var(--main-theme)' : 'grey' }}\r\n          >\r\n            <SurroundSoundIcon\r\n              style={{\r\n                color: check ? 'var(--main-theme)' : 'var(--text-secondary)',\r\n              }}\r\n              fontSize=\"small\"\r\n            />{' '}\r\n            Spotify Connect\r\n          </span>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"devices-container\">\r\n      <button className=\"t-btn ms-4\" onClick={showDevices}>\r\n        <Devices\r\n          style={{\r\n            color: settings.isDevices\r\n              ? 'var(--main-theme)'\r\n              : 'white', fontSize: '1.5rem'\r\n          }}\r\n        />\r\n      </button>\r\n      {settings.isDevices && (\r\n        <div className={`my-devices ${hside}`}>\r\n          <p\r\n            className=\"section-heading p-3\"\r\n            style={{ color: 'var(--text-secondary)' }}\r\n          >\r\n            Connected devices\r\n          </p>\r\n          <img src=\"/devices.png\" alt=\"devices\" />\r\n          {mydevices?.map((device, index) => (\r\n            <DevicesLayout key={index} device={device} />\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MyDevices;\r\n","import { useEffect, useState } from 'react';\r\nimport { millisToMinutesAndSeconds } from '../../utils/helperFunctions';\r\nimport '../../styling/playerSlider.css';\r\nimport useSpotify from '../../hooks/useSpotify';\r\nimport { useSelector } from 'react-redux';\r\n\r\nfunction PlayerSlider1() {\r\n  const { current, position_ms, playing } = useSelector(\r\n    (state) => state.player\r\n  );\r\n  const spotify = useSpotify();\r\n\r\n  const [instance, setInstance] = useState(0);\r\n  const [pos, setPos] = useState(0);\r\n\r\n  useEffect(() => {\r\n    if (!current) return;\r\n    setInstance((pos / current.duration_ms) * 100);\r\n  }, [pos]);\r\n  useEffect(() => {\r\n    setPos(position_ms);\r\n  }, [position_ms]);\r\n\r\n  useEffect(() => {\r\n    let interval = null;\r\n    if (playing) {\r\n      interval = setInterval(() => {\r\n        setPos((pos) => pos + 1000);\r\n      }, 1000);\r\n    } else {\r\n      clearInterval(interval);\r\n    }\r\n    return () => clearInterval(interval);\r\n  }, [playing]);\r\n\r\n  const handleSeeker = () => {\r\n    var seekms = ((instance * current?.duration_ms) / 100).toFixed(0);\r\n    spotify\r\n      .seek(seekms)\r\n      .then(function () {\r\n        //console.log('Seek to ' + instance);\r\n      })\r\n      .catch(function (err) {\r\n        //if the user making the request is non-premium, a 403 FORBIDDEN response code will be returned\r\n        console.log('Something went wrong!', err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"justify-content-center align-items-center d-flex\">\r\n      <div className=\"playerSlider w-100\">\r\n        <div className='text-timer-outer'>\r\n          <p className=\"text-timer\">\r\n            {current\r\n              ? millisToMinutesAndSeconds(\r\n                ((instance * current.duration_ms) / 100).toFixed(0)\r\n              )\r\n              : '00:00'}\r\n          </p>\r\n          <p className=\"text-timer\">\r\n            {current ? millisToMinutesAndSeconds(current.duration_ms) : '00:00'}\r\n          </p>\r\n        </div>\r\n        <input\r\n          type=\"range\"\r\n          className=\"range-2 mx-2\"\r\n          min=\"0\"\r\n          max=\"100\"\r\n          value={instance}\r\n          style={{\r\n            background: `linear-gradient(90deg, var(--main-theme) ${instance}%, #fff 60%)`,\r\n          }}\r\n          onChange={(e) => setInstance(e.target.value)}\r\n          onMouseUp={handleSeeker}\r\n          onKeyUp={handleSeeker}\r\n          onTouchEnd={handleSeeker}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default PlayerSlider1;\r\n","import KeyboardArrowUpIcon from '@material-ui/icons/KeyboardArrowUp';\r\nimport KeyboardArrowDownIcon from '@material-ui/icons/KeyboardArrowDown';\r\nimport CurrentPlaylist from '../../templates/current-playlist';\r\nimport { useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nfunction QueueFS() {\r\n  const { currentPlaylist } = useSelector((state) => state.library);\r\n  const [maximise, setMaximise] = useState(true);\r\n\r\n  function toggleMaxmin() {\r\n    setMaximise(!maximise);\r\n  }\r\n  return (\r\n    <div className=\"atp-outer-fs\">\r\n      <div className=\"atp\">\r\n        <div className=\"atp-header font-1-s \">\r\n          <span className=\"text-light h4 p-1\">Current Playlist</span>\r\n          <div className=\"d-flex\">\r\n            <button className=\"t-btn\" onClick={toggleMaxmin}>\r\n              {maximise ? (\r\n                <KeyboardArrowUpIcon\r\n                  fontSize=\"large\"\r\n                  style={{ color: 'white' }}\r\n                />\r\n              ) : (\r\n                <KeyboardArrowDownIcon\r\n                  fontSize=\"large\"\r\n                  style={{ color: 'white' }}\r\n                />\r\n              )}\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <div className=\"atp-inner px-1\" hidden={maximise}>\r\n          {currentPlaylist?.map((item, index) => (\r\n            <CurrentPlaylist\r\n              key={index}\r\n              index={index}\r\n              item={item}\r\n              list={currentPlaylist}\r\n              isUsers={null}\r\n              playlistId={null}\r\n            />\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default QueueFS;\r\n","import { getImage } from '../../utils/helperFunctions';\r\nimport PlayArrowTwoToneIcon from '@material-ui/icons/PlayArrowTwoTone';\r\nimport PauseTwoToneIcon from '@material-ui/icons/PauseTwoTone';\r\nimport SkipPreviousTwoToneIcon from '@material-ui/icons/SkipPreviousTwoTone';\r\nimport SkipNextTwoToneIcon from '@material-ui/icons/SkipNextTwoTone';\r\nimport PlayerSlider1 from '../nowPlayingSlider/player-slider-1';\r\nimport QueueFS from './queue-fs';\r\nimport { useSelector } from 'react-redux';\r\n\r\nfunction FullScreenPlayer({\r\n  fullS,\r\n  setFullS,\r\n  handlePlayPause,\r\n  skipNext,\r\n  skipPrevious,\r\n}) {\r\n  const { current, playing } = useSelector((state) => state.player);\r\n\r\n  return (\r\n    <div className=\"album-img-div\">\r\n      {fullS && (\r\n        <img\r\n          src={getImage(current?.album?.images, 'lg')}\r\n          alt=\"default-art\"\r\n          className=\"album-bg-fs\"\r\n        />\r\n      )}\r\n      <img\r\n        src={getImage(current?.album?.images, 'md')}\r\n        alt=\"default-art\"\r\n        className={fullS ? 'album-sm-fs' : 'album-sm'}\r\n        crossOrigin=\"anonymous\"\r\n      />\r\n\r\n      <div className=\"fullscreen-controls\" hidden={!fullS}>\r\n        <div className=\"s-info-text\">\r\n          <span className=\"np-name text-light d-flex\">\r\n            {current ? current.name : 'Music track'}\r\n          </span>\r\n          <div className=\"np-by-outer\">\r\n            <span className=\"np-by\">\r\n              {current\r\n                ? current?.track\r\n                  ? 'by..'\r\n                  : current?.artists.map(\r\n                      (item, index) => (index ? ', ' : '') + item.name\r\n                    )\r\n                : 'by..'}\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <PlayerSlider1 />\r\n        <div className=\"d-flex m-auto\">\r\n          <button className=\"t-btn\" onClick={skipPrevious}>\r\n            <SkipPreviousTwoToneIcon\r\n              fontSize=\"large\"\r\n              style={{ color: 'rgb(255,255,255)' }}\r\n            />\r\n          </button>\r\n          <button className={'play-container mx-5 '} onClick={handlePlayPause}>\r\n            {playing ? (\r\n              <PauseTwoToneIcon\r\n                fontSize=\"large\"\r\n                style={{ color: 'rgb(255,255,255)' }}\r\n              />\r\n            ) : (\r\n              <PlayArrowTwoToneIcon\r\n                fontSize=\"large\"\r\n                style={{ color: 'rgb(255,255,255)' }}\r\n              />\r\n            )}\r\n          </button>\r\n          <button className=\"t-btn\" onClick={skipNext}>\r\n            <SkipNextTwoToneIcon\r\n              fontSize=\"large\"\r\n              style={{ color: 'rgb(255,255,255)' }}\r\n            />\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div className=\"fs-playlist\" hidden={!fullS}>\r\n        <QueueFS />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default FullScreenPlayer;\r\n","import PlayArrowIcon from '@material-ui/icons/PlayArrowTwoTone';\r\nimport PauseIcon from '@material-ui/icons/Pause';\r\nimport SkipPreviousTwoToneIcon from '@material-ui/icons/SkipPreviousTwoTone';\r\nimport SkipNextTwoToneIcon from '@material-ui/icons/SkipNextTwoTone';\r\nimport VolumeDown from '@material-ui/icons/VolumeDown';\r\nimport QueueMusicIcon from '@material-ui/icons/QueueMusic';\r\nimport KeyboardOutlinedIcon from '@material-ui/icons/KeyboardOutlined';\r\nimport ShuffleBtn from '../../utils/shuffle';\r\nimport RepeatBtn from '../../utils/repeat';\r\nimport VolumeOff from '@material-ui/icons/VolumeOff';\r\nimport MyDevices from '../mydevices';\r\nimport { useState, useEffect } from 'react';\r\nimport { getArtistNames, getImage, pauseEvent } from '../../utils/helperFunctions';\r\nimport FullScreenPlayer from './fullscreen';\r\nimport { FullScreen, useFullScreenHandle } from 'react-full-screen';\r\nimport PlayerSlider1 from '../nowPlayingSlider/player-slider-1';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { toggleKeyboard, toggleQueue } from '../../store/actions/app-actions';\r\nimport { LyricsButton } from '../buttons';\r\n\r\nfunction MaxPlayer1({\r\n  skipNext,\r\n  skipPrevious,\r\n  handlePlayPause,\r\n  volume,\r\n  changeVolume,\r\n  setVolume,\r\n  mutePlayer,\r\n}) {\r\n  const dispatch = useDispatch();\r\n  const { current, playing, lyrics, isMuted } = useSelector(\r\n    (state) => state.player\r\n  );\r\n  const { settings } = useSelector((state) => state.app);\r\n  const [showLyrics, setShowLyrics] = useState(false);\r\n  const [fullS, setFullS] = useState(false);\r\n  const handle = useFullScreenHandle();\r\n\r\n  const artistNames = getArtistNames(current?.artists);\r\n  //console.log(lyrics);\r\n\r\n  const handleKeyboard = () => {\r\n    dispatch(toggleKeyboard(!settings.isKeyboard));\r\n  };\r\n  const handleQueue = () => {\r\n    dispatch(toggleQueue(!settings.isQueue));\r\n  };\r\n\r\n  //fullscreen handle\r\n  const handleFullScreen = () => {\r\n    if (fullS) {\r\n      setFullS(false);\r\n      handle.exit();\r\n    } else {\r\n      setFullS(true);\r\n      handle.enter();\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    const listener = () => {\r\n      if (!document.webkitIsFullScreen) {\r\n        // Run code on exit\r\n        setFullS(false);\r\n      }\r\n    };\r\n\r\n    const shortcutListener = (e) => {\r\n      //prevent eventlistener where not needed\r\n      if (e.target.classList.contains('escapeEvent')) return;\r\n\r\n      if (e.code === 'KeyF') {\r\n        handleFullScreen();\r\n      }\r\n    };\r\n\r\n    document.addEventListener('fullscreenchange', listener, false);\r\n    document.addEventListener('keydown', shortcutListener);\r\n\r\n    return () => {\r\n      document.removeEventListener('fullscreenchange', listener, false);\r\n      document.removeEventListener('keydown', shortcutListener);\r\n    };\r\n  });\r\n\r\n  return (\r\n    <div id=\"max-player-1\" className=\"max-player-1\">\r\n      {current && (\r\n        <img\r\n          src={getImage(current?.album?.images, 'lg')}\r\n          alt=\"default-art\"\r\n          className=\"album-bg\"\r\n        />\r\n      )}\r\n      {current ? (\r\n        <div className={'album-art'}>\r\n          <div className=\"fullscreen-btns\">\r\n            <button\r\n              className=\"t-btn fs-btn\"\r\n              onClick={handleFullScreen}\r\n              style={{ color: fullS ? 'var(--main-theme)' : 'white' }}\r\n            >\r\n              <ion-icon name=\"expand-outline\"></ion-icon>\r\n            </button>\r\n          </div>\r\n          {showLyrics ? (\r\n            <div className=\"lyric-container\">\r\n              <div className=\"lyric-div-outer\">\r\n                <img\r\n                  src={getImage(current?.album?.images, 'md')}\r\n                  alt=\"default-art\"\r\n                  className=\"album-lyric\"\r\n                  crossOrigin=\"anonymous\"\r\n                />\r\n                <div className=\"lyrics-outer\">\r\n                  <p className=\"lyrics-txt escapeEvent\">{lyrics}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <FullScreen handle={handle} className=\"album-art w-100\">\r\n              <FullScreenPlayer\r\n                handlePlayPause={handlePlayPause}\r\n                skipNext={skipNext}\r\n                skipPrevious={skipPrevious}\r\n                fullS={fullS}\r\n                setFullS={setFullS}\r\n              />\r\n            </FullScreen>\r\n          )}\r\n        </div>\r\n      ) : (\r\n        <div className={'default-art'}>\r\n          <div className=\"default-art-outer\">\r\n            <img src={'/bg3.png'} alt=\"default-art\" />\r\n          </div>\r\n        </div>\r\n      )}\r\n      <div className=\"controls-outer\">\r\n        <div className=\"music-info w-100\">\r\n          <div className=\"s-info d-flex\">\r\n            <div\r\n              className={\r\n                's-info-text ' + (current?.name.length > 30 && 'text-anim')\r\n              }\r\n            >\r\n              <span className={'np-name'}>\r\n                {current ? current.name : 'Music track'}\r\n              </span>\r\n              <div className=\"np-by-outer\">\r\n                <span className=\"np-by\">\r\n                  {current\r\n                    ? current?.track\r\n                      ? 'by..'\r\n                      : artistNames\r\n                    : 'by..'}\r\n                </span>\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <LyricsButton showLyrics={showLyrics} onClick={() => setShowLyrics(!showLyrics)} />\r\n            </div>\r\n          </div>\r\n\r\n          <PlayerSlider1 />\r\n        </div>\r\n\r\n        <div className=\"extra-controls\">\r\n          <MyDevices />\r\n          <button className=\"t-btn me-4\" onClick={handleQueue}>\r\n            <QueueMusicIcon\r\n              style={{\r\n                color: settings.isQueue\r\n                  ? 'var(--main-theme)'\r\n                  : 'white',\r\n              }}\r\n            />\r\n          </button>\r\n        </div>\r\n        <div className=\"controls pb-4\">\r\n          <div className=\"left-control\">\r\n            <MyDevices />\r\n            <button className=\"t-btn\" onClick={handleKeyboard}>\r\n              <KeyboardOutlinedIcon\r\n                style={{\r\n                  color: settings.isKeyboard\r\n                    ? 'var(--main-theme)'\r\n                    : 'white',\r\n                }}\r\n              />\r\n            </button>\r\n            <button className=\"t-btn\" onClick={handleQueue}>\r\n              <QueueMusicIcon\r\n                style={{\r\n                  color: settings.isQueue\r\n                    ? 'var(--main-theme)'\r\n                    : 'white',\r\n                }}\r\n              />\r\n            </button>\r\n          </div>\r\n          <div className=\"mid-control\">\r\n            <ShuffleBtn />\r\n            <button className=\"bg-transparent border-0\">\r\n              <SkipPreviousTwoToneIcon\r\n                onClick={skipPrevious}\r\n                className=\"controls-icon\"\r\n                fontSize=\"large\"\r\n                style={{ color: 'white' }}\r\n              />\r\n            </button>\r\n            <button className=\"main-play-container\" onClick={handlePlayPause}>\r\n              {playing ? (\r\n                <PauseIcon\r\n                  style={{ color: 'white' }}\r\n                  fontSize=\"large\"\r\n                />\r\n              ) : (\r\n                <PlayArrowIcon\r\n                  style={{ color: 'white' }}\r\n                  fontSize=\"large\"\r\n                />\r\n              )}\r\n            </button>\r\n            <button className=\"bg-transparent border-0\">\r\n              <SkipNextTwoToneIcon\r\n                onClick={skipNext}\r\n                className=\"controls-icon\"\r\n                fontSize=\"large\"\r\n                style={{ color: 'white' }}\r\n              />\r\n            </button>\r\n            <RepeatBtn />\r\n          </div>\r\n          <div className=\"right-control\">\r\n            <button className=\"t-btn me-2\" onClick={mutePlayer}>\r\n              {isMuted ? (\r\n                <VolumeOff style={{ color: 'red' }} />\r\n              ) : (\r\n                <VolumeDown style={{ color: 'grey' }} />\r\n              )}\r\n            </button>\r\n\r\n            <input\r\n              type=\"range\"\r\n              className=\"range-2\"\r\n              min=\"0\"\r\n              max=\"100\"\r\n              value={volume}\r\n              style={{\r\n                width: '60%',\r\n                background: `linear-gradient(90deg, var(--main-theme) ${volume}%, #fff 60%)`,\r\n              }}\r\n              onChange={(e) => setVolume(e.target.value)}\r\n              onMouseUp={changeVolume}\r\n              onKeyUp={changeVolume}\r\n              onTouchEnd={changeVolume}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default MaxPlayer1;\r\n","import '../../styling/player2.css';\r\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow';\r\nimport PauseIcon from '@material-ui/icons/Pause';\r\nimport SkipPreviousTwoToneIcon from '@material-ui/icons/SkipPreviousTwoTone';\r\nimport SkipNextTwoToneIcon from '@material-ui/icons/SkipNextTwoTone';\r\nimport VolumeDown from '@material-ui/icons/VolumeDown';\r\nimport QueueMusicIcon from '@material-ui/icons/QueueMusic';\r\nimport KeyboardTwoToneIcon from '@material-ui/icons/KeyboardTwoTone';\r\nimport { getColor, getColorOnly, getImage } from '../../utils/helperFunctions';\r\nimport ShuffleBtn from '../../utils/shuffle';\r\nimport RepeatBtn from '../../utils/repeat';\r\nimport VolumeOff from '@material-ui/icons/VolumeOff';\r\nimport { useRef, useState } from 'react';\r\nimport MyDevices from '../mydevices';\r\nimport PlayerSlider1 from '../nowPlayingSlider/player-slider-1';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { LyricsButton } from '../buttons';\r\nfunction MaxPlayer2({\r\n  skipNext,\r\n  skipPrevious,\r\n  handlePlayPause,\r\n  volume,\r\n  changeVolume,\r\n  setVolume,\r\n  mutePlayer,\r\n}) {\r\n  const dispatch = useDispatch();\r\n  const { current, playing, lyrics, isMuted } = useSelector(\r\n    (state) => state.player\r\n  );\r\n  const { colorpalette } = useSelector(\r\n    (state) => state.app\r\n  );\r\n  const { settings } = useSelector((state) => state.app);\r\n  const [showLyrics, setShowLyrics] = useState(false);\r\n  const imgRef = useRef();\r\n\r\n  const handleKeyboard = () => {\r\n    dispatch({\r\n      type: 'TOGGLE_KEYBOARD',\r\n      show: !settings.isKeyboard,\r\n    });\r\n  };\r\n  const loadColors = () => {\r\n    const max1 = document.querySelector('.max-player-2');\r\n    if (!colorpalette) {\r\n      max1.style.backgroundColor = `var(--max-player-1-bg)`;\r\n    } else {\r\n      let col = getColorOnly(imgRef);\r\n      max1.style.backgroundColor = `rgba(${col[0]},${col[1]},${col[2]},0.7)`;\r\n    }\r\n  };\r\n\r\n  const handleQueue = () => {\r\n    dispatch({\r\n      type: 'TOGGLE_QUEUE',\r\n      show: !settings.isQueue,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"max-player-2\">\r\n      {current ? (\r\n        <div className={'mp2-album-art'}>\r\n          {showLyrics ? (\r\n            <div className=\"mp2-lyric-div-outer\">\r\n              <img\r\n                src={getImage(current?.album?.images, 'md')}\r\n                alt=\"default-art\"\r\n                className=\"mp2-album-lyric\"\r\n                crossOrigin=\"anonymous\"\r\n              />\r\n              <div className=\"mp2-lyrics-outer\">\r\n                <p className=\"mp2-lyrics-txt\">{lyrics}</p>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <img\r\n              src={getImage(current?.album?.images, 'lg')}\r\n              alt=\"default-art\"\r\n              ref={imgRef}\r\n              crossOrigin=\"anonymous\"\r\n              onLoad={loadColors}\r\n            />\r\n          )}\r\n        </div>\r\n      ) : (\r\n        <div className={'default-art'}>\r\n          <div className=\"default-art-outer\">\r\n            <img src={'/bg3.png'} alt=\"default-art\" />\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"mp2-controls\">\r\n        <div className=\"music-info\">\r\n          <div className=\"s-info\">\r\n            <div\r\n              className={\r\n                's-info-text ' + (current?.name.length > 30 && 'text-anim')\r\n              }\r\n            >\r\n              <span className=\"np-name text-light\">\r\n                {current ? current.name : 'Music track'}\r\n              </span>\r\n              <div className=\"np-by-outer\">\r\n                <span className=\"np-by\" style={{ color: 'wheat' }}>\r\n                  {current\r\n                    ? current?.track\r\n                      ? 'by..'\r\n                      : current?.artists.map(\r\n                        (item, index) => (index ? ', ' : '') + item.name\r\n                      )\r\n                    : 'by..'}\r\n                </span>\r\n              </div>\r\n            </div>\r\n            <div className='lyric-btn-outer'>\r\n              <LyricsButton showLyrics={showLyrics} onClick={() => setShowLyrics(!showLyrics)} />\r\n            </div>\r\n          </div>\r\n\r\n          <PlayerSlider1 />\r\n        </div>\r\n        <div className=\"d-lg-none d-flex justify-content-between\">\r\n          <MyDevices />\r\n          <button className=\"t-btn me-4\" onClick={handleQueue}>\r\n            <QueueMusicIcon\r\n              style={{\r\n                color: settings.isQueue ? 'var(--main-theme)' : 'white',\r\n              }}\r\n            />\r\n          </button>\r\n        </div>\r\n        <div className=\"controls d-flex justify-content-center mb-2 mb-lg-0\">\r\n          <div className=\"left-control d-lg-flex d-none\">\r\n            <MyDevices />\r\n            <button className=\"t-btn\" onClick={handleKeyboard}>\r\n              <KeyboardTwoToneIcon\r\n                style={{\r\n                  color: settings.isKeyboard ? 'var(--main-theme)' : 'white',\r\n                }}\r\n              />\r\n            </button>\r\n            <button className=\"t-btn\">\r\n              <QueueMusicIcon\r\n                style={{\r\n                  color: settings.isQueue ? 'var(--main-theme)' : 'white',\r\n                }}\r\n                onClick={handleQueue}\r\n              />\r\n            </button>\r\n          </div>\r\n          <div className=\"mid-control\">\r\n            <ShuffleBtn />\r\n            <button className=\"t-btn\">\r\n              <SkipPreviousTwoToneIcon\r\n                onClick={skipPrevious}\r\n                className=\"controls-icon\"\r\n                fontSize=\"large\"\r\n              />\r\n            </button>\r\n            <button className=\"main-play-container\" onClick={handlePlayPause}>\r\n              {playing ? (\r\n                <PauseIcon fontSize=\"large\" style={{ color: 'white' }} />\r\n              ) : (\r\n                <PlayArrowIcon fontSize=\"large\" style={{ color: 'white' }} />\r\n              )}\r\n            </button>\r\n            <button className=\"t-btn\">\r\n              <SkipNextTwoToneIcon\r\n                onClick={skipNext}\r\n                className=\"controls-icon\"\r\n                fontSize=\"large\"\r\n              />\r\n            </button>\r\n            <RepeatBtn />\r\n          </div>\r\n          <div className=\"right-control\">\r\n            <button className=\"t-btn me-2\" onClick={mutePlayer}>\r\n              {isMuted ? (\r\n                <VolumeOff style={{ color: 'red' }} />\r\n              ) : (\r\n                <VolumeDown style={{ color: 'grey' }} />\r\n              )}\r\n            </button>\r\n\r\n            <input\r\n              type=\"range\"\r\n              className=\"range-2\"\r\n              min=\"0\"\r\n              max=\"100\"\r\n              value={volume}\r\n              style={{\r\n                width: '60%',\r\n                background: `linear-gradient(90deg, var(--main-theme) ${volume}%, #fff 60%)`,\r\n              }}\r\n              onChange={(e) => setVolume(e.target.value)}\r\n              onMouseUp={changeVolume}\r\n              onKeyUp={changeVolume}\r\n              onTouchEnd={changeVolume}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default MaxPlayer2;\r\n","import { useState } from \"react\";\r\nimport { handleVolume } from \"../../store/actions/spotify-actions\";\r\nimport { pauseEvent } from \"../../utils/helperFunctions\";\r\nimport VolumeDown from '@material-ui/icons/VolumeDown';\r\nimport VolumeUp from '@material-ui/icons/VolumeUp';\r\n\r\nfunction PlayerSliderVolume({ x, y, radius, startAngle, endAngle, trackerRotatingAngle, outerWidth, outerHeight, svgWidth, svgHeight, svgViewBox, children }) {\r\n    const defaultProps = {\r\n        tintColor: 'white',\r\n        progressColor: 'var(--col-thief)',\r\n        lineCap: 'round',\r\n    };\r\n    const pathD = circlePath(x, y, radius, startAngle, endAngle);\r\n    const [dragging, setDragging] = useState(false);\r\n    const [instance, setInstance] = useState(1);\r\n    const [angle, setAngle] = useState(0);\r\n\r\n    let angleDifference = endAngle - startAngle;\r\n    let limitStart = startAngle + trackerRotatingAngle;\r\n    let limitEnd = endAngle + trackerRotatingAngle;\r\n\r\n    const start = function (e) {\r\n        setDragging(true);\r\n    };\r\n\r\n    const move = (e) => {\r\n        var posX, posY, angleTravelled;\r\n        if (e.buttons === 0) return;\r\n        pauseEvent(e);\r\n        const target = document.getElementById('dot-vol').getBoundingClientRect();\r\n        let centerX = target.width / 2 + target.left;\r\n        let centerY = target.height / 2 + target.top;\r\n        if (e.type === 'touchmove') {\r\n            posX = e.touches[0].pageX;\r\n            posY = e.touches[0].pageY;\r\n        } else {\r\n            posX = e.pageX;\r\n            posY = e.pageY;\r\n        }\r\n        let deltaY = centerY - posY;\r\n        let deltaX = centerX - posX;\r\n        angleTravelled = Math.round(Math.atan2(deltaY, deltaX) * (180 / Math.PI));\r\n        angleTravelled -= 90;\r\n        if (angleTravelled < 0) {\r\n            angleTravelled = 360 + angleTravelled;\r\n        }\r\n        if (dragging && angleTravelled >= limitStart && angleTravelled <= limitEnd) {\r\n            document.getElementById(\r\n                'dot-seeker-vol'\r\n            ).style.transform = `rotate(${angleTravelled}deg)`;\r\n            setAngle(angleTravelled);\r\n        }\r\n        setDragging(true);\r\n    };\r\n    const stop = function () {\r\n        if (angle >= limitStart && angle <= limitEnd) {\r\n            let seekTo = (angle - limitStart) / (angleDifference);\r\n            setInstance(seekTo);\r\n            handleVolume(Math.floor(seekTo * 100));\r\n            setDragging(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"circling-volume\" style={{ width: outerWidth, height: outerHeight }}>\r\n            <div\r\n                className=\"dots dot\"\r\n                id=\"dot-vol\"\r\n                onMouseDown={start}\r\n                onTouchStart={start}\r\n                onMouseMove={move}\r\n                onMouseUp={stop}\r\n                onTouchMove={move}\r\n                onTouchEnd={stop}\r\n            >\r\n                <div\r\n                    className=\"dot-seeker\"\r\n                    id=\"dot-seeker-vol\"\r\n                    style={{ transform: `rotate(${(instance * angleDifference) + limitStart}deg)` }}\r\n                ></div>\r\n                <g className=\"g-vol\"\r\n                    style={{ transform: `rotate(${limitStart - 10}deg)` }}\r\n                >\r\n                    <VolumeDown style={{ transform: `rotate(${-(limitStart - 10)}deg)` }} />\r\n                </g>\r\n                <g className=\"g-vol\"\r\n                    style={{ transform: `rotate(${limitEnd + 10}deg)` }}\r\n                >\r\n                    <VolumeUp style={{ transform: `rotate(${-(limitEnd + 10)}deg)` }} />\r\n                </g>\r\n            </div>\r\n            {children}\r\n            <svg width={svgWidth} height={svgHeight} viewBox={svgViewBox}>\r\n                <g>\r\n                    <path\r\n                        d={pathD}\r\n                        stroke={defaultProps.tintColor}\r\n                        strokeWidth={2}\r\n                        strokeLinecap={defaultProps.lineCap}\r\n                        fill=\"transparent\"\r\n                    />\r\n                    <path\r\n                        d={pathD}\r\n                        stroke={defaultProps.progressColor}\r\n                        strokeWidth={4}\r\n                        strokeDasharray={(angleDifference / 180) * Math.PI * radius}\r\n                        strokeDashoffset={(-(angleDifference / 180) * Math.PI * radius) * (1 - instance)}\r\n                        strokeLinecap={defaultProps.lineCap}\r\n                        fill=\"transparent\"\r\n                    />\r\n                </g>\r\n            </svg>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction circlePath(x, y, radius, startAngle, endAngle) {\r\n    var start = polarToCartesian(x, y, radius, endAngle * 0.9999);\r\n    var end = polarToCartesian(x, y, radius, startAngle);\r\n    var largeArcFlag = endAngle - startAngle <= 180 ? '0' : '1';\r\n    var d = ['M', start.x, start.y, 'A', radius, radius, 0, largeArcFlag, 0, end.x, end.y];\r\n    return d.join(' ');\r\n}\r\nfunction polarToCartesian(centerX, centerY, radius, angleInDegrees) {\r\n    var angleInRadians = ((angleInDegrees - 90) * Math.PI) / 180.0;\r\n    return {\r\n        x: centerX + radius * Math.cos(angleInRadians),\r\n        y: centerY + radius * Math.sin(angleInRadians),\r\n    };\r\n}\r\nexport default PlayerSliderVolume;","import { useState, useEffect, useRef } from 'react';\r\nimport {\r\n  getImage,\r\n  getColorOnly,\r\n  millisToMinutesAndSeconds,\r\n  pauseEvent,\r\n} from '../../utils/helperFunctions';\r\nimport useSpotify from '../../hooks/useSpotify';\r\nimport { useSelector } from 'react-redux';\r\nimport PlayerSliderVolume from './player-slider-volume';\r\nimport useCheckDevice from '../../utils/checkDevice';\r\nimport { LyricsButton } from '../buttons';\r\n\r\nfunction MaxPlayer3Slider({ fullS, handleFullScreen }) {\r\n  const spotify = useSpotify();\r\n  const { current, playing, lyrics, position_ms } = useSelector(\r\n    (state) => state.player\r\n  );\r\n  const { colorpalette } = useSelector(\r\n    (state) => state.app\r\n  );\r\n  const [instance, setInstance] = useState(0);\r\n  const [pos, setPos] = useState(0);\r\n  const imgRef = useRef();\r\n  const [dragging, setDragging] = useState(false);\r\n  const [showLyrics, setShowLyrics] = useState(false);\r\n  const { isMobile } = useCheckDevice();\r\n  const [angle, setAngle] = useState(0);\r\n\r\n  useEffect(() => {\r\n    if (!current) return;\r\n    setInstance(pos / current.duration_ms);\r\n  }, [pos]);\r\n  useEffect(() => {\r\n    setPos(position_ms);\r\n  }, [position_ms]);\r\n\r\n  useEffect(() => {\r\n    let interval = null;\r\n    interval = setInterval(() => {\r\n      if (playing && dragging) return;\r\n      setPos((pos) => pos + 100);\r\n    }, 100);\r\n    return () => clearInterval(interval);\r\n  }, [playing]);\r\n\r\n  //Album theme color\r\n  const setColor = (col) => {\r\n    if (!colorpalette) {\r\n      document.documentElement.style.setProperty(\r\n        '--col-thief',\r\n        `var(--main-theme)`\r\n      );\r\n      document.documentElement.style.setProperty(\r\n        '--col-thief-bg-lite',\r\n        `var(--main-theme-bg)`\r\n      );\r\n      document.documentElement.style.setProperty(\r\n        '--col-thief-rgb',\r\n        `var(--main-theme)`\r\n      );\r\n    } else {\r\n      document.documentElement.style.setProperty(\r\n        '--col-thief',\r\n        `rgb(${col[0]},${col[1]},${col[2]})`\r\n      );\r\n      document.documentElement.style.setProperty(\r\n        '--col-thief-bg-lite',\r\n        `rgba(${col[0]},${col[1]},${col[2]}, 0.7)`\r\n      );\r\n      document.documentElement.style.setProperty(\r\n        '--col-thief-rgb',\r\n        `rgb(${col[0]},${col[1]},${col[2]})`\r\n      );\r\n    }\r\n  };\r\n  //Seeker Code\r\n  const handleSeeker = (seekTo) => {\r\n    if (!seekTo || !current) return;\r\n    var seekms = (seekTo * current?.duration_ms).toFixed(0);\r\n    spotify\r\n      .seek(seekms)\r\n      .then(function () {\r\n        //console.log('Seek to ' + instance);\r\n      })\r\n      .catch(function (err) {\r\n        //if the user making the request is non-premium, a 403 FORBIDDEN response code will be  returned\r\n        console.log('Something went wrong!', err);\r\n      });\r\n  };\r\n\r\n  const start = function (e) {\r\n    setDragging(true);\r\n  };\r\n\r\n  const move = (e) => {\r\n    var posX, posY, angleTravelled;\r\n    if (e.buttons === 0) return;\r\n    pauseEvent(e);\r\n    const target = document.getElementById('dot').getBoundingClientRect();\r\n    let centerX = target.width / 2 + target.left;\r\n    let centerY = target.height / 2 + target.top;\r\n    if (e.type === 'touchmove') {\r\n      posX = e.touches[0].pageX;\r\n      posY = e.touches[0].pageY;\r\n    } else {\r\n      posX = e.pageX;\r\n      posY = e.pageY;\r\n    }\r\n    let deltaY = centerY - posY;\r\n    let deltaX = centerX - posX;\r\n    angleTravelled = Math.round(Math.atan2(deltaY, deltaX) * (180 / Math.PI));\r\n    angleTravelled -= 90;\r\n    if (angleTravelled < 0)\r\n      angleTravelled += 360;\r\n\r\n    if (dragging) {\r\n      document.getElementById(\r\n        'dot-seeker'\r\n      ).style.transform = `rotate(${+angleTravelled}deg)`;\r\n      setAngle(angleTravelled);\r\n    }\r\n    setDragging(true);\r\n  };\r\n  const stop = function () {\r\n    let seekTo = angle / 360;\r\n    setInstance(seekTo);\r\n    handleSeeker(seekTo);\r\n    setDragging(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"circular-slider-cont\">\r\n      <div className=\"fullscreen-btns-p-3\">\r\n        <button\r\n          className=\"t-btn fs-btn\"\r\n          onClick={handleFullScreen}\r\n          style={{ color: fullS ? 'var(--main-theme)' : 'white' }}\r\n        >\r\n          <ion-icon name=\"expand-outline\"></ion-icon>\r\n        </button>\r\n      </div>\r\n      <div className='p-3-lyric-btn'>\r\n        <LyricsButton showLyrics={showLyrics} onClick={() => setShowLyrics(!showLyrics)} />\r\n      </div>\r\n      <div\r\n        //className=\"circling-progress\">\r\n        className=\"circling\">\r\n        {current && (\r\n          <div className=\"player-3-album\">\r\n            {showLyrics && <div className=\"lyrics-outer-p-3\">\r\n              <p className=\"lyrics-txt escapeEvent\">{lyrics}</p>\r\n            </div>}\r\n            <img\r\n              src={getImage(current?.album?.images, 'lg')}\r\n              alt=\"default-art\"\r\n              ref={imgRef}\r\n              crossOrigin=\"anonymous\"\r\n              onLoad={() => {\r\n                let col = getColorOnly(imgRef);\r\n                setColor(col);\r\n              }}\r\n            />\r\n            <div className=\"p-3-dur\">\r\n              {current ? (\r\n                <>\r\n                  <span className=\"h1\" style={{ width: '4rem' }}>\r\n                    {millisToMinutesAndSeconds(\r\n                      (instance * current?.duration_ms).toFixed(0)\r\n                    )}\r\n                  </span>\r\n                  <span className=\"h5\">\r\n                    {' / ' + millisToMinutesAndSeconds(current?.duration_ms)}\r\n                  </span>\r\n                </>\r\n              ) : (\r\n                ''\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n        <div\r\n          className=\"dots dot\"\r\n          id=\"dot\"\r\n          onMouseDown={start}\r\n          onTouchStart={start}\r\n          onMouseMove={move}\r\n          onMouseUp={stop}\r\n          onTouchMove={move}\r\n          onTouchEnd={stop}\r\n        >\r\n          <div\r\n            className=\"dot-seeker\"\r\n            id=\"dot-seeker\"\r\n            style={{ transform: `rotate(${instance * 360}deg)` }}\r\n          ></div>\r\n        </div>\r\n\r\n        <svg width=\"200\" height=\"200\" viewBox=\"0 0 200 200\">\r\n          <circle cx=\"100\" cy=\"100\" r=\"100\"></circle>\r\n          <circle\r\n            cx=\"100\"\r\n            cy=\"100\"\r\n            r=\"100\"\r\n            style={{\r\n              strokeDasharray: 6.2831 * 100,\r\n              strokeDashoffset: 6.2831 * 100 * (1 - instance),\r\n            }}\r\n          ></circle>\r\n        </svg>\r\n        <PlayerSliderVolume\r\n          x={150}\r\n          y={150}\r\n          radius={150}\r\n          startAngle={isMobile ? 240 : 150}\r\n          endAngle={isMobile ? 300 : 210}\r\n          trackerRotatingAngle={-90}\r\n          svgWidth=\"300\"\r\n          svgHeight=\"300\"\r\n          svgViewBox=\"0 0 300 300\"\r\n          outerWidth='120%'\r\n          outerHeight='120%'\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MaxPlayer3Slider;\r\n","import PlayArrowIcon from '@material-ui/icons/PlayArrowTwoTone';\r\nimport PauseIcon from '@material-ui/icons/Pause';\r\nimport SkipPreviousTwoToneIcon from '@material-ui/icons/SkipPreviousTwoTone';\r\nimport SkipNextTwoToneIcon from '@material-ui/icons/SkipNextTwoTone';\r\nimport VolumeDown from '@material-ui/icons/VolumeDown';\r\nimport QueueMusicIcon from '@material-ui/icons/QueueMusic';\r\nimport KeyboardOutlinedIcon from '@material-ui/icons/KeyboardOutlined';\r\nimport ShuffleBtn from '../../utils/shuffle';\r\nimport RepeatBtn from '../../utils/repeat';\r\nimport VolumeOff from '@material-ui/icons/VolumeOff';\r\nimport MyDevices from '../mydevices';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { getArtistNames, getImage } from '../../utils/helperFunctions';\r\nimport { FullScreen, useFullScreenHandle } from 'react-full-screen';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { toggleKeyboard, toggleQueue } from '../../store/actions/app-actions';\r\nimport '../../styling/player.css';\r\nimport MaxPlayer3Slider from '../nowPlayingSlider/player-slider-3';\r\n//Custom Circular slider build by Me\r\nfunction MaxPlayer3({\r\n  skipNext,\r\n  skipPrevious,\r\n  handlePlayPause,\r\n  volume,\r\n  changeVolume,\r\n  setVolume,\r\n  mutePlayer,\r\n}) {\r\n  const dispatch = useDispatch();\r\n  const { current, playing, isMuted } = useSelector(\r\n    (state) => state.player\r\n  );\r\n  const { settings, colorpalette } = useSelector((state) => state.app);\r\n  const artistNames = getArtistNames(current?.artists);\r\n  const handle = useFullScreenHandle();\r\n  const [fullS, setFullS] = useState(false);\r\n\r\n  const handleKeyboard = () => {\r\n    dispatch(toggleKeyboard(!settings.isKeyboard));\r\n  };\r\n  const handleQueue = () => {\r\n    dispatch(toggleQueue(!settings.isQueue));\r\n  };\r\n\r\n  //fullscreen handle\r\n  const handleFullScreen = () => {\r\n    if (fullS) {\r\n      setFullS(false);\r\n      handle.exit();\r\n    } else {\r\n      setFullS(true);\r\n      handle.enter();\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    const listener = () => {\r\n      if (!document.webkitIsFullScreen) {\r\n        // Run code on exit\r\n        setFullS(false);\r\n      }\r\n    };\r\n    const shortcutListener = (e) => {\r\n      //prevent eventlistener where not needed\r\n      if (e.target.classList.contains('escapeEvent')) return;\r\n\r\n      if (e.code === 'KeyF') {\r\n        handleFullScreen();\r\n      }\r\n    };\r\n    document.addEventListener('fullscreenchange', listener, false);\r\n    document.addEventListener('keydown', shortcutListener);\r\n\r\n    return () => {\r\n      document.removeEventListener('fullscreenchange', listener, false);\r\n      document.removeEventListener('keydown', shortcutListener);\r\n    };\r\n  });\r\n\r\n  return (\r\n    <FullScreen handle={handle}>\r\n      <div id=\"max-player-1\" className=\"max-player-1\">\r\n        {current && (\r\n          <img\r\n            src={getImage(current?.album?.images, 'lg')}\r\n            alt=\"default-art\"\r\n            className=\"album-bg\"\r\n          />\r\n        )}\r\n        <div className=\"music-info-player-3\" style={{ height: fullS && '100%' }}>\r\n          <div className=\"s-info py-2\">\r\n            <div className={'s-info-text'}>\r\n              <span\r\n                className={\r\n                  'np-name-p-3 ' + (current?.name.length > 30 && 'text-anim')\r\n                }\r\n              >\r\n                {current ? current.name : 'Music track'}\r\n              </span>\r\n              <div className=\"np-by-outer\">\r\n                <span\r\n                  className={\r\n                    'np-by-p-3 ' + (artistNames?.length > 50 && 'text-anim')\r\n                  }\r\n                >\r\n                  {current ? (current?.track ? 'by..' : artistNames) : 'by..'}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <MaxPlayer3Slider fullS={fullS} handleFullScreen={handleFullScreen} />\r\n          <div className=\"controls d-flex justify-content-center pb-4\">\r\n            <div className=\"left-control\">\r\n              <MyDevices />\r\n              <button className=\"t-btn\" onClick={handleKeyboard}>\r\n                <KeyboardOutlinedIcon\r\n                  style={{\r\n                    color: settings.isKeyboard\r\n                      ? (colorpalette ? 'var(--col-thief)' : 'var(--main-theme)')\r\n                      : 'white',\r\n                  }}\r\n                />\r\n              </button>\r\n            </div>\r\n            <div className=\"mid-control\">\r\n              <ShuffleBtn />\r\n              <button className=\"bg-transparent border-0\">\r\n                <SkipPreviousTwoToneIcon\r\n                  onClick={skipPrevious}\r\n                  className=\"controls-icon\"\r\n                  fontSize=\"large\"\r\n                  style={{ color: 'white' }}\r\n                />\r\n              </button>\r\n              <button className=\"main-play-container\"\r\n                onClick={handlePlayPause}\r\n                style={{\r\n                  background: colorpalette ? 'var(--col-thief)' : '',\r\n                  boxShadow: colorpalette ? `0px 1px 8px var(--col-thief-rgb)` : ''\r\n                }}\r\n              >\r\n                {playing ? (\r\n                  <PauseIcon\r\n                    style={{ color: 'white' }}\r\n                    fontSize=\"large\"\r\n                  />\r\n                ) : (\r\n                  <PlayArrowIcon\r\n                    style={{ color: 'white' }}\r\n                    fontSize=\"large\"\r\n                  />\r\n                )}\r\n              </button>\r\n              <button className=\"bg-transparent border-0\">\r\n                <SkipNextTwoToneIcon\r\n                  onClick={skipNext}\r\n                  className=\"controls-icon\"\r\n                  fontSize=\"large\"\r\n                  style={{ color: 'white' }}\r\n                />\r\n              </button>\r\n              <RepeatBtn />\r\n            </div>\r\n            <div className=\"right-control d-lg-flex d-none\">\r\n              <button className=\"t-btn me-2\" onClick={mutePlayer}>\r\n                {isMuted ? (\r\n                  <VolumeOff style={{ color: 'red' }} />\r\n                ) : (\r\n                  <VolumeDown style={{ color: 'grey' }} />\r\n                )}\r\n              </button>\r\n\r\n              <button className=\"t-btn\" onClick={handleQueue}>\r\n                <QueueMusicIcon\r\n                  style={{\r\n                    color: settings.isQueue\r\n                      ? 'var(--main-theme)'\r\n                      : 'white',\r\n                  }}\r\n                />\r\n              </button>\r\n            </div>\r\n          </div>\r\n          <div className=\"d-lg-none d-flex justify-content-between\">\r\n            <MyDevices />\r\n            <button className=\"t-btn me-4\" onClick={handleQueue}>\r\n              <QueueMusicIcon\r\n                style={{\r\n                  color: settings.isQueue\r\n                    ? 'var(--main-theme)'\r\n                    : 'white',\r\n                }}\r\n              />\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </FullScreen>\r\n\r\n  );\r\n}\r\nexport default MaxPlayer3;\r\n","import PlayArrowIcon from '@material-ui/icons/PlayArrowTwoTone';\r\nimport PauseIcon from '@material-ui/icons/Pause';\r\nimport SkipPreviousTwoToneIcon from '@material-ui/icons/SkipPreviousTwoTone';\r\nimport SkipNextTwoToneIcon from '@material-ui/icons/SkipNextTwoTone';\r\nimport QueueMusicIcon from '@material-ui/icons/QueueMusic';\r\nimport ShuffleBtn from '../../utils/shuffle';\r\nimport RepeatBtn from '../../utils/repeat';\r\nimport { toggleQueue } from '../../store/actions/app-actions';\r\nimport {\r\n    millisToMinutesAndSeconds,\r\n    pauseEvent,\r\n} from '../../utils/helperFunctions';\r\nimport { useState, useEffect } from 'react';\r\nimport useSpotify from '../../hooks/useSpotify';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport PlayerSliderVolume from './player-slider-volume';\r\n\r\nfunction PlayerSlider4({ skipNext,\r\n    skipPrevious,\r\n    handlePlayPause,\r\n    handedness }) {\r\n    const position_ms = useSelector((state) => state.player.position_ms);\r\n    const { current, playing } = useSelector(\r\n        (state) => state.player\r\n    );\r\n    const { settings } = useSelector((state) => state.app);\r\n    const [instance, setInstance] = useState(0);\r\n    const [pos, setPos] = useState(0);\r\n    const [dragging, setDragging] = useState(false);\r\n    const spotify = useSpotify();\r\n    const dispatch = useDispatch();\r\n    const [angle, setAngle] = useState(0);\r\n\r\n    let rotatingAngle = handedness ? -90 : 0;\r\n    let hside = handedness ? 'right' : 'left';\r\n\r\n    useEffect(() => {\r\n        if (!current) return;\r\n        setInstance(pos / current.duration_ms);\r\n    }, [pos]);\r\n    useEffect(() => {\r\n        setPos(position_ms);\r\n    }, [position_ms]);\r\n\r\n    useEffect(() => {\r\n        let interval = null;\r\n        if (playing && !dragging) {\r\n            interval = setInterval(() => {\r\n                setPos((pos) => pos + 100);\r\n            }, 100);\r\n        } else {\r\n            clearInterval(interval);\r\n        }\r\n        return () => clearInterval(interval);\r\n    }, [playing]);\r\n    const handleQueue = () => {\r\n        dispatch(toggleQueue(!settings.isQueue));\r\n    };\r\n    //Seeker Code\r\n    const handleSeeker = (seekTo) => {\r\n        if (!seekTo) return;\r\n        var seekms = parseInt((seekTo * current?.duration_ms).toFixed(0));\r\n        spotify\r\n            .seek(seekms)\r\n            .then(function () {\r\n                //console.log('Seek to ' + instance);\r\n            })\r\n            .catch(function (err) {\r\n                //if the user making the request is non-premium, a 403 FORBIDDEN response code will be  returned\r\n                console.log('Something went wrong!', err);\r\n            });\r\n    };\r\n\r\n    const start = function (e) {\r\n        setDragging(true);\r\n    };\r\n\r\n    const move = (e) => {\r\n        var posX, posY, angleTravelled;\r\n        if (e.buttons === 0) return;\r\n        pauseEvent(e);\r\n        const target = document.getElementById('dot').getBoundingClientRect();\r\n        let centerX = target.width / 2 + target.left;\r\n        let centerY = target.height / 2 + target.top;\r\n        if (e.type === 'touchmove') {\r\n            posX = e.touches[0].pageX;\r\n            posY = e.touches[0].pageY;\r\n        } else {\r\n            posX = e.pageX;\r\n            posY = e.pageY;\r\n        }\r\n        let deltaY = centerY - posY;\r\n        let deltaX = centerX - posX;\r\n        angleTravelled = Math.round(Math.atan2(deltaY, deltaX) * (180 / Math.PI));\r\n        if (angleTravelled < 0)\r\n            angleTravelled += 360;\r\n\r\n        if (angleTravelled >= 90)\r\n            angleTravelled -= 90;\r\n\r\n        if (dragging) {\r\n            document.getElementById(\r\n                'dot-seeker'\r\n            ).style.transform = `rotate(${rotatingAngle + angleTravelled}deg)`;\r\n            setAngle(angleTravelled);\r\n        }\r\n        setDragging(true);\r\n    };\r\n    const stop = function () {\r\n        let seekTo = angle / 90;\r\n        setInstance(seekTo);\r\n        handleSeeker(seekTo);\r\n        setDragging(false);\r\n\r\n    };\r\n    return (<div className={`circular-slider-cont-2 ${hside}`}>\r\n        <div className='circular-slider-cont-2-controls-outer'>\r\n            <div className={`quad-pp ${hside}`}>\r\n                <button className=\"main-play-container\" onClick={handlePlayPause}>\r\n                    {playing ? (\r\n                        <PauseIcon\r\n                            style={{ color: 'white' }}\r\n                            fontSize=\"large\"\r\n                        />\r\n                    ) : (\r\n                        <PlayArrowIcon\r\n                            style={{ color: 'white' }}\r\n                            fontSize=\"large\"\r\n                        />\r\n                    )}\r\n                </button>\r\n                <button className={`quad-btn-l1 ${hside} t-btn`}>\r\n                    <SkipNextTwoToneIcon\r\n                        onClick={skipNext}\r\n                        className=\"controls-icon\"\r\n                        fontSize=\"large\"\r\n                        style={{ color: 'white' }}\r\n                    />\r\n                </button>\r\n                <button className={`quad-btn-l1 ${hside} t-btn`}>\r\n                    <SkipPreviousTwoToneIcon\r\n                        onClick={skipPrevious}\r\n                        className=\"controls-icon\"\r\n                        fontSize=\"large\"\r\n                        style={{ color: 'white' }}\r\n                    />\r\n                </button>\r\n                <button className={`quad-btn-l2 ${hside} t-btn`} onClick={handleQueue}>\r\n                    <QueueMusicIcon\r\n                        style={{\r\n                            color: settings.isQueue\r\n                                ? 'var(--main-theme)'\r\n                                : 'white',\r\n                        }}\r\n                    />\r\n                </button>\r\n                <div className={`quad-btn-l2 ${hside} t-btn`}>\r\n                    <ShuffleBtn />\r\n                </div>\r\n                <div className={`quad-btn-l2 ${hside} t-btn`}>\r\n                    <RepeatBtn />\r\n                </div>\r\n                <p className={`text-timer timer-f ${hside}`}>\r\n                    {current\r\n                        ? millisToMinutesAndSeconds(\r\n                            (instance * current.duration_ms).toFixed(0)\r\n                        )\r\n                        : '00:00'}\r\n                </p>\r\n                <p className={`text-timer timer-t ${hside}`}>\r\n                    {current\r\n                        ? millisToMinutesAndSeconds(current.duration_ms)\r\n                        : '00:00'}\r\n                </p>\r\n            </div>\r\n        </div>\r\n        <div className=\"circling-2\">\r\n            {current && (\r\n                <div className=\"player-3-album\">\r\n                    <div className=\"p-3-dur\">\r\n                        {current ? (\r\n                            <>\r\n                                <span className=\"h1\" style={{ width: '3.5rem' }}>\r\n                                    {millisToMinutesAndSeconds(\r\n                                        (instance * current?.duration_ms).toFixed(0)\r\n                                    )}\r\n                                </span>\r\n                                <span className=\"h5\">\r\n                                    {' / ' + millisToMinutesAndSeconds(current?.duration_ms)}\r\n                                </span>\r\n                            </>\r\n                        ) : (\r\n                            ''\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            )}\r\n            <div\r\n                className=\"dots-2 dot-2\"\r\n                id=\"dot\"\r\n                onMouseDown={start}\r\n                onTouchStart={start}\r\n                onMouseMove={move}\r\n                onMouseUp={stop}\r\n                onTouchMove={move}\r\n                onTouchEnd={stop}\r\n            >\r\n                <div\r\n                    className=\"dot-seeker-2\"\r\n                    id=\"dot-seeker\"\r\n                    style={{ transform: `rotate(${rotatingAngle + instance * 90}deg)` }}\r\n                ></div>\r\n            </div>\r\n\r\n            <svg width=\"200\" height=\"200\" viewBox=\"0 0 200 200\" style={{ transform: `rotate(${handedness ? 0 : 90}deg)` }}>\r\n                <circle cx=\"100\" cy=\"100\" r=\"100\"></circle>\r\n                <circle\r\n                    cx=\"100\"\r\n                    cy=\"100\"\r\n                    r=\"100\"\r\n                    style={{\r\n                        strokeDasharray: 1.56 * 100,\r\n                        strokeDashoffset: 1.56 * 100 * (1 - instance),\r\n                    }}\r\n                ></circle>\r\n            </svg>\r\n            <PlayerSliderVolume\r\n                x={150}\r\n                y={150}\r\n                radius={150}\r\n                startAngle={handedness ? 285 : 20}\r\n                endAngle={handedness ? 345 : 70}\r\n                trackerRotatingAngle={0}\r\n                className=\"svg-vol-slider\"\r\n                svgWidth=\"300\"\r\n                svgHeight=\"300\"\r\n                svgViewBox=\"0 0 300 300\"\r\n                outerWidth='110%'\r\n                outerHeight='110%'\r\n            />\r\n        </div>\r\n    </div>)\r\n}\r\nexport default PlayerSlider4;\r\n","\r\nimport MyDevices from '../mydevices';\r\nimport React, { useState, useRef, useEffect } from 'react';\r\nimport {\r\n  getImage,\r\n  getColorOnly\r\n} from '../../utils/helperFunctions';\r\nimport '../../styling/player4.css';\r\nimport PlayerSlider4 from '../nowPlayingSlider/player-slider-4';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport SwapHorizontalCircleTwoTone from '@material-ui/icons/SwapHorizontalCircleTwoTone';\r\nimport { toggleHandedness } from '../../store/actions/app-actions';\r\nimport { FullScreen, useFullScreenHandle } from 'react-full-screen';\r\n\r\nfunction MaxPlayer4({\r\n  skipNext,\r\n  skipPrevious,\r\n  handlePlayPause,\r\n  volume,\r\n  changeVolume,\r\n  setVolume,\r\n  mutePlayer,\r\n}) {\r\n  const { current, lyrics } = useSelector(\r\n    (state) => state.player\r\n  );\r\n  const { colorpalette } = useSelector(\r\n    (state) => state.app\r\n  );\r\n  const { handedness } = useSelector((state) => state.app);\r\n  const imgRef = useRef();\r\n  const handle = useFullScreenHandle();\r\n  const [showLyrics, setShowLyrics] = useState(false);\r\n  const [fullS, setFullS] = useState(false);\r\n  const dispatch = useDispatch();\r\n\r\n  //fullscreen handle\r\n  const handleFullScreen = () => {\r\n    if (fullS) {\r\n      setFullS(false);\r\n      handle.exit();\r\n    } else {\r\n      setFullS(true);\r\n      handle.enter();\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    const listener = () => {\r\n      if (!document.webkitIsFullScreen) {\r\n        // Run code on exit\r\n        setFullS(false);\r\n      }\r\n    };\r\n    const shortcutListener = (e) => {\r\n      //prevent eventlistener where not needed\r\n      if (e.target.classList.contains('escapeEvent')) return;\r\n\r\n      if (e.code === 'KeyF') {\r\n        handleFullScreen();\r\n      }\r\n    };\r\n    document.addEventListener('fullscreenchange', listener, false);\r\n    document.addEventListener('keydown', shortcutListener);\r\n\r\n    return () => {\r\n      document.removeEventListener('fullscreenchange', listener, false);\r\n      document.removeEventListener('keydown', shortcutListener);\r\n    };\r\n  });\r\n\r\n  //toggle handedness\r\n  const handleHandedness = () => {\r\n    dispatch(toggleHandedness(!handedness));\r\n  }\r\n\r\n  //get colors\r\n  const loadColors = () => {\r\n    if (!colorpalette) {\r\n      document.documentElement.style.setProperty(\r\n        '--col-thief',\r\n        `var(--main-theme)`\r\n      );\r\n      document.documentElement.style.setProperty(\r\n        '--col-thief-bg-lite',\r\n        `var(--main-theme-bg-lite)`\r\n      );\r\n    } else {\r\n      let col = getColorOnly(imgRef);\r\n      document.documentElement.style.setProperty(\r\n        '--col-thief',\r\n        `rgb(${col[0]},${col[1]},${col[2]})`\r\n      );\r\n      document.documentElement.style.setProperty(\r\n        '--col-thief-bg-lite',\r\n        `rgba(${col[0]},${col[1]},${col[2]},0.3)`\r\n      );\r\n    }\r\n  };\r\n\r\n\r\n\r\n  return (\r\n    <FullScreen handle={handle}>\r\n      <div\r\n        id=\"max-player-1\"\r\n        className=\"max-player-1\"\r\n      >\r\n        {current && (\r\n          <img\r\n            src={getImage(current?.album?.images, 'lg')}\r\n            alt=\"default-art\"\r\n            className=\"album-bg\"\r\n            ref={imgRef}\r\n            crossOrigin=\"anonymous\"\r\n            onLoad={loadColors}\r\n          />\r\n        )}\r\n        <div className=\"music-info\">\r\n          <div className=\"s-info\">\r\n            <div\r\n              className={\r\n                's-info-text ' + (current?.name.length > 30 && 'text-anim')\r\n              }\r\n            >\r\n              <span className={'np-name'}>\r\n                {current ? current.name : 'Music track'}\r\n              </span>\r\n              <div className=\"np-by-outer\">\r\n                <span className=\"np-by\">\r\n                  {current\r\n                    ? current?.track\r\n                      ? 'by..'\r\n                      : current?.artists.map(\r\n                        (item, index) => (index ? ', ' : '') + item.name\r\n                      )\r\n                    : 'by..'}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className={\"fullscreen-btns-p-4 \" + (handedness ? 'left' : 'right')}>\r\n\r\n          <button\r\n            className=\"t-btn fs-btn\"\r\n            onClick={handleFullScreen}\r\n            style={{ color: fullS ? 'var(--main-theme)' : 'white' }}\r\n          >\r\n            <ion-icon name=\"expand-outline\"></ion-icon>\r\n          </button>\r\n\r\n          <MyDevices handedness={handedness} />\r\n          <button className='t-btn' onClick={handleHandedness}>\r\n            <SwapHorizontalCircleTwoTone\r\n              style={{ color: 'var(--main-theme)' }}\r\n            />\r\n          </button>\r\n        </div>\r\n        {current ? (\r\n          <div className={'album-art-p-4'}>\r\n            {showLyrics ? (\r\n              <div>\r\n                <div className=\"lyric-div-outer\">\r\n                  <img\r\n                    src={getImage(current?.album?.images, 'md')}\r\n                    alt=\"default-art\"\r\n                    className=\"album-lyric\"\r\n                    crossOrigin=\"anonymous\"\r\n                  />\r\n                  <div className=\"lyrics-outer\">\r\n                    <p className=\"lyrics-txt\">{lyrics}</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <div className={'default-art'}>\r\n                <img\r\n                  src={getImage(current?.album?.images, 'md')}\r\n                  alt=\"default-art\"\r\n                  crossOrigin=\"anonymous\"\r\n                  className='album-sm-4'\r\n                />\r\n              </div>\r\n            )}\r\n          </div>\r\n        ) : (\r\n          <div className={'default-art'}>\r\n            <div className=\"default-art-outer\">\r\n              <img src={'/bg3.png'} alt=\"default-art\" />\r\n            </div>\r\n          </div>\r\n        )}\r\n        <PlayerSlider4\r\n          skipNext={skipNext}\r\n          skipPrevious={skipPrevious}\r\n          handlePlayPause={handlePlayPause}\r\n          handedness={handedness} />\r\n      </div>\r\n    </FullScreen>\r\n  );\r\n}\r\nexport default MaxPlayer4;\r\n","import { useEffect, useState } from 'react';\r\nimport MaxPlayer1 from './maxplayertypes/player1';\r\nimport MaxPlayer2 from './maxplayertypes/player2';\r\nimport MaxPlayer3 from './maxplayertypes/player3';\r\nimport MaxPlayer4 from './maxplayertypes/player4';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { toggleKeyboard, toggleQueue } from '../store/actions/app-actions';\r\nimport { handleVolume, setMute } from '../store/actions/spotify-actions';\r\n\r\n\r\nfunction MaxPlayer({ skipNext, skipPrevious, handlePlayPause, minPlayer, setMinPlayer }) {\r\n  const [volume, setVolume] = useState(100);\r\n  const dispatch = useDispatch();\r\n  const { isMuted, maxplayertype } = useSelector((state) => state.player);\r\n  const { settings } = useSelector((state) => state.app);\r\n\r\n  useEffect(() => {\r\n    const listener = (event) => {\r\n      if (event.target.classList.contains('escapeEvent')) return;\r\n\r\n      if (event.code === 'KeyP') {\r\n        handlePlayPause();\r\n      }\r\n      if (event.code === 'KeyX') {\r\n        skipNext();\r\n      }\r\n      if (event.code === 'KeyZ') {\r\n        skipPrevious();\r\n      }\r\n      if (event.code === 'KeyM') {\r\n        mutePlayer();\r\n      }\r\n      if (event.code === 'KeyB') {\r\n        setMinPlayer(!minPlayer);\r\n      }\r\n      if (event.code === 'ArrowUp') {\r\n        navigateVolume(10);\r\n      }\r\n      if (event.code === 'ArrowDown') {\r\n        navigateVolume(-10);\r\n      }\r\n      if (event.code === 'KeyH') {\r\n        dispatch(toggleKeyboard(!settings.isKeyboard));\r\n      }\r\n      if (event.code === 'KeyQ') {\r\n        dispatch(toggleQueue(!settings.isQueue));\r\n      }\r\n    };\r\n    document.addEventListener('keydown', listener);\r\n    return () => {\r\n      document.removeEventListener('keydown', listener);\r\n    };\r\n  });\r\n\r\n  const changeVolume = () => {\r\n    handleVolume(volume);\r\n  };\r\n  const navigateVolume = (change) => {\r\n    if (change > 0) {\r\n      if (volume <= 90) {\r\n        let newVolume = parseInt(volume) + parseInt(change);\r\n        setVolume(newVolume);\r\n        handleVolume(newVolume);\r\n      } else {\r\n        setVolume(100);\r\n        handleVolume(100);\r\n      }\r\n    } else {\r\n      if (volume > 10) {\r\n        let newVolume = parseInt(volume) + parseInt(change);\r\n        setVolume(newVolume);\r\n        handleVolume(newVolume);\r\n      } else {\r\n        setVolume(0);\r\n        handleVolume(0);\r\n      }\r\n    }\r\n  };\r\n\r\n  const mutePlayer = () => {\r\n    dispatch(setMute(isMuted, volume));\r\n  };\r\n\r\n  const maxType = () => {\r\n    switch (maxplayertype) {\r\n      case 0:\r\n        return (\r\n          <MaxPlayer1\r\n            handlePlayPause={handlePlayPause}\r\n            skipNext={skipNext}\r\n            skipPrevious={skipPrevious}\r\n            volume={volume}\r\n            setVolume={setVolume}\r\n            changeVolume={changeVolume}\r\n            mutePlayer={mutePlayer}\r\n          />\r\n        );\r\n      case 1:\r\n        return (\r\n          <MaxPlayer2\r\n            handlePlayPause={handlePlayPause}\r\n            skipNext={skipNext}\r\n            skipPrevious={skipPrevious}\r\n            volume={volume}\r\n            setVolume={setVolume}\r\n            changeVolume={changeVolume}\r\n            mutePlayer={mutePlayer}\r\n          />\r\n        );\r\n      case 2:\r\n        return (\r\n          <MaxPlayer3\r\n            handlePlayPause={handlePlayPause}\r\n            skipNext={skipNext}\r\n            skipPrevious={skipPrevious}\r\n            volume={volume}\r\n            setVolume={setVolume}\r\n            changeVolume={changeVolume}\r\n            mutePlayer={mutePlayer}\r\n          />\r\n        );\r\n      case 3:\r\n        return (\r\n          <MaxPlayer4\r\n            handlePlayPause={handlePlayPause}\r\n            skipNext={skipNext}\r\n            skipPrevious={skipPrevious}\r\n            volume={volume}\r\n            setVolume={setVolume}\r\n            changeVolume={changeVolume}\r\n            mutePlayer={mutePlayer}\r\n          />\r\n        );\r\n\r\n\r\n      default:\r\n        console.log('Error');\r\n        break;\r\n    }\r\n  };\r\n  return <div hidden={minPlayer}>{maxType()}</div>;\r\n}\r\nexport default MaxPlayer;\r\n","import UtubeApp from './youtube/components/utube-app';\r\nimport SwitchPlatform from './youtube/youtube-switch';\r\nimport MinPlayer from './player/minPlayer';\r\nimport MaxPlayer from './player/maxplayer';\r\nimport { useState } from 'react';\r\nimport useSpotify from './hooks/useSpotify';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { setPlaying } from './store/actions/player-actions';\r\nimport {\r\n  handlePlayPause,\r\n  handleSkipNext,\r\n  handleSkipPrev,\r\n} from './store/actions/spotify-actions';\r\n\r\nfunction Player() {\r\n  const dispatch = useDispatch();\r\n  const { deviceId, playing, sideBartype } = useSelector((state) => state.player);\r\n  const [minPlayer, setMinPlayer] = useState(true);\r\n  const [utubeMode, setUtubeMode] = useState(false);\r\n  const spotify = useSpotify();\r\n\r\n  const handleSwitch = () => {\r\n    setUtubeMode(!utubeMode);\r\n    if (playing) {\r\n      spotify\r\n        .pause({ device_id: deviceId })\r\n        .then(() => {\r\n          dispatch(setPlaying(false));\r\n        })\r\n        .catch((err) => console.log(err));\r\n    }\r\n  };\r\n\r\n  const skipNext = () => {\r\n    dispatch(handleSkipNext());\r\n  };\r\n  const skipPrevious = () => {\r\n    dispatch(handleSkipPrev());\r\n  };\r\n  const handlePlay = () => {\r\n    dispatch(handlePlayPause());\r\n  };\r\n\r\n  const maxPlayer = (e) => {\r\n    const tagNames = ['svg', 'path', 'button'];\r\n    if (!tagNames.includes(e.target.tagName)) {\r\n      setMinPlayer(!minPlayer);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {!utubeMode && (\r\n        <div className={(minPlayer ? 'min-music-player' : 'music-player') + (sideBartype ? ' min-pos' : '')}>\r\n          {!minPlayer && (\r\n            <div className=\"switch-btns\">\r\n              <SwitchPlatform\r\n                utubeMode={utubeMode}\r\n                handleSwitch={handleSwitch}\r\n              />\r\n\r\n              <button\r\n                className=\"ms-2 mp-toggle\"\r\n                onClick={() => setMinPlayer(!minPlayer)}\r\n              >\r\n                <ion-icon name=\"chevron-down-outline\"></ion-icon>\r\n              </button>\r\n            </div>\r\n          )}\r\n\r\n          <MaxPlayer\r\n            skipNext={skipNext}\r\n            skipPrevious={skipPrevious}\r\n            handlePlayPause={handlePlay}\r\n            minPlayer={minPlayer}\r\n            setMinPlayer={setMinPlayer}\r\n          />\r\n        </div>\r\n      )}\r\n      {utubeMode && (\r\n        <UtubeApp handleSwitch={handleSwitch} utubeMode={utubeMode} />\r\n      )}\r\n      <MinPlayer\r\n        maxPlayer={maxPlayer}\r\n        handlePlayPause={handlePlay}\r\n        skipNext={skipNext}\r\n        skipPrevious={skipPrevious}\r\n        minPlayer={minPlayer}\r\n        setMinPlayer={setMinPlayer}\r\n        sideBartype={sideBartype}\r\n        handleSwitch={handleSwitch}\r\n      />\r\n    </>\r\n  );\r\n}\r\nexport default Player;\r\n","import { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { setAppBackground } from '../store/actions/app-actions';\r\nimport { getImage, handleFontChange, handleThemeChange, hexToRgb } from './helperFunctions';\r\n\r\nfunction SetVisuals() {\r\n  const dispatch = useDispatch();\r\n  const { albumBackground, darkMode, appBackgroundBlur, appBackground } = useSelector((state) => state.app);\r\n  const { theme, font, current } = useSelector((state) => state.player);\r\n\r\n  useEffect(() => {\r\n    if (darkMode) {\r\n      document.body.style.background = `black`;\r\n    } else {\r\n      document.body.style.background = `url('/abstract.jpg') no-repeat center`;\r\n      dispatch(setAppBackground('/abstract.jpg'));\r\n    }\r\n    document.body.style.backgroundSize = 'cover';\r\n    document.documentElement.style.setProperty(\r\n      '--app-background-blur',\r\n      `${appBackgroundBlur}px`\r\n    );\r\n    if (appBackground)\r\n      dispatch(setAppBackground(appBackground));\r\n  }, [darkMode, albumBackground]);\r\n\r\n\r\n  useEffect(() => {\r\n    if (!current) return;\r\n    if (albumBackground) {\r\n      document.body.style.background = `${darkMode ? 'black' : 'white'\r\n        } url(${getImage(current.album.images, 'lg')}) no-repeat center`;\r\n      document.body.style.backgroundSize = 'contain';\r\n    }\r\n  }, [current?.name, darkMode, albumBackground]);\r\n\r\n  useEffect(() => {\r\n    const hex = hexToRgb(theme);\r\n    handleThemeChange(hex);\r\n    handleFontChange(font);\r\n  }, [theme, font]);\r\n\r\n  return null;\r\n}\r\nexport default SetVisuals;\r\n","import { useEffect, useState } from 'react';\r\n\r\nfunction Suggestion() {\r\n  const suggest = JSON.parse(window.localStorage.getItem('suggest'));\r\n  const [show, setShow] = useState(false);\r\n  useEffect(() => {\r\n    const { innerWidth: width } = window;\r\n    if (width < 768) {\r\n      setShow(suggest === null ? true : suggest);\r\n    }\r\n  }, []);\r\n  const closeModal = () => {\r\n    setShow(false);\r\n    window.localStorage.setItem('suggest', false);\r\n  };\r\n  return (\r\n    <div style={{ display: show ? 'block' : 'none' }} className=\"suggest-modal\">\r\n      <div>\r\n        <h3>Note</h3>\r\n        <p>\r\n          For better UI experience in Smartphones, Open options and click on{' '}\r\n          <i>\"Add to Home Screen\" </i>\r\n          or You can just install the app from the prompt shown above.\r\n          <br />\r\n          Then play through App Shortcut :)\r\n        </p>\r\n      </div>\r\n      <button className=\"ok-btn\" onClick={closeModal}>OK</button>\r\n    </div>\r\n  );\r\n}\r\nexport default Suggestion;\r\n","import '../../styling/notibar.css';\r\nimport HighlightOff from '@material-ui/icons/HighlightOff';\r\nimport { useEffect, useRef } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { notibarPositionSettings } from '../settings/settingConstants';\r\nimport { setNotibar } from '../../store/actions/app-actions';\r\n\r\nfunction Notibar1() {\r\n  const barRef = useRef();\r\n  const dispatch = useDispatch();\r\n  const { notibar, notibarPos } = useSelector((state) => state.app);\r\n\r\n  useEffect(() => {\r\n    if (notibar.msg) {\r\n      barRef.current.style.display = 'block';\r\n      const timeout = setTimeout(() => {\r\n        closeNotibar();\r\n      }, notibar.delay);\r\n      return () => {\r\n        clearTimeout(timeout);\r\n      };\r\n    } else {\r\n      closeNotibar();\r\n    }\r\n  }, [notibar.msg]);\r\n\r\n  function closeNotibar() {\r\n    barRef.current.style.display = 'none';\r\n    if (notibar.msg) {\r\n      dispatch(setNotibar(null, false, null));\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div\r\n      ref={barRef}\r\n      className={'n-outer ' + (notibar.type ? 'n-success ' : 'n-error ') + (notibarPositionSettings[notibarPos]?.class)}\r\n    >\r\n      <div className=\"n-text-holder\">\r\n        <span>{notibar.msg}</span>\r\n        <button\r\n          className={(notibar.type ? 'c-success' : 'c-error') + ' t-btn'}\r\n          onClick={closeNotibar}\r\n        >\r\n          <HighlightOff />\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default Notibar1;\r\n","import '../../styling/notibar.css';\r\nimport { useEffect, useRef } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Close from '@material-ui/icons/Close';\r\nimport { notibarPositionSettings } from '../settings/settingConstants';\r\nimport { setNotibar } from '../../store/actions/app-actions';\r\n\r\nfunction Notibar2() {\r\n    const barRef = useRef();\r\n    const dispatch = useDispatch();\r\n    const { notibar, notibarPos } = useSelector((state) => state.app);\r\n\r\n    useEffect(() => {\r\n        if (notibar.msg) {\r\n            barRef.current.style.display = 'block';\r\n            const timeout = setTimeout(() => {\r\n                closeNotibar();\r\n            }, notibar.delay);\r\n            return () => {\r\n                clearTimeout(timeout);\r\n            };\r\n        } else {\r\n            closeNotibar();\r\n        }\r\n    }, [notibar.msg]);\r\n\r\n    function closeNotibar() {\r\n        barRef.current.style.display = 'none';\r\n        if (notibar.msg) {\r\n            dispatch(setNotibar(null, false, null));\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div\r\n            ref={barRef}\r\n            className={'n-outer ' + (notibar.type ? 'n2-success ' : 'n2-error ') + (notibarPositionSettings[notibarPos]?.class)}\r\n        >\r\n            <div className=\"n-text-holder\">\r\n                {notibar.type ? <ion-icon name=\"checkmark-done-circle-outline\"></ion-icon> : <ion-icon name=\"alert-circle-outline\"></ion-icon>}<span>{notibar.msg}</span>\r\n                <button\r\n                    className={(notibar.type ? 'n2-c-success' : 'n2-c-error') + ' t-btn'}\r\n                    onClick={closeNotibar}\r\n                >\r\n                    <Close />\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\nexport default Notibar2;\r\n","import { useSelector } from \"react-redux\";\r\nimport Notibar1 from \"./notibar1\";\r\nimport Notibar2 from \"./notibar2\";\r\n\r\nfunction NotibarLayout() {\r\n    const { notibarType } = useSelector((state) => state.app);\r\n    const returnNotibar = () => {\r\n        switch (notibarType) {\r\n            case 0:\r\n                return <Notibar1 />;\r\n            case 1:\r\n                return <Notibar2 />;\r\n            default:\r\n                console.log(\"Error Notibar Type\");\r\n                break;\r\n        }\r\n    }\r\n    return <>{returnNotibar()}</>\r\n}\r\nexport default NotibarLayout;","import { CopyToClipboard } from 'react-copy-to-clipboard';\r\nimport TwitterIcon from '@material-ui/icons/Twitter';\r\nimport WhatsAppIcon from '@material-ui/icons/WhatsApp';\r\nimport TelegramIcon from '@material-ui/icons/Telegram';\r\nimport LinkedinIcon from '@material-ui/icons/LinkedIn';\r\nimport { useDispatch } from 'react-redux';\r\nimport { setNotibar } from '../../store/actions/app-actions';\r\nimport {\r\n    TwitterShareButton,\r\n    WhatsappShareButton,\r\n    TelegramShareButton,\r\n    LinkedinShareButton,\r\n} from 'react-share';\r\n\r\nfunction SocialShare(props) {\r\n    const dispatch = useDispatch();\r\n    const handleClick = () => {\r\n        dispatch(setNotibar('Copied to Clipboard!', true, 7000));\r\n    };\r\n    return (\r\n        <div className=\"social-share-outer\" hidden={!props.votingId}>\r\n            <button className='t-btn px-2 mx-1' onClick={props.showQR}>\r\n                <ion-icon style={{\r\n                    color: 'var(--text-primary)',\r\n                    fontSize: '1.3rem'\r\n                }}\r\n                    name=\"qr-code\"></ion-icon>\r\n            </button>\r\n            <CopyToClipboard text={props.url}>\r\n                <button\r\n                    className=\"px-2 mx-1 border-0\"\r\n                    onClick={handleClick}\r\n                    style={{\r\n                        background: 'transparent',\r\n                        fontSize: '1.3rem'\r\n                    }}\r\n                >\r\n                    <ion-icon\r\n                        style={{\r\n                            color: 'var(--text-primary)',\r\n                        }}\r\n                        name=\"link-outline\"></ion-icon>\r\n                </button>\r\n            </CopyToClipboard>\r\n            <TwitterShareButton\r\n                url={props.url}\r\n                title={JSON.stringify(props.message)}\r\n                via=\"Fizzbee\"\r\n                className=\"text-decoration-none px-2 mx-1 \"\r\n                style={{\r\n                    color: 'var(--text-primary)',\r\n                }}\r\n            >\r\n                <TwitterIcon />\r\n            </TwitterShareButton>\r\n\r\n            <WhatsappShareButton\r\n                url={props.url}\r\n                title={JSON.stringify(props.message)}\r\n                className=\"text-decoration-none px-2 mx-1 \"\r\n                style={{\r\n                    color: 'var(--text-primary)',\r\n                }}\r\n            >\r\n                <WhatsAppIcon />\r\n            </WhatsappShareButton>\r\n\r\n            <TelegramShareButton\r\n                url={props.url}\r\n                title={JSON.stringify(props.message)}\r\n                className=\"text-decoration-none px-2 mx-1 \"\r\n                style={{\r\n                    color: 'var(--text-primary)',\r\n                }}\r\n            >\r\n                <TelegramIcon />\r\n            </TelegramShareButton>\r\n\r\n            <LinkedinShareButton\r\n                url={props.url}\r\n                title={JSON.stringify(props.message)}\r\n                summary=\"Hey, Join my party :), Suggest the next song! \"\r\n                className=\"text-decoration-none px-2 mx-1 \"\r\n                style={{\r\n                    color: 'var(--text-primary)',\r\n                }}\r\n            >\r\n                <LinkedinIcon />\r\n            </LinkedinShareButton>\r\n        </div>\r\n    );\r\n}\r\nexport default SocialShare;\r\n","import QueueMusicIcon from '@material-ui/icons/QueueMusic';\r\nimport LaunchIcon from '@material-ui/icons/Launch';\r\nimport DeleteForeverTwoToneIcon from '@material-ui/icons/DeleteForeverTwoTone';\r\nimport { useDispatch } from 'react-redux';\r\nimport {\r\n    setTrackToAdd,\r\n    toggleAddToPlaylist,\r\n} from '../../store/actions/app-actions';\r\n\r\nfunction PartyOptionsDropDown({ item, closeMenu, handleRemoveItem }) {\r\n    const dispatch = useDispatch();\r\n    const check = item?.album ? item : item?.track ? item.track : item;\r\n\r\n    const openInSpotify = (e) => {\r\n        window.open(\r\n            `https://open.spotify.com/track/${check.id}`,\r\n            '_blank' // <- This is what makes it open in a new window.\r\n        );\r\n        closeMenu();\r\n        e.stopPropagation();\r\n    };\r\n\r\n    const handleAddToPlaylist = (e) => {\r\n        dispatch(setTrackToAdd(check));\r\n        dispatch(toggleAddToPlaylist(true));\r\n        closeMenu();\r\n        e.stopPropagation();\r\n    };\r\n\r\n    const handleRemove = (e) => {\r\n        handleRemoveItem(check?.id);\r\n        e.stopPropagation();\r\n        closeMenu();\r\n    };\r\n    return (\r\n        <ul className=\"more-options-list\">\r\n            <li>\r\n                <button className=\"more-options-btn\" onClick={handleAddToPlaylist}>\r\n                    <QueueMusicIcon style={{ color: 'gray' }} fontSize=\"medium\" />\r\n                    <span className=\"ms-2\">Add to Playlist</span>\r\n                </button>\r\n            </li>\r\n\r\n            <li>\r\n                <button className=\"more-options-btn\" onClick={handleRemove}>\r\n                    <DeleteForeverTwoToneIcon\r\n                        style={{ color: 'gray' }}\r\n                        fontSize=\"medium\"\r\n                    />\r\n                    <span className=\"ms-2\">Remove</span>\r\n                </button>\r\n            </li>\r\n            <li>\r\n                <button className=\"more-options-btn\" onClick={openInSpotify}>\r\n                    <LaunchIcon style={{ color: 'gray' }} fontSize=\"medium\" />\r\n                    <span className=\"ms-2\">Open in Spotify</span>\r\n                </button>\r\n            </li>\r\n        </ul>\r\n    );\r\n}\r\nexport default PartyOptionsDropDown;\r\n","import MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport { useEffect, useRef, useState } from 'react';\r\nimport PartyOptionsDropDown from './partyOptionsDropdown';\r\n\r\nfunction PartyMoreOptions({ item, handleRemoveItem }) {\r\n    const [showDropDown, setShowDropDown] = useState(false);\r\n    const optionsRef = useRef();\r\n    useDetectOutsideClick(optionsRef, closeMenu);\r\n    function closeMenu() {\r\n        setShowDropDown(false);\r\n    }\r\n\r\n    function useDetectOutsideClick(ref, callback) {\r\n        useEffect(() => {\r\n\r\n            function handleClickOutside(event) {\r\n                if (ref.current && !ref.current.contains(event.target)) {\r\n                    callback();\r\n                }\r\n            }\r\n            function handleScroll() {\r\n                if (showDropDown) callback();\r\n            }\r\n\r\n            document.addEventListener('mousedown', handleClickOutside);\r\n            document.addEventListener('scroll', handleScroll, true);\r\n            return () => {\r\n                document.removeEventListener('mousedown', handleClickOutside);\r\n                document.removeEventListener('scroll', handleScroll);\r\n            };\r\n        }, [ref, callback]);\r\n    }\r\n\r\n    return (\r\n        <div className=\"more-btn-div\">\r\n            <button\r\n                className=\"more-btn\"\r\n                onClick={() => setShowDropDown(!showDropDown)}\r\n            >\r\n                <MoreVertIcon style={{ color: 'white' }} />\r\n            </button>\r\n\r\n            <div className={'more-options ' + (showDropDown && 'd-block')} ref={optionsRef}>\r\n                <PartyOptionsDropDown\r\n                    item={item}\r\n                    closeMenu={closeMenu}\r\n                    handleRemoveItem={handleRemoveItem}\r\n                />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\nexport default PartyMoreOptions;\r\n","import { getImage, millisToMinutesAndSeconds } from '../../utils/helperFunctions';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {\r\n    handlePlayPause,\r\n    playParty,\r\n} from '../../store/actions/spotify-actions';\r\nimport { SmallPlayButton } from '../../player/buttons';\r\nimport useCheckDevice from '../../utils/checkDevice';\r\nimport PartyMoreOptions from './partyMoreOptions';\r\n\r\n\r\nfunction UserPartyItem({ item, index, handleRemoveItem }) {\r\n    const { current } = useSelector((state) => state.player);\r\n    const playing = useSelector((state) => state.player.playing);\r\n    const dispatch = useDispatch();\r\n    const musicItem = item?.track ? item.track : item;\r\n    const isCurrent = current?.id === musicItem.id;\r\n    const { isMobile } = useCheckDevice();\r\n\r\n    const handlePlayingSong = () => {\r\n        if (isCurrent) {\r\n            dispatch(handlePlayPause());\r\n        } else {\r\n            handlePlay();\r\n        }\r\n    };\r\n\r\n    const handleClick = (e) => {\r\n        const tagNames = ['svg', 'path', 'button'];\r\n        const parent = ['button', 'more-btn', 'more-options-btn'];\r\n        if (tagNames.includes(e.target.tagName) || parent.includes(e.target.parentNode.className)) return;\r\n        if (!isMobile) return;\r\n        else {\r\n            handlePlay();\r\n        }\r\n    }\r\n\r\n    const handlePlay = () => {\r\n        dispatch(playParty(item));\r\n        handleRemoveItem(item.id);\r\n    };\r\n\r\n    return (\r\n        <div\r\n            key={index}\r\n            className={'p-t-container' + (isCurrent ? ' themeBG' : '')}\r\n            onClick={(e) => !isCurrent && handleClick(e)}\r\n        >\r\n            <div className=\"p-tracks-pic\">\r\n                <div className='p-tracks-pic-party'>\r\n                    <span className='ps-name'>{item.votes}</span>\r\n                    <img\r\n                        src={getImage(musicItem.album?.images, 'sm')}\r\n                        alt=\"music-album\"\r\n                        style={{ borderRadius: '10px' }}\r\n                    />\r\n                </div>\r\n            </div>\r\n            <div className='p-tracks-right' style={{ flex: '80% 1' }}>\r\n                <div className=\"p-tracks-info\">\r\n                    <span className=\"ps-name\">{musicItem.name}</span>\r\n                    <span className=\"text-secondary\">\r\n                        {musicItem?.artists.map(\r\n                            (item, index) => (index ? ', ' : '') + item.name\r\n                        )}\r\n                    </span>\r\n                </div>\r\n                <div className=\"p-tracks-album \">\r\n                    <span className=\"text-secondary h6\">{musicItem.album?.name}</span>\r\n                </div>\r\n                <div className=\"p-tracks-btn \">\r\n                    <PartyMoreOptions\r\n                        item={item}\r\n                        handleRemoveItem={handleRemoveItem}\r\n                    />\r\n                    <span className=\"text-secondary me-5 d-lg-block d-none\">\r\n                        {millisToMinutesAndSeconds(musicItem.duration_ms)}\r\n                    </span>\r\n                    <div className='p-tracks-play-btn'>\r\n                        <SmallPlayButton\r\n                            playing={playing}\r\n                            isCurrent={isCurrent}\r\n                            onClick={handlePlayingSong}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\nexport default UserPartyItem;\r\n","import SkeletonTracks from '../../skeletons/skeletonTracks';\r\nimport UserPartyItem from './userPartyItem';\r\nimport { removeFromParty } from '../../firebase/handlers';\r\n\r\nfunction UserPartyList({ list, votingId }) {\r\n    const handleRemoveItem = (id) => {\r\n        removeFromParty({ id: id, votingId: votingId });\r\n    }\r\n    return (\r\n        <div className=\" mt-3\">\r\n            <hr />\r\n            <div\r\n                className={'p-t-container'}\r\n            >\r\n                <div className=\"p-tracks-pic\">\r\n                    <span className='m-auto' style={{ color: 'var(--main-theme)' }}>Votes</span>\r\n                </div>\r\n                <div className='p-tracks-right' style={{ flex: '80% 1' }}>\r\n                    <div className=\"p-tracks-info\">\r\n                        <span className=\"ps-1\" style={{ color: 'var(--main-theme)' }}>Name</span>\r\n                    </div>\r\n                    <div className=\"p-tracks-album\">\r\n                        <span className=\"ps-1\" style={{ color: 'var(--main-theme)' }}>Album</span>\r\n                    </div>\r\n                    <div className=\"p-tracks-btn \">\r\n                        <span className='px-2' style={{ color: 'var(--main-theme)' }}>Tap</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <hr />\r\n\r\n            {list?.map((item, index) => (\r\n                <UserPartyItem\r\n                    key={index}\r\n                    index={index}\r\n                    item={item}\r\n                    handleRemoveItem={handleRemoveItem}\r\n                />\r\n            ))}\r\n            {!list && <SkeletonTracks />}\r\n        </div>\r\n    );\r\n}\r\nexport default UserPartyList;\r\n","import { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { setPartyId, setPartyMode } from '../../store/actions/player-actions';\r\nimport '../../styling/party.css'\r\nimport dotenv from 'dotenv';\r\nimport SocialShare from './partyShare';\r\nimport UserPartyList from './userPartyList';\r\nimport { setCurrentPlaylist } from '../../store/actions/library-actions';\r\nimport QRCode from 'qrcode.react';\r\nimport { setNotibar } from '../../store/actions/app-actions';\r\nimport { getParty, getPartyDetails } from '../../firebase/handlers';\r\n\r\n\r\ndotenv.config();\r\nconst { REACT_APP_ENDPOINT } = process.env;\r\n\r\nfunction Party() {\r\n    const dispatch = useDispatch();\r\n    const partyMode = useSelector((state) => state.player.partyMode);\r\n    const token = useSelector((state) => state.player.token)\r\n    const user = useSelector((state) => state.user.user);\r\n    const [data, setData] = useState();\r\n    const [playlist, setPlaylist] = useState();\r\n    const [showQR, setShowQR] = useState(false);\r\n    const ENDPOINT = REACT_APP_ENDPOINT || 'http://localhost:3000';\r\n\r\n\r\n    useEffect(() => {\r\n        if (!user?.id || !token) return;\r\n        getParty({ userId: user.id, username: user.display_name, partyOn: partyMode, token: token, setData: setData });\r\n        if (data) {\r\n            dispatch(setPartyId(data.votingId));\r\n        }\r\n    }, [user?.id, token, partyMode])\r\n\r\n    useEffect(() => {\r\n        if (data?.votingId) {\r\n            getPartyDetails({ votingId: data.votingId, setData: setPlaylist, user: true });\r\n        }\r\n    }, [data?.votingId])\r\n\r\n    useEffect(() => {\r\n        dispatch(setCurrentPlaylist(playlist))\r\n    }, [playlist])\r\n\r\n    const handlePartyMode = () => {\r\n        if (partyMode) {\r\n            dispatch(setPartyMode(!partyMode));\r\n            dispatch(setNotibar('Disabled party mode', true, 2500))\r\n        } else {\r\n            dispatch(setPartyMode(!partyMode));\r\n            dispatch(setNotibar('Enabled party mode', true, 2500))\r\n        }\r\n    }\r\n\r\n    const QR = () => (\r\n        < div\r\n            className=\"w-100 justify-content-center d-flex align-items-center position-fixed fixed-top\"\r\n            onClick={() => {\r\n                setShowQR(false);\r\n            }\r\n            }\r\n            style={{\r\n                height: '100%',\r\n                zIndex: 1,\r\n                backgroundColor: 'var(--main-theme-bg-lite)',\r\n            }}\r\n        >\r\n            <div className=\"d-flex flex-column align-items-center bg-white\">\r\n                <span className=\"font-weight-bold \">Scan QR Code</span>\r\n                <QRCode\r\n                    value={`${ENDPOINT}/joinme?at=${data?.votingId}`}\r\n                    size={290}\r\n                    level={'H'}\r\n                    includeMargin={true}\r\n                />\r\n            </div>\r\n        </div >\r\n    );\r\n\r\n    return (\r\n        <div className=\"display-cut\">\r\n            {showQR ? <QR /> : null}\r\n            <div className='power-container'>\r\n                <label className=\"power\">\r\n                    <input type=\"checkbox\" checked={partyMode || false} onClick={handlePartyMode} />\r\n                    <div>\r\n                        <ion-icon id='skull' style={{ color: partyMode ? 'var(--main-theme)' : 'grey' }} name=\"skull\"></ion-icon>\r\n                    </div>\r\n                </label>\r\n                <SocialShare votingId={data?.votingId} url={`${ENDPOINT}/joinme?at=${data?.votingId}`} message={\"Fizzbee: Welcome to my Party!\"} showQR={() => setShowQR(!showQR)} />\r\n            </div>\r\n            <div>\r\n                {playlist ? <UserPartyList list={playlist} votingId={data?.votingId} /> : null}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default Party;","import Sidebar from '../components/sidebar/sidebar';\r\nimport { useAuth } from './hooks/useAuth';\r\nimport { Route, Switch, useRouteMatch } from 'react-router-dom';\r\nimport '../App.css';\r\nimport Header from './header';\r\nimport Playlist from './routes/playlist';\r\nimport Artist from './routes/artist';\r\nimport Album from './routes/album';\r\nimport Bottombar from './sidebar/bottombar';\r\nimport Home from './player/home';\r\nimport SearchRouter from './player/search-router';\r\nimport LibraryRouter from './player/library-router';\r\nimport Settings from './player/settings';\r\nimport AddToPlaylist from './player/add-to-playlist';\r\nimport KeyboardShortcuts from './player/shortcuts';\r\nimport PlayerStatus from './utils/playerStatus';\r\nimport Queue from './player/queue';\r\nimport CategoryPage from './routes/category-page';\r\nimport UseSpotifyPlayer from './config/spotifyPlayer';\r\nimport Player from './player';\r\nimport { useSelector } from 'react-redux';\r\nimport React from 'react';\r\nimport whyDidYouUpdate from 'why-did-you-update';\r\nimport SetVisuals from './utils/visuals';\r\nimport { useLoadPlayerOnMount } from './hooks/useLoadPlayerOnMount';\r\nimport Suggestion from './windowSize';\r\nimport NotibarLayout from './player/notibar/notibarLayout';\r\nimport Party from './player/party/party.js';\r\n\r\nconst code = new URLSearchParams(window.location.search).get('code');\r\n\r\nfunction Homepage() {\r\n  useAuth(code);\r\n  useLoadPlayerOnMount();\r\n  const token = useSelector((state) => state.player.token);\r\n  let { path } = useRouteMatch();\r\n  const darkMode = useSelector((state) => state.app.darkMode);\r\n  //whyDidYouUpdate(React);\r\n\r\n  return (\r\n    <div className=\"homepage\" data-theme={darkMode ? 'dark' : 'light'}>\r\n      {token && <UseSpotifyPlayer />}\r\n      <PlayerStatus />\r\n      <NotibarLayout />\r\n      <SetVisuals />\r\n      <Sidebar />\r\n      <Suggestion />\r\n      <div className=\"player\">\r\n        <Header />\r\n        <Bottombar />\r\n        <Player />\r\n        <Switch>\r\n          <Route path={`${path}/search`} component={SearchRouter} />\r\n          <Route path={`${path}/library`} component={LibraryRouter} />\r\n          <Route path={`${path}/party`} component={Party} />\r\n          <Route path={`${path}/settings`} component={Settings} />\r\n          <Route path={`${path}/playlist/:id`} component={Playlist} />\r\n          <Route path={`${path}/artist/:id`} component={Artist} />\r\n          <Route path={`${path}/album/:id`} component={Album} />\r\n          <Route path={`${path}/category/:id`} component={CategoryPage} />\r\n          <Route path={`${path}`}>\r\n            <Home />\r\n          </Route>\r\n        </Switch>\r\n        <AddToPlaylist />\r\n        <KeyboardShortcuts />\r\n        <Queue />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default Homepage;\r\n","import Cookies from 'js-cookie';\r\nimport { useEffect } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { getNewAccessToken } from '../store/actions/spotify-actions';\r\n\r\nexport function useLoadPlayerOnMount() {\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    window.addEventListener('beforeunload', setCookieOnUnload);\r\n    return () => {\r\n      window.removeEventListener('beforeunload', setCookieOnUnload);\r\n    };\r\n  }, []);\r\n  const setCookieOnUnload = (e) => {\r\n    Cookies.set('userBackInOneHour', 'true', {\r\n      expires: 1 / 24,\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const userBackInOneHour = Cookies.get('userBackInOneHour');\r\n    if (!userBackInOneHour) {\r\n      dispatch(getNewAccessToken());\r\n    }\r\n  }, []);\r\n}\r\n","import { useState } from 'react';\r\nimport { loginUrl } from './config/spotify';\r\nimport FavoriteTwoToneIcon from '@material-ui/icons/FavoriteTwoTone';\r\n\r\nfunction Frontpage() {\r\n  const [selected, setSelected] = useState('holder-5');\r\n  return (\r\n    <div className=\"front-page\">\r\n      <div className=\"logo\">Fizzbee.</div>\r\n      <div className=\"login-div\">\r\n        <a className=\"login-link\" href={loginUrl}>\r\n          login with&nbsp;\r\n          <img src=\"spotify.png\" width=\"20\" alt=\"spotify-icon\" />\r\n        </a>\r\n      </div>\r\n      <div className=\"fpage-pic\">\r\n        <img src=\"f1.png\" altt=\"f-pic\" alt=\"demo-music\" />\r\n      </div>\r\n\r\n      <div className=\"about-holder\">\r\n        <div\r\n          className={`holder-1 ` + (selected === `holder-1` ? 'zf' : '')}\r\n          onClick={() => setSelected(`holder-1`)}\r\n        >\r\n          <img src={'about5.png'} alt=\"about1\" className=\"about-img\" />\r\n        </div>\r\n        {Array(4)\r\n          .fill()\r\n          .map((item, index) => (\r\n            <div\r\n              className={\r\n                `holder-` +\r\n                (index + 2) +\r\n                ' hold-pic ' +\r\n                (selected === `holder-` + (index + 2) ? 'zf' : '')\r\n              }\r\n              key={index}\r\n              onClick={() => setSelected(`holder-` + (index + 2))}\r\n            >\r\n              <img\r\n                src={`about${5 - (index + 1)}.png`}\r\n                alt=\"about1\"\r\n                className=\"about-img\"\r\n              />\r\n            </div>\r\n          ))}\r\n      </div>\r\n      <h5 className=\"made-by made-by-font\">\r\n        made with <FavoriteTwoToneIcon fontSize=\"small\" /> by\r\n        <a\r\n          href=\"https://www.linkedin.com/in/niraj-sharma-40132b165\"\r\n          className=\"ms-2 made-by-font\"\r\n        >\r\n          Niraj\r\n        </a>\r\n      </h5>\r\n    </div>\r\n  );\r\n}\r\nexport default Frontpage;\r\n","import AddCircleIcon from '@material-ui/icons/AddCircle';\r\nimport { useDispatch } from 'react-redux';\r\nimport { setNotibar } from '../../store/actions/app-actions';\r\nimport { getImage, millisToMinutesAndSeconds } from '../../utils/helperFunctions';\r\nimport { addPartySong } from '../../firebase/handlers';\r\n\r\nfunction PartySongs({ item, index, votingId, voteTrackCheck, handleVoteTrack }) {\r\n    const dispatch = useDispatch();\r\n\r\n    const showNotibar = (result) => {\r\n        if (result) {\r\n            dispatch(setNotibar('Request submitted', true, 7000));\r\n            handleVoteTrack(item.id);\r\n        } else {\r\n            dispatch(setNotibar('Error occurred', false, 7000));\r\n        }\r\n    }\r\n\r\n    const handleAdd = (e) => {\r\n        e.preventDefault();\r\n        addPartySong({ votingId: votingId, item: item, handleOp: showNotibar })\r\n    }\r\n\r\n    return (\r\n        <div\r\n            key={index}\r\n            className={'p-t-container'}\r\n        >\r\n            <div className=\"p-tracks-pic\">\r\n                <img\r\n                    src={getImage(item.album?.images, 'sm')}\r\n                    alt=\"music-album\"\r\n                    style={{ borderRadius: '10px', width: '50px' }}\r\n                />\r\n            </div>\r\n            <div className='p-tracks-right'>\r\n                <div className=\"p-tracks-info\" >\r\n                    <span className=\"ps-name\">{item.name}</span>\r\n                    <span className=\"text-secondary\">\r\n                        {item?.artists.map(\r\n                            (item, index) => (index ? ', ' : '') + item.name\r\n                        )}\r\n                    </span>\r\n                </div>\r\n                <div className=\"p-tracks-album \">\r\n                    <span className=\"text-secondary h6\">{item.album?.name}</span>\r\n                </div>\r\n                <div className=\"p-tracks-btn \">\r\n                    <span className=\"text-secondary me-5 d-lg-block d-none\">\r\n                        {millisToMinutesAndSeconds(item.duration_ms)}\r\n                    </span>\r\n                    <div className='p-tracks-play-btn'>\r\n                        <button className='t-btn' onClick={handleAdd} disabled={voteTrackCheck}>\r\n                            <AddCircleIcon\r\n                                style={{ color: voteTrackCheck ? 'grey' : 'var(--main-theme)' }}\r\n                            />\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\nexport default PartySongs;\r\n","import AddCircleIcon from '@material-ui/icons/AddCircle';\r\nimport { useDispatch } from 'react-redux';\r\nimport { addPartySong } from '../../firebase/handlers';\r\nimport { setNotibar } from '../../store/actions/app-actions';\r\nimport { getImage, millisToMinutesAndSeconds } from '../../utils/helperFunctions';\r\n\r\n\r\nfunction GuestRankedSongs({ item, index, votingId, voteTrackCheck, handleVoteTrack }) {\r\n    const dispatch = useDispatch();\r\n\r\n    const showNotibar = (result) => {\r\n        if (result) {\r\n            dispatch(setNotibar('Request submitted', true, 7000));\r\n            handleVoteTrack(item.id);\r\n        } else {\r\n            dispatch(setNotibar('Error occurred', false, 7000));\r\n        }\r\n    }\r\n\r\n    const handleAdd = (e) => {\r\n        e.preventDefault();\r\n        addPartySong({ votingId: votingId, item: item, handleOp: showNotibar })\r\n    }\r\n\r\n    return (\r\n        <div\r\n            key={index}\r\n            className={'p-t-container'}\r\n        >\r\n            <div className=\"p-tracks-pic\">\r\n                <div className='p-tracks-pic-party'>\r\n                    <span className='ps-name'>{item.votes}</span>\r\n                    <img\r\n                        src={getImage(item.album?.images, 'sm')}\r\n                        alt=\"music-album\"\r\n                        style={{ borderRadius: '10px' }}\r\n                    />\r\n                </div>\r\n            </div>\r\n            <div className='p-tracks-right' style={{ flex: '80% 1' }}>\r\n                <div className=\"p-tracks-info\">\r\n                    <span className=\"ps-name\">{item.name}</span>\r\n                    <span className=\"text-secondary\">\r\n                        {item?.artists.map(\r\n                            (item, index) => (index ? ', ' : '') + item.name\r\n                        )}\r\n                    </span>\r\n                </div>\r\n                <div className=\"p-tracks-album\">\r\n                    <span className=\"text-secondary h6\">{item.album?.name}</span>\r\n                </div>\r\n                <div className=\"p-tracks-btn \">\r\n                    <span className=\"text-secondary me-5 d-lg-block d-none\">\r\n                        {millisToMinutesAndSeconds(item.duration_ms)}\r\n                    </span>\r\n                    <div className='p-tracks-play-btn'>\r\n                        <button className='t-btn' onClick={handleAdd} disabled={voteTrackCheck}>\r\n                            <AddCircleIcon\r\n                                style={{ color: voteTrackCheck ? 'grey' : 'var(--main-theme)' }}\r\n                            />\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\nexport default GuestRankedSongs;\r\n","import axios from 'axios';\r\nimport { useEffect, useState } from 'react';\r\nimport dotenv from 'dotenv';\r\nimport '../../../App.css';\r\nimport '../../styling/party.css'\r\nimport { TextField } from '@material-ui/core';\r\nimport PartySongs from './partySongs';\r\nimport GuestRankedSongs from './guestRankedSongs';\r\nimport NotibarLayout from '../notibar/notibarLayout';\r\nimport { endParty, getPartyDetails } from '../../firebase/handlers';\r\n\r\ndotenv.config();\r\nconst { REACT_APP_API_ENDPOINT } = process.env;\r\nconst at = new URLSearchParams(window.location.search).get('at');\r\n\r\nfunction VotingPage() {\r\n    const [data, setData] = useState();\r\n    const [form, setForm] = useState();\r\n    const [songs, setSongs] = useState();\r\n    const [voteTrack, setVoteTrack] = useState([]);\r\n\r\n    const API_ENDPOINT = REACT_APP_API_ENDPOINT || '';\r\n\r\n    useEffect(() => {\r\n        if (!at) return;\r\n        getPartyDetails({ votingId: at, setData: setData })\r\n    }, [at, API_ENDPOINT])\r\n\r\n    useEffect(() => {\r\n        if (!at) return;\r\n        let local = window.localStorage.getItem(at);\r\n        if (local) {\r\n            setVoteTrack(JSON.parse(window.localStorage.getItem(at)));\r\n        }\r\n    }, [])\r\n    useEffect(() => {\r\n        window.localStorage.setItem(at, JSON.stringify(voteTrack));\r\n    }, [voteTrack])\r\n\r\n    const handleVoteTrack = (id) => {\r\n        setVoteTrack(voteTrack => [...voteTrack, id])\r\n    }\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        axios({\r\n            method: 'POST',\r\n            data: { songName: form, token: data.token, votingId: at },\r\n            url: `${API_ENDPOINT}/getSongInfo`\r\n        }).then((res) => {\r\n            if (res.data)\r\n                setSongs(res.data);\r\n            else\r\n                endParty(at);\r\n        }).catch((err) => {\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className='voting-outer' style={{ backgroundImage: 'url(party2.jpg', backgroundSize: 'cover' }}>\r\n            <NotibarLayout />\r\n            <a href='/' className=\"logo text-decoration-none\">Fizzbee.</a>\r\n            {data?.partyOn ? <div className='message'>\r\n                <span style={{ color: 'rgb(0, 255, 127)' }}>Hey,</span>\r\n                <span>Welcome to the Party!</span>\r\n                <span>Please suggest me the next song..</span>\r\n                <span>Thanks,</span>\r\n                <span style={{ color: 'rgb(0, 255, 127)' }}>{data ? data.username : 'fizzbee'}</span>\r\n            </div> : <div className='message'>\r\n                <span style={{ color: 'rgb(0, 255, 127)' }}>Hey,</span>\r\n                <span>You arrived late</span>\r\n                <span>The Party is over..</span>\r\n                <span>Sorry,</span>\r\n                <span style={{ color: 'rgb(0, 255, 127)' }}>{data ? data.username : 'fizzbee'}</span>\r\n            </div>}\r\n            <div hidden={!data?.partyOn}\r\n                className=\"voting-list-outer\">\r\n                <form className='textfield-outer' onSubmit={handleSubmit} autoComplete=\"true\">\r\n                    <TextField\r\n                        name=\"question\"\r\n                        multiline={true}\r\n                        className=\"voting-textfield\"\r\n                        placeholder=\"Songname..\"\r\n                        value={form}\r\n                        onChange={(e) => setForm(e.target.value)}\r\n                        required\r\n                    />\r\n                    <button type='submit'>Search</button>\r\n                </form>\r\n                <div hidden={!songs}>\r\n                    <hr />\r\n                    <span className='section-heading'>Search Results</span>\r\n                    <hr />\r\n                    <div\r\n                        className='guest-ranked-list'\r\n                    >\r\n                        {songs?.map((item, index) => (\r\n                            <PartySongs key={index} item={item} index={index} votingId={at} voteTrackCheck={voteTrack?.includes(item.id)} handleVoteTrack={handleVoteTrack} />\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n                <div hidden={!data?.playlist}>\r\n                    <hr />\r\n                    <span className='section-heading'>Live playlist</span>\r\n                    <hr />\r\n                    <div className='guest-ranked-list'>\r\n                        <div\r\n                            className={'p-t-container'}\r\n                        >\r\n                            <div className=\"p-tracks-pic\">\r\n                                <span className='m-auto' style={{ color: 'var(--main-theme)' }}>Votes</span>\r\n\r\n                            </div>\r\n                            <div className='p-tracks-right' style={{ flex: '80% 1' }}>\r\n                                <div className=\"p-tracks-info\">\r\n                                    <span className=\"ps-1\" style={{ color: 'var(--main-theme)' }}>Name</span>\r\n                                </div>\r\n                                <div className=\"p-tracks-album\">\r\n                                    <span className=\"ps-1\" style={{ color: 'var(--main-theme)' }}>Album</span>\r\n                                </div>\r\n                                <div className=\"p-tracks-btn \">\r\n                                    <span className='px-2' style={{ color: 'var(--main-theme)' }}>+1</span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        {data?.playlist?.map((item, index) => (\r\n                            <GuestRankedSongs key={index} item={item} index={index} votingId={at} voteTrackCheck={voteTrack?.includes(item.id)} handleVoteTrack={handleVoteTrack} />\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default VotingPage;","import '../node_modules/bootstrap/dist/css/bootstrap.min.css';\nimport './App.css';\nimport Homepage from './components/homepage';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport Frontpage from './components/frontpage';\nimport VotingPage from './components/player/party/voting-page';\n\nfunction App() {\n  return (\n    <Router>\n      <div className=\"App\">\n        <Switch>\n          <Route exact path=\"/\"><Frontpage /></Route>\n          <Route path=\"/joinme\"><VotingPage /></Route>\n          <Route path=\"/app\"> <Homepage /></Route>\n        </Switch>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import {\r\n  SET_CURRENT_PLAYLIST,\r\n  SET_PLAYLIST,\r\n  NEW_RELEASES,\r\n  MY_TOP_TRACKS,\r\n  SET_FEATURED_PLAYLIST,\r\n  SET_BOLLYWOOD_HITS,\r\n  SET_BOLLYWOOD_NEW,\r\n  SET_CATEGORIES,\r\n  SET_MY_TOP_ARTISTS,\r\n  SET_MY_ARTISTS_RECOMMENDATIONS,\r\n  SET_ARTISTS,\r\n  NEW_RELEASES_TILE,\r\n} from '../types';\r\n\r\nconst initialState = {\r\n  playlist: null,\r\n  currentPlaylist: null,\r\n  newReleases: null,\r\n  newReleasesTile: 0,\r\n  mytoptracks: null,\r\n  featuredPlaylists: null,\r\n  myTopArtists: null,\r\n  categories: null,\r\n  bollywoodHits: null,\r\n  bollywoodNew: null,\r\n  recommendations: null,\r\n  followedArtists: null,\r\n};\r\nexport default function (state = initialState, action) {\r\n  switch (action.type) {\r\n    case SET_PLAYLIST:\r\n      return {\r\n        ...state,\r\n        playlist: action.playlist,\r\n      };\r\n    case SET_CURRENT_PLAYLIST:\r\n      return {\r\n        ...state,\r\n        currentPlaylist: action.list,\r\n      };\r\n    case NEW_RELEASES:\r\n      return {\r\n        ...state,\r\n        newReleases: action.newReleases,\r\n      };\r\n    case NEW_RELEASES_TILE:\r\n      return {\r\n        ...state,\r\n        newReleasesTile: action.index,\r\n      };\r\n    case MY_TOP_TRACKS:\r\n      return {\r\n        ...state,\r\n        mytoptracks: action.mytoptracks,\r\n      };\r\n    case SET_FEATURED_PLAYLIST:\r\n      return {\r\n        ...state,\r\n        featuredPlaylists: action.featuredPlaylists,\r\n      };\r\n    case SET_BOLLYWOOD_HITS:\r\n      return {\r\n        ...state,\r\n        bollywoodHits: action.bollywoodHits,\r\n      };\r\n    case SET_BOLLYWOOD_NEW:\r\n      return {\r\n        ...state,\r\n        bollywoodNew: action.bollywoodNew,\r\n      };\r\n    case SET_CATEGORIES:\r\n      return {\r\n        ...state,\r\n        categories: action.categories,\r\n      };\r\n    case SET_MY_TOP_ARTISTS:\r\n      return {\r\n        ...state,\r\n        myTopArtists: action.myTopArtists,\r\n      };\r\n\r\n    case SET_MY_ARTISTS_RECOMMENDATIONS:\r\n      return {\r\n        ...state,\r\n        recommendations: action.recommendations,\r\n      };\r\n    case SET_ARTISTS:\r\n      return {\r\n        ...state,\r\n        followedArtists: action.followedArtists,\r\n      };\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n}\r\n","import {\r\n  SET_NOTIBAR,\r\n  SET_NOTIBAR_TYPE,\r\n  SET_NOTIBAR_POS,\r\n  SET_ALBUM_BG,\r\n  SET_DARKMODE,\r\n  SET_TRACK_TO_ADD,\r\n  TOGGLE_ADD_TO_PLAYLIST,\r\n  TOGGLE_KEYBOARD,\r\n  TOGGLE_QUEUE,\r\n  TOGGLE_MY_DEVICES,\r\n  TOGGLE_COLOR_PALETTE,\r\n  TOGGLE_HANDEDNESS,\r\n  SET_HOME_SLIDER_TYPE,\r\n  SET_HOME_SLIDER_AUTOPLAY,\r\n  SET_HOME_SLIDER_DELAY,\r\n  SET_HEADER_INVERT,\r\n  SET_HEADER_COLLAPSE,\r\n  SET_HEADER_HIDE,\r\n  SET_APP_BACKGROUND,\r\n  SET_APP_BACKGROUND_BLUR\r\n} from '../types';\r\n\r\nconst initialState = {\r\n  albumBackground: false,\r\n  darkMode: window.localStorage.getItem('darkMode')\r\n    ? JSON.parse(window.localStorage.getItem('darkMode'))\r\n    : true,\r\n  colorpalette: true,\r\n  handedness: window.localStorage.getItem('handedness')\r\n    ? JSON.parse(window.localStorage.getItem('handedness'))\r\n    : true,\r\n  notibar: {\r\n    msg: null,\r\n    type: false,\r\n    delay: 7000,\r\n  },\r\n  notibarType: window.localStorage.getItem('notibarType')\r\n    ? JSON.parse(window.localStorage.getItem('notibarType'))\r\n    : 0,\r\n  notibarPos: window.localStorage.getItem('notibarPos')\r\n    ? JSON.parse(window.localStorage.getItem('notibarPos'))\r\n    : 0,\r\n  headerInvert: window.localStorage.getItem('headerInvert')\r\n    ? JSON.parse(window.localStorage.getItem('headerInvert'))\r\n    : false,\r\n  headerHide: window.localStorage.getItem('headerHide')\r\n    ? JSON.parse(window.localStorage.getItem('headerHide'))\r\n    : false,\r\n  headerCollapse: window.localStorage.getItem('headerCollapse')\r\n    ? JSON.parse(window.localStorage.getItem('headerCollapse'))\r\n    : true,\r\n  appBackground: window.localStorage.getItem('appBackground')\r\n    ? JSON.parse(window.localStorage.getItem('appBackground'))\r\n    : '',\r\n  appBackgroundBlur: window.localStorage.getItem('appBackgroundBlur')\r\n    ? JSON.parse(window.localStorage.getItem('appBackgroundBlur'))\r\n    : '3',\r\n  settings: {\r\n    isAddToPlaylistOpen: false,\r\n    trackToAdd: null,\r\n    isKeyboard: false,\r\n    isQueue: false,\r\n    isDevices: false,\r\n  },\r\n  homeSlider: {\r\n    sliderType: window.localStorage.getItem('sliderType')\r\n      ? JSON.parse(window.localStorage.getItem('sliderType'))\r\n      : 0,\r\n    autoPlay: window.localStorage.getItem('autoPlay')\r\n      ? JSON.parse(window.localStorage.getItem('autoPlay'))\r\n      : true,\r\n    autoPlayDelay: window.localStorage.getItem('autoPlayDelay')\r\n      ? JSON.parse(window.localStorage.getItem('autoPlayDelay'))\r\n      : 2.5,\r\n  }\r\n};\r\n\r\nexport default function (state = initialState, action) {\r\n  switch (action.type) {\r\n    case SET_DARKMODE:\r\n      return {\r\n        ...state,\r\n        darkMode: action.darkMode,\r\n      };\r\n    case TOGGLE_COLOR_PALETTE:\r\n      return {\r\n        ...state,\r\n        colorpalette: action.colorpalette,\r\n      };\r\n    case SET_APP_BACKGROUND:\r\n      return {\r\n        ...state,\r\n        appBackground: action.appBackground,\r\n      }\r\n    case SET_APP_BACKGROUND_BLUR:\r\n      return {\r\n        ...state,\r\n        appBackgroundBlur: action.appBackgroundBlur,\r\n      }\r\n    case SET_NOTIBAR:\r\n      return {\r\n        ...state,\r\n        notibar: {\r\n          ...state.notibar,\r\n          msg: action.msg,\r\n          type: action.msgType,\r\n          delay: action.delay,\r\n        },\r\n      };\r\n    case SET_NOTIBAR_TYPE:\r\n      return {\r\n        ...state,\r\n        notibarType: action.notibarType,\r\n      };\r\n    case SET_NOTIBAR_POS:\r\n      return {\r\n        ...state,\r\n        notibarPos: action.notibarPos,\r\n      };\r\n    case SET_HEADER_INVERT:\r\n      return {\r\n        ...state,\r\n        headerInvert: action.headerInvert,\r\n      };\r\n    case SET_HEADER_HIDE:\r\n      return {\r\n        ...state,\r\n        headerHide: action.headerHide,\r\n      };\r\n    case SET_HEADER_COLLAPSE:\r\n      return {\r\n        ...state,\r\n        headerCollapse: action.headerCollapse,\r\n      };\r\n    case SET_ALBUM_BG:\r\n      return {\r\n        ...state,\r\n        albumBackground: action.show,\r\n      };\r\n\r\n    case SET_TRACK_TO_ADD:\r\n      return {\r\n        ...state,\r\n        settings: {\r\n          ...state.settings,\r\n          trackToAdd: action.trackToAdd,\r\n        },\r\n      };\r\n\r\n    case TOGGLE_ADD_TO_PLAYLIST:\r\n      return {\r\n        ...state,\r\n        settings: {\r\n          ...state.settings,\r\n          isAddToPlaylistOpen: action.show,\r\n        },\r\n      };\r\n    case SET_HOME_SLIDER_TYPE:\r\n      return {\r\n        ...state,\r\n        homeSlider: {\r\n          ...state.homeSlider,\r\n          sliderType: action.sliderType,\r\n        },\r\n      };\r\n    case SET_HOME_SLIDER_AUTOPLAY:\r\n      return {\r\n        ...state,\r\n        homeSlider: {\r\n          ...state.homeSlider,\r\n          autoPlay: action.autoPlay,\r\n        },\r\n      };\r\n    case SET_HOME_SLIDER_DELAY:\r\n      return {\r\n        ...state,\r\n        homeSlider: {\r\n          ...state.homeSlider,\r\n          autoPlayDelay: action.autoPlayDelay\r\n        },\r\n      };\r\n\r\n    case TOGGLE_KEYBOARD:\r\n      return {\r\n        ...state,\r\n        settings: {\r\n          ...state.settings,\r\n          isKeyboard: action.show,\r\n        },\r\n      };\r\n\r\n    case TOGGLE_QUEUE:\r\n      return {\r\n        ...state,\r\n        settings: {\r\n          ...state.settings,\r\n          isQueue: action.show,\r\n        },\r\n      };\r\n\r\n    case TOGGLE_MY_DEVICES:\r\n      return {\r\n        ...state,\r\n        settings: {\r\n          ...state.settings,\r\n          isDevices: action.show,\r\n        },\r\n      };\r\n\r\n    case TOGGLE_HANDEDNESS:\r\n      return {\r\n        ...state,\r\n        handedness: action.handedness,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import {\r\n  SET_TOKEN,\r\n  SET_PLAYING,\r\n  SET_SHUFFLE,\r\n  SET_REPEAT,\r\n  SET_DEVICE_ID,\r\n  SET_POSITION,\r\n  SET_CURRENT,\r\n  SET_MUTED,\r\n  SET_VC_LANG,\r\n  SET_MIN_TYPE,\r\n  SET_MAX_TYPE,\r\n  SET_SIDEBAR_TYPE,\r\n  SET_PLAYER_READY,\r\n  SET_THEME,\r\n  SET_LYRICS,\r\n  SET_FONT,\r\n  SET_CURRENT_TILE_ID,\r\n  SET_EXPIRES_IN,\r\n  SET_PREMIUM,\r\n  SET_ISLANDDOUBLE_TYPE,\r\n  SET_ISLAND_POS,\r\n  SET_ISLAND_SWIPE_LEFT,\r\n  SET_ISLAND_SWIPE_RIGHT,\r\n  SET_ISLAND_LONG_PRESS,\r\n  SET_PARTY_MODE,\r\n  SET_PARTY_ID\r\n} from '../types';\r\nexport const initialState = {\r\n  token: window.localStorage.getItem('token'),\r\n  expiresIn: null,\r\n  playing: false,\r\n  isPremium: true,\r\n  position_ms: 0,\r\n  isShuffle: false,\r\n  repeatMode: 0,\r\n  theme: JSON.parse(window.localStorage.getItem('theme'))\r\n    ? JSON.parse(window.localStorage.getItem('theme'))\r\n    : '#00FF7F',\r\n  font: window.localStorage.getItem('font')\r\n    ? window.localStorage.getItem('font')\r\n    : \"'Shadows Into Light', cursive\",\r\n  lyrics: null,\r\n  deviceId: null,\r\n  playerReady: false,\r\n  isMuted: false,\r\n  vcLang: 'en-IN',\r\n  current: null,\r\n  currentTileId: null,\r\n  minplayertype: window.localStorage.getItem('min')\r\n    ? JSON.parse(window.localStorage.getItem('min'))\r\n    : 1,\r\n  maxplayertype: window.localStorage.getItem('max')\r\n    ? JSON.parse(window.localStorage.getItem('max'))\r\n    : 0,\r\n  sideBartype: window.localStorage.getItem('sideBar')\r\n    ? JSON.parse(window.localStorage.getItem('sideBar'))\r\n    : 1,\r\n  islandDouble: window.localStorage.getItem('islandDouble')\r\n    ? JSON.parse(window.localStorage.getItem('islandDouble'))\r\n    : 0,\r\n  islandPos: window.localStorage.getItem('islandPos')\r\n    ? JSON.parse(window.localStorage.getItem('islandPos'))\r\n    : 0,\r\n  islandSwipeLeft: window.localStorage.getItem('islandSwipeLeft')\r\n    ? JSON.parse(window.localStorage.getItem('islandSwipeLeft'))\r\n    : 1,\r\n  islandSwipeRight: window.localStorage.getItem('islandSwipeRight')\r\n    ? JSON.parse(window.localStorage.getItem('islandSwipeRight'))\r\n    : 2,\r\n  islandLongPress: window.localStorage.getItem('islandLongPress')\r\n    ? JSON.parse(window.localStorage.getItem('islandLongPress'))\r\n    : 0,\r\n  partyMode: window.localStorage.getItem('partyMode')\r\n    ? JSON.parse(window.localStorage.getItem('partyMode'))\r\n    : false,\r\n  partyId: window.localStorage.getItem('partyId')\r\n    ? JSON.parse(window.localStorage.getItem('partyId'))\r\n    : null,\r\n};\r\n\r\nexport default function (state = initialState, action) {\r\n  switch (action.type) {\r\n    case SET_TOKEN:\r\n      return {\r\n        ...state,\r\n        token: action.token,\r\n      };\r\n    case SET_EXPIRES_IN:\r\n      return {\r\n        ...state,\r\n        expiresIn: action.expiresIn,\r\n      };\r\n    case SET_PLAYING: {\r\n      return {\r\n        ...state,\r\n        playing: action.playing,\r\n      };\r\n    }\r\n    case SET_SHUFFLE: {\r\n      return {\r\n        ...state,\r\n        isShuffle: action.shuffle,\r\n      };\r\n    }\r\n    case SET_REPEAT: {\r\n      return {\r\n        ...state,\r\n        repeatMode: action.repeatMode,\r\n      };\r\n    }\r\n    case SET_DEVICE_ID: {\r\n      return {\r\n        ...state,\r\n        deviceId: action.deviceId,\r\n      };\r\n    }\r\n    case SET_POSITION:\r\n      return {\r\n        ...state,\r\n        position_ms: action.position,\r\n      };\r\n    case SET_CURRENT: {\r\n      return {\r\n        ...state,\r\n        current: action.current,\r\n      };\r\n    }\r\n    case SET_CURRENT_TILE_ID: {\r\n      return {\r\n        ...state,\r\n        currentTileId: action.id,\r\n      };\r\n    }\r\n    case SET_MUTED: {\r\n      return {\r\n        ...state,\r\n        isMuted: action.isMuted,\r\n      };\r\n    }\r\n    case SET_VC_LANG: {\r\n      return {\r\n        ...state,\r\n        vcLang: action.lang,\r\n      };\r\n    }\r\n    case SET_MIN_TYPE:\r\n      return {\r\n        ...state,\r\n        minplayertype: action.minplayertype,\r\n      };\r\n    case SET_MAX_TYPE:\r\n      return {\r\n        ...state,\r\n        maxplayertype: action.maxplayertype,\r\n      };\r\n    case SET_ISLANDDOUBLE_TYPE:\r\n      return {\r\n        ...state,\r\n        islandDouble: action.islandDouble,\r\n      };\r\n    case SET_ISLAND_POS:\r\n      return {\r\n        ...state,\r\n        islandPos: action.islandPos,\r\n      };\r\n    case SET_ISLAND_SWIPE_LEFT:\r\n      return {\r\n        ...state,\r\n        islandSwipeLeft: action.islandSwipeLeft,\r\n      };\r\n    case SET_ISLAND_SWIPE_RIGHT:\r\n      return {\r\n        ...state,\r\n        islandSwipeRight: action.islandSwipeRight,\r\n      };\r\n    case SET_ISLAND_LONG_PRESS:\r\n      return {\r\n        ...state,\r\n        islandLongPress: action.islandLongPress,\r\n      };\r\n    case SET_PARTY_MODE:\r\n      return {\r\n        ...state,\r\n        partyMode: action.partyMode,\r\n      };\r\n    case SET_PARTY_ID:\r\n      return {\r\n        ...state,\r\n        partyId: action.partyId,\r\n      };\r\n    case SET_SIDEBAR_TYPE:\r\n      return {\r\n        ...state,\r\n        sideBartype: action.sideBartype,\r\n      };\r\n    case SET_PLAYER_READY:\r\n      return {\r\n        ...state,\r\n        playerReady: action.playerReady,\r\n      };\r\n    case SET_PREMIUM:\r\n      return {\r\n        ...state,\r\n        isPremium: action.isPremium,\r\n      };\r\n    case SET_THEME:\r\n      return {\r\n        ...state,\r\n        theme: action.theme,\r\n      };\r\n    case SET_LYRICS:\r\n      return {\r\n        ...state,\r\n        lyrics: action.lyrics,\r\n      };\r\n    case SET_FONT:\r\n      return {\r\n        ...state,\r\n        font: action.font,\r\n      };\r\n\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n}\r\n","import { SET_MY_DEVICES, SET_USER } from '../types';\r\n\r\nconst initialState = {\r\n  user: null,\r\n  mydevices: null,\r\n};\r\n\r\nexport default function (state = initialState, action) {\r\n  switch (action.type) {\r\n    case SET_USER:\r\n      return {\r\n        ...state,\r\n        user: action.user,\r\n      };\r\n    case SET_MY_DEVICES:\r\n      return {\r\n        ...state,\r\n        mydevices: action.mydevices,\r\n      };\r\n\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n}\r\n","import { combineReducers } from 'redux';\r\nimport libraryReducer from './reducers/libraryReducer';\r\nimport appReducer from './reducers/app-reducer';\r\nimport playerReducer from './reducers/playerReducer';\r\nimport userReducer from './reducers/userReducer';\r\n\r\nconst rootReducer = combineReducers({\r\n  library: libraryReducer,\r\n  app: appReducer,\r\n  player: playerReducer,\r\n  user: userReducer,\r\n});\r\n\r\nexport default (state, action) => {\r\n  return rootReducer(state, action);\r\n};\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\nimport { Provider } from 'react-redux';\nimport configureStore from './components/store/store';\n\nconst ProviderComponent = () => {\n  const store = configureStore();\n  return (\n    <Provider store={store}>\n      <App />\n    </Provider>\n  );\n};\n\nReactDOM.render(<ProviderComponent />, document.getElementById('root'));\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://cra.link/PWA\nserviceWorkerRegistration.register();","import { applyMiddleware, createStore } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport rootReducer from '.';\r\n\r\nexport default function configureStore() {\r\n  return createStore(rootReducer, applyMiddleware(thunk));\r\n}\r\n"],"sourceRoot":""}